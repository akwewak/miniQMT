2025-05-18 10:57:13,876 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:13,899 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:13,901 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:13,901 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:13,903 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:13,905 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:14,157 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:15,706 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:17,278 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:17,948 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:19,982 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:20,998 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:21,985 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:23,953 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:57:23,986 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:23,988 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:23,989 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:23,992 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:23,994 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:23,996 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:23,997 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:23,998 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:24,000 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:24,002 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:24,003 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:24,007 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:24,011 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:24,120 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:26,049 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:27,283 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:28,050 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:29,768 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 10:57:30,053 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:30,481 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:32,056 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:32,666 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 10:57:33,589 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,049 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:57:34,082 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:34,093 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,097 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,101 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,103 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,106 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,107 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,117 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,121 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,123 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,123 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,125 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:34,126 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:36,093 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:36,670 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:36,848 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 10:57:38,095 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:39,900 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:40,704 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:42,165 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 10:57:42,719 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:43,720 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,708 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:57:44,736 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:44,738 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,743 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,745 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,747 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,749 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,751 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,753 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,754 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,756 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,767 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,769 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:44,784 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:46,742 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:46,876 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:48,744 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:49,948 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:50,745 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:52,748 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:53,041 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:54,752 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:54,895 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:57:55,001 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,005 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,006 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,009 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,010 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,012 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,014 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,018 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,019 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,021 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,022 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:55,024 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:56,263 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:57:56,757 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:58,760 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:57:59,349 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:00,762 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:02,571 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:02,766 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:04,772 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:05,770 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:58:05,771 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,944 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,969 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,971 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,971 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,973 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,981 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,989 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:05,990 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:06,012 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:06,023 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:06,033 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:06,119 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:06,773 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:08,776 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:08,988 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:10,780 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:12,124 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:12,783 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:14,785 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:15,223 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,136 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:58:16,163 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,165 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,167 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,168 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,170 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,173 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,175 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,176 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,177 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,179 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,181 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,183 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:16,787 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:18,311 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:18,789 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:20,792 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:21,377 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:22,795 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:24,471 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:24,797 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:26,224 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:58:26,256 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,261 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,262 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,264 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,266 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,268 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,269 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,270 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,272 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,273 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,274 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,276 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:26,800 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:27,757 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:28,805 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:30,808 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:30,851 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:32,811 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:33,993 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:34,814 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:36,378 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:58:36,404 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,408 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,418 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,430 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,441 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,458 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,465 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,473 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,478 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,482 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,489 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,492 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:36,816 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:37,126 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:38,818 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:40,203 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:40,819 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:42,734 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 10:58:42,824 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:43,294 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:44,845 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:45,667 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 10:58:46,463 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,592 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:58:46,657 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,659 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,661 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,663 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,666 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,669 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,670 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,674 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,677 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,679 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,681 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,683 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:46,833 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 10:58:46,847 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:48,853 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:49,777 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:50,859 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:52,230 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 10:58:52,861 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:53,097 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:54,863 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:56,242 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,708 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:58:56,729 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,735 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,740 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,745 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,752 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,757 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,760 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,766 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,776 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,781 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,786 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,799 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:58:56,913 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:58,920 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:58:59,317 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:00,921 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:02,526 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:02,924 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:04,927 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:05,599 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,808 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:59:06,836 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,838 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,840 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,842 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,845 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,846 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,848 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,850 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,851 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,853 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,855 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,857 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:06,932 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:08,707 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:08,938 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:10,940 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:11,805 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:12,945 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:14,921 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:14,977 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:16,863 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:59:16,890 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,892 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,894 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,897 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,899 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,900 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,902 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,903 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,905 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,907 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,908 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:16,910 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:17,039 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:18,069 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:19,044 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:21,046 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:21,160 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:23,047 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:24,363 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:25,050 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:26,916 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:59:26,942 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,944 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,945 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,948 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,950 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,952 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,953 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,956 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,958 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,959 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,961 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:26,963 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:27,057 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:27,493 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:29,069 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:30,627 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:31,072 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:33,077 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:33,834 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:35,079 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:36,977 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,085 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:59:37,089 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:37,246 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,247 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,248 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,251 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,253 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,254 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,259 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,268 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,274 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,276 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,278 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:37,300 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:39,109 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:40,075 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:41,112 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:43,114 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:43,223 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:45,116 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:46,422 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,118 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:47,352 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:59:47,380 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,383 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,385 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,387 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,389 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,390 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,393 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,394 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,395 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,397 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,398 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:47,399 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:49,120 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:49,508 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:51,123 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:52,720 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:52,778 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 10:59:53,124 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:55,127 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:55,744 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 10:59:55,814 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:56,689 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 10:59:57,129 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 10:59:57,406 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 10:59:57,498 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,499 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,501 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,505 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,508 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,510 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,511 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,521 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,527 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,529 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,532 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:57,540 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:58,931 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 10:59:59,182 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:01,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:02,081 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:00:02,271 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:03,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:05,333 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:05,414 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,338 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:07,833 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:00:07,862 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,865 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,871 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,875 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,878 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,883 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,893 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,911 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,920 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,926 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,932 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:07,935 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:08,570 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:09,342 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:11,346 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:11,654 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:13,349 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:14,823 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:15,351 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:17,353 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:17,965 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:00:17,969 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,034 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,066 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,168 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,212 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,214 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,215 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,218 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,219 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,222 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,223 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,225 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:18,226 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:19,355 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:21,213 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:21,360 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:23,365 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:24,352 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:25,369 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:27,370 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:27,472 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,243 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:00:28,279 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,281 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,282 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,284 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,285 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,287 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,289 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,291 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,293 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,294 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,301 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:28,303 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:29,452 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:31,251 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:31,453 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:33,455 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:34,318 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:35,458 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:37,461 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:37,468 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:38,331 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:00:38,364 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,373 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,374 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,376 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,377 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,379 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,381 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,384 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,385 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,388 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,394 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:38,396 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:39,484 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:40,669 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:41,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:43,489 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:43,756 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:45,492 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:46,928 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:47,494 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:48,407 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:00:48,516 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,517 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,694 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,739 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,802 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,813 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,817 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,824 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,857 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,878 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,881 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:48,886 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:49,497 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:50,138 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:51,499 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:53,502 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:53,887 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:55,504 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:57,024 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:57,508 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:00:58,898 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:00:58,934 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,936 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,938 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,939 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,941 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,943 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,944 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,946 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,948 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,950 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,951 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:58,956 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:00:59,510 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:00,214 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:01,514 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:02,972 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:01:03,331 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:03,521 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:05,552 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:06,035 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:01:06,540 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:07,566 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:08,073 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:01:08,987 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:01:09,012 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,015 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,017 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,019 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,021 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,022 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,024 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,026 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,028 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,029 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,031 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,033 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:09,569 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:09,911 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:11,647 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:13,012 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:13,911 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:01:14,036 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:16,182 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:17,215 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:18,185 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:20,039 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:01:20,066 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,068 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,070 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,071 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,074 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,075 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,078 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,079 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,082 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,082 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,085 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,086 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:20,244 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:20,682 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:22,248 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:23,832 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:24,250 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:26,251 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:26,886 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:28,259 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:30,005 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,161 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:01:30,192 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,193 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,195 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,196 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,200 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,201 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,204 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,216 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,218 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,220 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,221 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,223 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:30,322 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:32,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:33,087 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:34,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:36,179 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:36,333 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:38,335 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:39,228 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,228 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:01:40,254 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,260 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,272 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,276 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,280 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,281 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,283 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,284 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,287 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,290 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,294 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,297 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:40,390 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:42,464 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:42,922 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:44,466 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:45,989 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:46,470 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:48,473 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:49,053 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,325 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:01:50,383 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,386 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,390 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,393 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,396 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,399 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,400 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,401 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,411 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,411 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,413 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,414 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:50,475 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:52,117 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:52,478 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:54,480 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:55,265 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:56,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:01:58,371 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:01:58,492 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:00,488 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:02:00,510 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:00,537 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,538 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,540 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,541 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,542 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,543 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,544 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,547 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,558 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,565 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,567 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:00,570 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:01,469 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:02,538 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:04,542 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:04,574 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:06,543 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:07,674 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:08,546 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:10,549 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:10,610 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:02:10,703 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,704 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,707 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,727 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,734 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,760 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,779 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,794 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,817 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:10,884 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:11,003 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:11,013 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:11,061 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:12,556 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:14,246 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:14,270 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:02:14,563 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:16,566 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:17,247 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:02:17,428 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:18,569 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:20,496 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:20,571 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:21,207 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:02:21,641 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:21,844 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:21,865 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:21,936 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:21,975 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,006 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,033 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,103 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,169 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,223 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,231 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,282 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:22,577 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:23,287 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:02:23,580 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:24,582 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:26,587 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:26,651 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:28,593 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:28,681 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:02:29,706 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:30,595 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:32,346 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:02:32,370 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,373 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,389 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,397 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,400 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,403 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,409 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,413 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,418 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,438 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,442 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,443 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:32,598 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:32,763 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:34,600 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:35,825 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:36,602 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:38,604 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:38,883 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:40,606 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:41,958 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,473 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:02:42,501 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,503 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,505 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,507 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,525 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,528 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,529 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,530 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,532 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,535 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,536 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,537 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:42,608 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:44,610 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:45,027 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:46,613 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:48,150 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:48,616 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:50,621 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:51,249 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,544 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:02:52,570 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,577 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,594 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,604 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,608 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,611 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,613 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,617 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,618 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,628 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:52,631 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,642 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:52,667 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:54,328 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:55,050 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:57,053 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:02:58,070 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:02:59,055 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:01,057 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:01,179 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,057 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:03:03,119 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:03,190 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,192 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,193 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,194 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,196 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,197 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,198 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,199 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,247 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,262 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,357 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:03,362 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:04,236 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:05,144 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:07,146 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:07,443 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:09,148 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:10,512 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:11,152 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:13,154 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:13,376 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:03:13,402 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,405 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,408 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,416 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,429 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,433 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,440 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,449 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,473 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,477 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,479 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,529 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:13,585 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:15,157 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:16,672 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:17,160 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:19,172 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:19,735 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:21,181 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:22,793 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,183 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:23,537 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:03:23,616 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,619 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,620 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,621 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,622 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,624 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,625 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,626 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,627 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,628 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,629 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:23,630 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:25,185 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:25,854 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:27,187 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:28,936 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:29,093 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:03:29,189 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:31,197 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:32,005 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:32,014 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:03:33,155 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:03:33,214 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:33,846 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:03:33,929 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,931 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,932 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,933 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,934 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,935 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,957 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,969 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:33,999 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:34,049 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:34,107 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:34,109 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:35,110 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:35,219 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:37,223 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:38,229 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:38,573 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:03:39,225 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:41,232 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:41,356 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:43,240 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:44,150 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:03:44,182 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,185 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,196 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,199 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,202 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,203 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,204 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,206 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,209 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,213 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,215 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,219 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:44,881 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:45,313 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:47,359 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:48,354 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:49,361 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:51,373 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:51,454 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:53,383 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:54,254 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:03:54,273 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,275 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,278 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,279 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,281 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,282 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,284 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,289 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,292 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,293 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,296 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,297 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:54,807 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:55,386 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:57,464 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:03:57,872 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:03:59,466 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:01,029 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:01,468 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:03,474 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:04,161 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,308 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:04:04,352 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,355 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,356 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,358 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,360 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,362 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,365 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,367 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,368 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,370 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,372 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:04,375 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:05,477 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:07,218 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:07,479 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:09,481 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:10,270 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:11,484 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:13,375 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:13,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:14,383 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:04:14,414 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,416 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,419 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,421 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,423 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,433 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,436 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,437 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,439 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,439 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,440 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:14,444 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:15,492 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:16,481 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:17,495 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:19,496 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:19,671 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:21,502 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:22,757 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:23,503 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:24,454 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:04:24,512 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,514 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,514 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,515 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,516 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,517 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,520 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,522 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,545 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,546 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,572 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:24,647 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:25,506 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:25,836 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:27,508 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:28,895 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:29,520 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:31,648 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:31,948 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:33,680 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:34,668 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:04:34,686 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,716 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,729 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,740 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,761 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,823 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,867 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,918 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,952 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:34,999 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:35,039 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:35,064 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:35,285 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:35,684 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:37,686 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:38,517 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:39,320 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:04:39,689 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:41,582 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:41,691 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:42,264 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:04:43,244 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:04:43,695 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:44,702 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,147 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:04:45,180 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,181 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,186 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,191 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,194 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,194 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,196 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,197 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,199 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,199 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,202 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,204 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:45,736 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:47,766 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:47,799 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:48,641 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:04:49,770 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:50,945 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:51,773 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:53,778 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:54,014 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,221 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:04:55,293 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,294 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,296 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,297 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,298 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,299 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,300 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,304 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,345 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,354 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,360 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,372 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:55,781 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:57,129 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:04:57,783 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:04:59,787 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:00,270 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:01,792 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:03,332 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:03,827 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:05,408 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:05:05,479 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,481 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,482 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,483 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,485 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,485 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,487 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,488 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,488 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,489 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,491 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,491 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:05,830 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:06,391 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:07,832 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:09,557 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:09,835 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:11,838 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:12,661 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:13,846 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:15,499 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:05:15,935 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:15,946 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:15,951 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,075 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,210 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,256 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,265 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,348 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,355 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,359 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,360 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,362 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,365 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:16,366 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:17,952 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:19,375 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:19,954 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:21,956 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:22,480 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:23,958 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:25,610 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:25,960 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:26,371 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:05:26,399 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,401 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,404 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,406 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,420 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,426 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,433 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,442 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,461 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,519 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,573 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:26,578 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:27,963 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:28,740 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:29,968 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:31,831 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:31,972 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:33,975 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:34,965 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:35,977 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:36,584 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:05:36,648 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,650 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,651 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,653 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,655 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,656 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,658 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,660 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,661 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,664 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,665 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:36,666 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:37,979 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:38,045 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:39,981 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:41,148 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:41,984 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:43,985 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:44,212 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,029 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:46,675 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:05:46,709 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,719 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,724 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,726 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,727 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,728 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,730 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,732 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,733 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,735 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,737 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:46,738 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:47,272 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:48,031 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:49,045 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:05:50,033 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:50,328 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:52,036 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:52,463 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:05:53,633 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:05:54,039 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:54,068 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:56,041 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:57,220 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:05:57,307 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,315 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,327 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,359 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,401 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,452 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,483 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,515 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,552 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,627 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,635 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,664 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:57,705 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:05:58,049 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:05:59,016 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:06:00,052 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:00,517 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:02,055 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:03,610 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:04,058 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:06,062 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:06,718 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,727 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:06:07,756 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,759 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,760 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,770 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,773 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,774 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,776 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,777 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,780 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,785 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,791 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:07,793 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:08,065 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:09,789 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:10,068 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:12,079 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:12,849 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:14,089 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:15,997 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:16,106 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:17,841 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:06:17,864 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,865 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,866 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,867 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,869 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,870 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,871 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,871 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,877 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,880 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,890 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:17,896 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:18,130 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:19,143 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:20,133 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:22,136 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:22,210 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:24,140 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:25,314 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:26,142 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:27,916 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:06:27,945 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,945 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,948 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,949 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,952 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,954 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,956 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,969 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,976 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,977 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,979 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:27,981 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:28,146 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:28,387 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:30,195 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:31,491 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:32,197 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:34,199 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:34,570 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:36,203 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:37,650 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:37,988 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:06:38,069 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,070 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,072 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,074 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,078 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,082 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,085 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,086 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,089 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,098 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,112 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,132 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:38,207 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:40,210 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:40,720 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:42,215 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:43,783 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:44,219 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:46,222 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:47,010 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,147 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:06:48,199 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,200 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,202 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,203 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,204 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,207 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,209 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,210 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,212 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,213 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,215 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,219 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:48,225 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:50,145 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:50,252 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:52,254 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:53,267 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:54,257 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:56,260 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:56,324 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,256 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:06:58,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:06:58,371 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,373 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,385 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,393 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,517 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,528 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,584 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,589 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,639 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,660 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,671 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:58,680 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:06:59,194 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:06:59,408 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:00,354 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:02,112 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:07:02,356 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:02,471 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:03,258 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:07:04,363 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:05,663 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:06,366 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:08,368 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:08,634 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:07:08,730 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:07:08,785 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,791 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,792 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,793 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,794 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,794 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,796 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,797 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,798 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,800 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,801 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,802 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:08,859 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:10,370 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:11,966 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:12,380 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:14,386 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:15,041 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:16,389 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:18,118 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:18,392 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:18,961 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:07:18,998 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,007 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,009 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,009 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,011 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,012 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,012 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,013 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,014 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,015 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,020 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:19,022 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:20,396 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:21,262 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:22,397 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:24,355 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:24,419 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:26,434 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:27,450 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:28,437 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:29,030 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:07:29,059 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,061 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,065 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,070 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,072 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,073 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,074 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,078 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,080 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,082 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,083 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:29,084 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:30,441 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:30,523 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:32,443 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:33,591 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:34,445 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:36,448 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:36,709 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:38,459 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:39,104 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:07:39,226 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,231 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,239 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,246 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,256 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,282 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,300 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,301 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,305 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,307 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,311 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,336 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:39,943 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:40,896 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:42,922 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:43,926 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:44,932 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:46,961 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:47,014 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:48,963 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:49,672 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:07:49,791 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,792 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,794 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,795 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,796 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,797 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,803 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,805 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,810 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,868 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:49,999 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:50,015 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:50,084 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:50,965 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:52,967 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:53,192 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:07:54,986 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:57,905 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:07:57,959 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,281 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:08:00,558 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:00,577 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,579 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,580 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,586 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,653 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,770 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,905 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:00,986 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:01,016 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:01,118 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:01,270 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:01,337 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:01,770 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:02,632 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:04,934 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:05,105 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:07,107 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:08,081 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:09,109 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:10,227 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:08:11,123 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:11,193 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,453 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:08:11,481 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,483 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,485 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,488 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,490 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,492 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,494 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,498 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,499 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,500 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,501 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:11,503 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:13,127 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:13,139 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:08:14,256 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:14,577 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:08:15,132 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:17,135 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:17,401 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:19,140 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:20,824 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:08:21,142 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:21,370 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,275 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:08:22,321 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,322 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,323 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,324 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,325 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,326 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,330 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,331 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,333 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,334 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,336 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:22,337 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:23,144 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:24,429 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:25,174 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:27,179 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:27,492 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:29,181 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:30,552 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:31,183 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:32,344 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:08:32,366 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,370 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,388 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,393 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,395 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,397 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,398 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,399 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,400 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,402 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,405 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:32,406 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:33,185 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:33,618 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:35,187 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:36,810 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:37,190 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:39,193 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:39,867 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:41,195 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:42,413 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:08:42,451 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,455 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,457 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,458 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,460 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,460 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,462 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,462 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,464 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,465 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,466 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,470 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:42,925 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:43,200 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:45,205 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:46,033 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:47,208 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:49,153 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:49,231 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:51,241 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:52,272 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,480 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:08:52,510 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,512 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,515 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,517 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,518 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,520 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,525 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,526 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,527 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,534 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,539 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:52,546 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:53,243 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:55,251 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:55,446 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:57,279 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:08:58,523 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:08:59,281 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:01,283 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:01,662 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,591 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:09:02,642 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,643 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,645 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,646 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,647 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,648 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,649 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,650 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,652 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,652 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,654 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:02,655 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:03,285 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:04,774 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:05,288 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:07,290 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:07,884 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:09,292 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:10,989 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:11,294 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:12,661 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:09:12,737 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,739 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,740 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,741 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,747 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,750 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,762 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,814 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,833 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,868 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,908 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:12,927 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:13,298 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:14,291 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:15,323 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:17,325 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:17,394 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:19,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:20,474 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:21,024 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:09:21,329 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:22,984 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:09:23,057 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,061 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,063 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,065 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,066 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,095 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,115 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,117 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,125 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,151 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,181 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,254 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:23,360 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:23,751 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:24,003 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:09:25,553 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:25,834 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:09:27,226 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:27,590 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:29,680 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:30,598 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:31,499 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:09:31,709 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:33,440 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:09:33,589 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,590 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,591 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,606 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,680 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,702 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,719 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:33,728 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,852 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:33,890 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:34,066 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:34,077 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:34,176 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:34,200 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:35,785 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:37,259 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:37,787 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:39,792 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:40,358 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:41,798 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:43,486 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:43,825 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:44,228 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:09:44,276 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,277 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,279 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,279 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,280 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,281 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,283 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,284 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,286 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,294 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,296 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:44,300 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:45,868 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:46,786 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:47,878 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:49,893 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:49,893 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:51,932 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:52,995 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:53,935 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:54,318 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:09:54,361 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,366 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,368 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,369 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,371 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,376 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,381 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,383 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,386 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,392 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,394 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:54,395 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:55,937 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:56,162 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:57,939 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:09:59,246 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:09:59,942 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:01,945 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:02,322 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:03,948 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:04,507 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:10:04,701 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,702 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,704 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,704 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,706 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,714 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,767 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,778 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,783 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,787 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,838 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:04,895 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:05,395 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:05,950 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:07,954 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:08,553 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:09,960 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:11,711 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:11,962 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:13,967 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:14,849 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:14,935 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:10:15,120 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,128 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,129 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,131 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,133 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,136 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,137 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,139 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,140 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,142 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,143 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:15,145 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:16,003 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:18,034 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:18,120 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:20,037 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:21,242 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:22,076 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:24,137 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:25,365 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:10:25,559 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,715 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,740 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,741 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,742 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,744 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,747 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,751 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,755 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,762 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,815 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,876 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:25,910 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:26,140 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:28,144 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:28,755 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:30,147 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:31,865 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:32,149 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:32,657 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:10:34,168 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:35,110 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:35,572 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:10:36,111 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:10:36,207 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:36,270 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,388 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,434 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,436 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,440 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,514 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,523 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,524 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,526 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,528 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,531 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,533 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:36,688 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:10:38,219 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:38,287 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:40,221 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:41,376 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:42,078 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:10:42,226 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:44,229 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:44,491 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,232 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:46,556 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:10:46,583 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,587 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,589 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,590 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,592 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,606 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,607 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,608 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,609 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,610 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,612 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:46,615 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:47,578 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:48,239 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:50,286 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:50,678 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:52,289 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:53,770 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:54,291 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:56,293 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:10:56,643 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:10:56,671 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,674 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,679 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,691 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,703 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,708 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,713 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,736 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,746 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,750 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,765 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,774 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:56,957 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:10:58,296 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:00,044 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:00,299 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:02,300 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:03,134 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:04,302 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:06,198 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,319 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:06,783 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:11:06,807 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,810 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,812 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,813 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,815 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,818 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,820 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,832 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,835 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,836 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,837 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:06,837 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:08,329 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:09,339 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:10,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:12,332 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:12,442 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:14,335 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:15,503 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,337 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:16,892 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:11:16,918 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,920 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,922 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,923 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,926 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,928 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,930 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,941 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,942 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,943 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,946 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:16,946 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:18,340 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:18,676 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:20,343 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:21,766 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:22,348 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:24,353 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:24,849 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:26,355 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:26,956 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:11:27,083 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,084 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,085 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,086 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,088 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,088 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,110 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,180 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,250 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,258 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,286 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,310 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:27,964 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:28,357 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:30,360 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:31,065 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:32,369 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:34,140 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:34,371 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:36,373 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:37,209 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,348 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:11:37,365 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,366 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,367 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,368 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,369 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,370 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,371 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,373 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,374 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,375 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,377 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:37,378 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:38,376 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:40,291 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:40,379 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:42,382 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:42,548 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:11:43,353 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:44,385 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:45,467 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:11:46,391 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:46,407 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:11:46,469 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,399 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:11:47,420 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,424 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,443 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,835 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,837 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,838 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,839 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,840 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,862 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,946 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:47,999 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:48,014 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:48,428 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:49,671 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:50,432 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:52,323 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:11:52,436 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:52,877 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:54,440 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:56,028 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:56,447 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:58,042 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:11:58,171 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,183 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,188 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,190 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,195 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,208 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,223 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,262 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,288 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,290 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,315 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,321 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:11:58,448 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:11:59,099 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:00,450 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:02,155 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:02,454 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:04,456 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:05,292 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:06,460 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:08,360 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:12:08,438 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,529 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:08,703 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,724 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,771 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,820 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,823 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,824 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,835 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,841 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,844 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,846 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,848 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:08,849 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:10,706 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:11,822 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:12,708 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:14,710 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:14,976 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:16,713 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:18,084 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,715 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:18,855 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:12:18,881 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,884 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,903 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,910 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,912 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,912 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,913 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,914 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,918 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,919 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,925 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:18,928 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:20,720 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:21,257 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:22,727 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:24,317 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:25,271 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:27,318 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:28,304 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,206 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:12:29,237 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,240 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,250 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,252 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,260 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,276 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,292 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,311 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,319 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,323 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:29,334 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,356 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:29,371 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:31,337 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:31,403 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:33,339 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:34,474 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:35,341 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:37,343 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:37,618 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,345 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:39,406 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:12:39,436 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,438 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,440 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,441 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,444 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,445 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,448 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,449 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,455 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,456 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,457 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:39,458 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:40,745 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:41,348 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:43,370 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:43,863 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:45,372 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:46,977 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:47,374 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:49,376 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:49,474 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:12:49,526 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,527 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,528 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,529 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,531 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,531 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,533 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,534 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,535 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,536 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,538 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:49,541 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:50,144 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:51,379 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:53,255 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:53,324 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:12:53,413 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:55,434 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:56,303 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:12:56,444 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:57,406 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:12:57,445 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:59,467 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:12:59,557 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,621 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:12:59,748 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,750 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,751 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,753 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,754 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,755 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,756 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,757 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,758 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,759 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,760 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:12:59,761 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:01,473 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:02,693 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:02,920 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:13:03,478 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:05,480 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:05,944 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:07,483 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:09,007 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:09,768 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:13:09,877 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,879 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,880 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,881 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,883 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,884 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,888 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,893 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,896 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,902 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,906 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:09,909 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:11,489 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:12,132 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:13,492 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:15,193 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:15,498 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:17,500 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:18,299 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:19,503 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:19,945 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:13:20,148 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,151 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,153 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,153 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,156 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,160 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,163 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,164 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,170 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,180 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,182 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:20,186 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:21,372 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:21,506 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:23,509 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:24,452 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:25,512 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:27,524 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:27,540 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:29,565 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:30,215 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:13:30,291 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,292 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,295 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,296 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,301 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,303 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,304 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,306 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,307 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,308 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,312 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,313 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:30,597 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:31,567 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:33,570 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:33,652 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:35,572 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:36,740 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:37,575 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:39,587 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:39,823 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,325 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:13:40,352 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,357 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,362 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,373 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,375 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,376 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,378 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,379 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,380 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,382 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,384 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:40,386 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:41,592 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:42,873 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:43,600 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:45,603 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:45,951 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:47,606 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:49,057 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:49,610 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:50,469 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:13:50,488 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,490 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,495 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,501 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,505 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,555 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,562 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,565 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,567 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,567 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,569 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:50,571 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:51,612 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:52,174 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:53,615 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:55,298 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:55,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:57,622 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:13:58,435 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:13:59,626 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:00,578 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:14:00,705 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,707 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,709 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,710 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,711 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,712 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,713 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,714 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,715 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,717 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,719 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:00,722 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:01,533 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:01,639 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:03,510 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:14:03,657 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:04,671 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:05,659 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:06,379 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:14:07,662 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:07,794 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:08,052 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:14:09,664 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:10,768 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:14:10,925 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:10,933 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:10,938 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:10,964 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,172 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,182 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,184 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,187 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,188 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,233 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,250 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,355 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,431 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:11,673 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:13,568 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:14:13,679 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:14,200 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:15,684 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:17,358 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:17,687 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:19,689 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:20,415 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,450 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:14:21,505 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,506 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,507 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,511 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,514 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,515 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,516 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,530 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,534 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,559 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,568 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,575 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:21,693 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:23,490 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:23,699 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:25,707 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:26,562 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:27,713 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:29,659 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:29,718 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:31,622 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:14:31,672 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,673 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,677 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,678 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,681 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,683 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,686 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,687 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,688 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,690 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,692 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,693 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:31,725 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:32,740 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:33,731 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:35,733 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:35,838 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:37,736 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:38,920 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:39,740 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:41,700 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:14:41,824 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:41,830 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,832 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,835 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,837 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,840 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,841 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,842 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,843 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,844 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,847 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,849 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,851 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:41,978 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:43,856 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:14:45,055 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:14:45,861 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 11:15:32,966 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 11:15:32,971 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 11:15:34,998 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 11:15:35,001 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 11:15:35,010 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 11:15:35,023 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 11:15:35,044 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 11:15:35,061 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 11:15:35,095 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 11:15:35,102 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 11:15:35,267 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 11:15:35,289 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 11:15:35,290 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 11:15:35,291 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 11:15:35,292 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 11:15:35,317 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:15:35,318 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 11:15:35 
2025-05-18 11:15:35,319 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:15:35,320 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 11:15:35,321 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 11:15:35,322 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 11:15:35,324 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 11:15:36,766 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 11:15:39,311 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 11:15:40,511 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:15:41,513 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 11:15:42,921 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 11:15:44,382 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 11:15:45,994 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 11:15:45,995 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 11:15:46,009 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 11:15:46,018 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 11:15:46,081 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 11:15:46,169 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:15:46,169 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 11:15:46,180 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 11:15:46,189 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 11:15:46,191 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 11:15:46,226 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 11:15:46,246 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 11:15:46,269 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:15:46,326 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,343 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 11:15:46,364 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,432 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,447 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,448 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,449 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,453 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,455 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,503 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,515 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,528 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,738 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:46,801 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:47,030 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:15:49,094 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:15:49,283 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:15:50,531 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:15:50,819 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:51,140 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:15:53,433 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:15:54,013 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:55,436 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:15:56,332 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:15:56,953 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:15:56,978 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:56,983 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:56,998 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,001 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,002 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,004 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,005 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,006 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,006 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,008 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,009 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,010 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:57,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:15:57,677 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:15:59,632 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:00,780 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:01,635 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:03,639 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:03,908 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:05,690 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:07,029 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:16:07,037 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,177 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,202 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,215 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,215 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,216 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,217 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,218 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,219 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,220 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,222 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,222 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,223 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:07,717 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:09,719 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:10,222 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:11,722 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:12,499 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共3条
2025-05-18 11:16:13,300 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:16:13,531 - qmt_trading.web_server - INFO - 内存数据库中的持仓数据已清空
2025-05-18 11:16:13,550 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:13,615 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:13,672 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> True (通过保存配置)
2025-05-18 11:16:13,676 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-05-18 11:16:13,677 - qmt_trading.strategy - INFO - 策略线程已启动
2025-05-18 11:16:13,684 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True, 'singleBuyAmount': 20000, 'globalAllowBuySell': True, 'totalMaxPosition': 1000000}
2025-05-18 11:16:13,738 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:14,163 - qmt_trading.strategy - INFO - 300277 执行网格交易策略成功
2025-05-18 11:16:16,145 - qmt_trading.strategy - INFO - 301252 执行网格交易策略成功
2025-05-18 11:16:16,150 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:16,156 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:16,176 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:16,196 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:16,277 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共0条
2025-05-18 11:16:17,148 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:16:17,503 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:18,056 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:16:18,095 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 11:16:18,528 - qmt_trading.strategy - INFO - 513100 执行网格交易策略成功
2025-05-18 11:16:18,694 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:18,830 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共0条
2025-05-18 11:16:19,864 - qmt_trading.web_server - INFO - 内存数据库中的持仓数据已清空
2025-05-18 11:16:19,900 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:20,110 - qmt_trading.strategy - INFO - 600571 执行网格交易策略成功
2025-05-18 11:16:20,126 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:20,272 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共0条
2025-05-18 11:16:20,829 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:16:21,372 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['000001.SZ'] -> ['000001.SZ']
2025-05-18 11:16:21,374 - qmt_trading.trading_executor - INFO - 开始买入处理: 000001.SZ, volume=None, price=None, amount=20000.0
2025-05-18 11:16:21,388 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 11:16:21,393 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 11:16:21,394 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 11:16:21,423 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 000001.SZ, 数量: 1700, 价格: 11.38
2025-05-18 11:16:21,426 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181116210001
2025-05-18 11:16:21,427 - qmt_trading.trading_executor - INFO - 保存交易记录: 000001.SZ BUY 价格:11.40 数量:1700 金额:19380.00
2025-05-18 11:16:21,466 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 000001.SZ, BUY, 价格: 11.4, 数量: 1700
2025-05-18 11:16:21,468 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=000001.SZ, trade_type=BUY, price=11.4, volume=1700
2025-05-18 11:16:21,485 - qmt_trading.position_manager - INFO - 新增 000001.SZ 持仓: 数量: 1700, 成本价: 11.4, 当前价: 11.38, 首次止盈触发: False, 最高价: 11.38, 止损价: 10.6
2025-05-18 11:16:21,495 - qmt_trading.trading_executor - INFO - 新建持仓成功: 000001.SZ, 数量: 1700, 成本: 11.4, 结果: True
2025-05-18 11:16:21,498 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19385.81, 余额: 980614.19
2025-05-18 11:16:21,500 - qmt_trading.trading_executor - INFO - [模拟] 买入 000001.SZ 成功，委托号: SIM202505181116210001, 价格: 11.4, 数量: 1700
2025-05-18 11:16:21,504 - qmt_trading.strategy - INFO - 手动买入 000001.SZ 成功，委托号: SIM202505181116210001
2025-05-18 11:16:21,633 - qmt_trading.strategy - INFO - 600787 执行网格交易策略成功
2025-05-18 11:16:22,833 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:23,169 - qmt_trading.strategy - INFO - 603883 执行网格交易策略成功
2025-05-18 11:16:24,171 - qmt_trading.strategy - INFO - 交易策略执行完成
2025-05-18 11:16:24,851 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:26,520 - qmt_trading.strategy - WARNING - 000001.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 11:16:26,855 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:26,866 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共1条
2025-05-18 11:16:27,546 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 11:16:27,602 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:28,099 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:28,268 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共0条
2025-05-18 11:16:28,890 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:29,304 - qmt_trading.web_server - INFO - 内存数据库中的持仓数据已清空
2025-05-18 11:16:29,325 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:29,396 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:29,512 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980614.186
2025-05-18 11:16:29,593 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 11:16:29,608 - qmt_trading.trading_executor - INFO - 开始买入处理: 600383.SH, volume=None, price=None, amount=20000.0
2025-05-18 11:16:29,614 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 11:16:29,615 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 11:16:29,616 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 11:16:29,641 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 600383.SH, 数量: 4800, 价格: 4.11
2025-05-18 11:16:29,646 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181116290002
2025-05-18 11:16:29,647 - qmt_trading.trading_executor - INFO - 保存交易记录: 600383.SH BUY 价格:4.12 数量:4800 金额:19776.00
2025-05-18 11:16:29,676 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 600383.SH, BUY, 价格: 4.12, 数量: 4800
2025-05-18 11:16:29,677 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=600383.SH, trade_type=BUY, price=4.12, volume=4800
2025-05-18 11:16:29,702 - qmt_trading.position_manager - INFO - 新增 600383.SH 持仓: 数量: 4800, 成本价: 4.12, 当前价: 4.11, 首次止盈触发: False, 最高价: 4.11, 止损价: 3.83
2025-05-18 11:16:29,703 - qmt_trading.trading_executor - INFO - 新建持仓成功: 600383.SH, 数量: 4800, 成本: 4.12, 结果: True
2025-05-18 11:16:29,704 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19781.93, 余额: 960832.25
2025-05-18 11:16:29,704 - qmt_trading.trading_executor - INFO - [模拟] 买入 600383.SH 成功，委托号: SIM202505181116290002, 价格: 4.12, 数量: 4800
2025-05-18 11:16:29,705 - qmt_trading.strategy - INFO - 手动买入 600383.SH 成功，委托号: SIM202505181116290002
2025-05-18 11:16:30,894 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960832.2532
2025-05-18 11:16:32,897 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960832.2532
2025-05-18 11:16:33,580 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960832.2532
2025-05-18 11:16:34,720 - qmt_trading.position_manager - INFO - 添加 600383.SH 的网格交易记录成功，ID: 31, 级别: 1, 买入价: 3.9045, 卖出价: 4.3155, 数量: 192
2025-05-18 11:16:34,733 - qmt_trading.position_manager - INFO - 添加 600383.SH 的网格交易记录成功，ID: 32, 级别: 2, 买入价: 3.6990000000000003, 卖出价: 4.521000000000001, 数量: 192
2025-05-18 11:16:34,743 - qmt_trading.position_manager - INFO - 添加 600383.SH 的网格交易记录成功，ID: 33, 级别: 3, 买入价: 3.4935, 卖出价: 4.7265, 数量: 192
2025-05-18 11:16:34,755 - qmt_trading.position_manager - INFO - 添加 600383.SH 的网格交易记录成功，ID: 34, 级别: 4, 买入价: 3.2880000000000003, 卖出价: 4.932, 数量: 192
2025-05-18 11:16:34,764 - qmt_trading.position_manager - INFO - 添加 600383.SH 的网格交易记录成功，ID: 35, 级别: 5, 买入价: 3.0825000000000005, 卖出价: 5.1375, 数量: 192
2025-05-18 11:16:34,765 - qmt_trading.strategy - INFO - 初始化 600383.SH 的网格交易成功，创建了 5 个网格
2025-05-18 11:16:34,766 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000.0
2025-05-18 11:16:34,766 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 11:16:34,767 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 11:16:34,767 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 11:16:34,780 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 300250.SZ, 数量: 1300, 价格: 15.01
2025-05-18 11:16:34,784 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181116340003
2025-05-18 11:16:34,784 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ BUY 价格:15.04 数量:1300 金额:19552.00
2025-05-18 11:16:34,794 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ, BUY, 价格: 15.04, 数量: 1300
2025-05-18 11:16:34,794 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=15.04, volume=1300
2025-05-18 11:16:34,804 - qmt_trading.position_manager - INFO - 新增 300250.SZ 持仓: 数量: 1300, 成本价: 15.04, 当前价: 15.01, 首次止盈触发: False, 最高价: 15.01, 止损价: 13.99
2025-05-18 11:16:34,809 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ, 数量: 1300, 成本: 15.04, 结果: True
2025-05-18 11:16:34,812 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19557.87, 余额: 941274.39
2025-05-18 11:16:34,816 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505181116340003, 价格: 15.04, 数量: 1300
2025-05-18 11:16:34,818 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505181116340003
2025-05-18 11:16:34,900 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:36,901 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:38,904 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:39,580 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:39,823 - qmt_trading.strategy - WARNING - 300250.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 11:16:39,977 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:40,358 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共2条
2025-05-18 11:16:40,912 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:41,564 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:41,612 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共0条
2025-05-18 11:16:42,667 - qmt_trading.web_server - INFO - 内存数据库中的持仓数据已清空
2025-05-18 11:16:42,677 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:42,907 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:42,915 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:43,079 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 941274.3876
2025-05-18 11:16:43,256 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['000001.SZ', '600519.SH'] -> ['000001.SZ', '600519.SH']
2025-05-18 11:16:43,299 - qmt_trading.trading_executor - INFO - 开始买入处理: 000001.SZ, volume=None, price=None, amount=20000.0
2025-05-18 11:16:43,334 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 11:16:43,353 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 11:16:43,364 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 11:16:43,382 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 000001.SZ, 数量: 1700, 价格: 11.38
2025-05-18 11:16:43,385 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181116430004
2025-05-18 11:16:43,386 - qmt_trading.trading_executor - INFO - 保存交易记录: 000001.SZ BUY 价格:11.40 数量:1700 金额:19380.00
2025-05-18 11:16:43,395 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 000001.SZ, BUY, 价格: 11.4, 数量: 1700
2025-05-18 11:16:43,395 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=000001.SZ, trade_type=BUY, price=11.4, volume=1700
2025-05-18 11:16:43,414 - qmt_trading.position_manager - INFO - 新增 000001.SZ 持仓: 数量: 1700, 成本价: 11.4, 当前价: 11.38, 首次止盈触发: False, 最高价: 11.38, 止损价: 10.6
2025-05-18 11:16:43,414 - qmt_trading.trading_executor - INFO - 新建持仓成功: 000001.SZ, 数量: 1700, 成本: 11.4, 结果: True
2025-05-18 11:16:43,415 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19385.81, 余额: 921888.57
2025-05-18 11:16:43,416 - qmt_trading.trading_executor - INFO - [模拟] 买入 000001.SZ 成功，委托号: SIM202505181116430004, 价格: 11.4, 数量: 1700
2025-05-18 11:16:43,417 - qmt_trading.strategy - INFO - 手动买入 000001.SZ 成功，委托号: SIM202505181116430004
2025-05-18 11:16:44,942 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:45,659 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:46,946 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:48,422 - qmt_trading.strategy - WARNING - 000001.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 11:16:48,454 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:48,614 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共1条
2025-05-18 11:16:48,947 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:49,714 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:49,825 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共0条
2025-05-18 11:16:50,916 - qmt_trading.web_server - INFO - 内存数据库中的持仓数据已清空
2025-05-18 11:16:50,954 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:50,985 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:51,159 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:51,253 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 921888.5736
2025-05-18 11:16:51,271 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['000001.SZ'] -> ['000001.SZ']
2025-05-18 11:16:51,272 - qmt_trading.trading_executor - INFO - 开始买入处理: 000001.SZ, volume=None, price=None, amount=20000.0
2025-05-18 11:16:51,282 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['600519.SH'] -> ['600519.SH']
2025-05-18 11:16:51,291 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 11:16:51,298 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['600036.SH'] -> ['600036.SH']
2025-05-18 11:16:51,299 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 11:16:51,301 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 11:16:51,334 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 000001.SZ, 数量: 1700, 价格: 11.38
2025-05-18 11:16:51,348 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181116510005
2025-05-18 11:16:51,349 - qmt_trading.trading_executor - INFO - 保存交易记录: 000001.SZ BUY 价格:11.40 数量:1700 金额:19380.00
2025-05-18 11:16:51,361 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 000001.SZ, BUY, 价格: 11.4, 数量: 1700
2025-05-18 11:16:51,362 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=000001.SZ, trade_type=BUY, price=11.4, volume=1700
2025-05-18 11:16:51,386 - qmt_trading.position_manager - INFO - 新增 000001.SZ 持仓: 数量: 1700, 成本价: 11.4, 当前价: 11.38, 首次止盈触发: False, 最高价: 11.38, 止损价: 10.6
2025-05-18 11:16:51,387 - qmt_trading.trading_executor - INFO - 新建持仓成功: 000001.SZ, 数量: 1700, 成本: 11.4, 结果: True
2025-05-18 11:16:51,387 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19385.81, 余额: 902502.76
2025-05-18 11:16:51,388 - qmt_trading.trading_executor - INFO - [模拟] 买入 000001.SZ 成功，委托号: SIM202505181116510005, 价格: 11.4, 数量: 1700
2025-05-18 11:16:51,389 - qmt_trading.strategy - INFO - 手动买入 000001.SZ 成功，委托号: SIM202505181116510005
2025-05-18 11:16:51,389 - qmt_trading.trading_executor - INFO - 开始买入处理: 600519.SH, volume=None, price=None, amount=20000.0
2025-05-18 11:16:51,390 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 11:16:51,392 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 11:16:51,394 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 11:16:51,407 - qmt_trading.trading_executor - ERROR - 买入数量必须大于0: 0
2025-05-18 11:16:51,409 - qmt_trading.trading_executor - INFO - 开始买入处理: 600036.SH, volume=None, price=None, amount=20000.0
2025-05-18 11:16:51,410 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 11:16:51,411 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 11:16:51,413 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 11:16:51,421 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 600036.SH, 数量: 400, 价格: 44.27
2025-05-18 11:16:51,426 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181116510006
2025-05-18 11:16:51,427 - qmt_trading.trading_executor - INFO - 保存交易记录: 600036.SH BUY 价格:44.36 数量:400 金额:17744.00
2025-05-18 11:16:51,441 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 600036.SH, BUY, 价格: 44.36, 数量: 400
2025-05-18 11:16:51,447 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=600036.SH, trade_type=BUY, price=44.36, volume=400
2025-05-18 11:16:51,474 - qmt_trading.position_manager - INFO - 新增 600036.SH 持仓: 数量: 400, 成本价: 44.36, 当前价: 44.27, 首次止盈触发: False, 最高价: 44.27, 止损价: 41.25
2025-05-18 11:16:51,477 - qmt_trading.trading_executor - INFO - 新建持仓成功: 600036.SH, 数量: 400, 成本: 44.36, 结果: True
2025-05-18 11:16:51,478 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -17749.32, 余额: 884753.44
2025-05-18 11:16:51,482 - qmt_trading.trading_executor - INFO - [模拟] 买入 600036.SH 成功，委托号: SIM202505181116510006, 价格: 44.36, 数量: 400
2025-05-18 11:16:51,485 - qmt_trading.strategy - INFO - 手动买入 600036.SH 成功，委托号: SIM202505181116510006
2025-05-18 11:16:52,987 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:16:53,664 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:16:54,990 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:16:56,393 - qmt_trading.strategy - WARNING - 000001.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 11:16:56,497 - qmt_trading.strategy - WARNING - 600036.SH 持仓量不足，无法创建有效的网格交易
2025-05-18 11:16:56,636 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:16:56,895 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共2条
2025-05-18 11:16:57,043 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:16:57,805 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:16:57,960 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:16:59,049 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:16:59,670 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:00,664 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:17:01,051 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:01,643 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:17:03,053 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:05,056 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:05,659 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:06,996 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:17:07,083 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:09,097 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:11,147 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:12,202 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:13,171 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:15,174 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:17,176 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:17,460 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:17:17,471 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:17:19,188 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:21,190 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:22,092 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:23,217 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:25,227 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:27,229 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:27,806 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:17:27,808 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:17:29,231 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:31,233 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:32,091 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:33,236 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:35,237 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:37,297 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:38,443 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:17:38,445 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:17:39,335 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:41,336 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:42,092 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:43,341 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:45,347 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:47,349 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:48,675 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:17:48,688 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:17:49,350 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:51,352 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:52,094 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:53,354 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:55,356 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:57,412 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:57,423 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:17:58,868 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:17:58,870 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:17:59,421 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:01,425 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:03,427 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:05,429 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:07,209 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:18:07,438 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:08,094 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:09,013 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:18:09,014 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:18:09,453 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:10,061 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:18:11,141 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:18:11,456 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:13,459 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:15,461 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:16,431 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:18:17,466 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:18,096 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:19,200 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:18:19,204 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:18:19,467 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:21,471 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:23,490 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:25,504 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:27,513 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:28,148 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:29,347 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:18:29,349 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:18:29,515 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:31,517 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:33,520 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:35,523 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:37,525 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:38,096 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:39,508 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:18:39,516 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:18:39,535 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:41,548 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:43,561 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:45,563 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:47,565 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:48,097 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:49,568 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:49,673 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:18:49,674 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:18:51,570 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:53,572 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:55,575 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:57,577 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:58,104 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:59,665 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:18:59,990 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:18:59,997 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:19:01,673 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:03,675 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:05,677 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:07,679 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:09,682 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:10,617 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:19:10,619 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:19:11,684 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:13,701 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:15,710 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:16,703 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:19:17,712 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:19,589 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:19:19,714 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:20,407 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:19:20,878 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:19:20,880 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:19:21,715 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:23,717 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:25,719 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:25,730 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:19:27,736 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:29,872 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:31,023 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:19:31,024 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:19:31,876 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:33,886 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:35,891 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:37,893 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:38,106 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:39,895 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:41,186 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:19:41,187 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:19:41,901 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:43,904 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:45,908 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:47,938 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:49,940 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:51,340 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:19:51,341 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:19:51,942 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:53,947 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:55,988 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:19:57,997 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:00,020 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:01,603 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:20:01,608 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:20:02,029 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:04,031 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:06,032 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:08,048 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:10,050 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:11,772 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:20:11,778 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:20:12,442 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:14,627 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:16,635 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:18,637 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:20,639 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:22,282 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:20:22,287 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:20:22,641 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:24,643 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:26,531 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:20:26,644 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:28,735 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:29,421 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:20:30,519 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:20:30,747 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:32,497 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:20:32,499 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:20:32,761 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:34,767 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:35,794 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:20:36,769 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:38,119 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:38,770 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:40,772 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:42,657 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:20:42,708 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:20:42,782 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:44,852 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:46,876 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:48,887 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:50,996 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:53,024 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:20:53,047 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:20:53,091 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:55,122 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:57,187 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:20:59,272 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:01,281 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:03,305 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:03,312 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:21:03,315 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:21:05,307 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:07,309 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:09,311 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:11,346 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:13,432 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:14,397 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:21:14,424 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:21:15,484 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:17,546 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:19,553 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:21,567 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:23,569 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:24,761 - qmt_trading.position_manager - WARNING - 未能获取 000001.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:21:24,763 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'str'
2025-05-18 11:21:25,630 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:27,417 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-05-18 11:21:27,634 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:27,864 - qmt_trading.strategy - INFO - 300277 执行网格交易策略成功
2025-05-18 11:21:28,002 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:21:28,003 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 11:21:28,004 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 11:21:28,924 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 11:21:28,928 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 11:21:29,300 - qmt_trading.strategy - INFO - 301252 执行网格交易策略成功
2025-05-18 11:21:29,636 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 884753.4364
2025-05-18 11:21:30,302 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:21:30,956 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:21:45,734 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 11:21:45,736 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 11:21:47,755 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 11:21:47,758 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 11:21:47,763 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 11:21:47,769 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 11:21:47,776 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 11:21:47,788 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 11:21:47,803 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 11:21:47,805 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 11:21:47,928 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 11:21:47,935 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 11:21:47,936 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 11:21:47,938 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 11:21:47,939 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 11:21:47,971 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:21:47,985 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 11:21:47 
2025-05-18 11:21:47,991 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:21:47,995 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 11:21:48,002 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 11:21:48,034 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 11:21:48,050 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 11:21:49,489 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 11:21:50,908 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 11:21:51,924 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:21:52,926 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 11:21:54,366 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 11:21:55,812 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 11:21:57,251 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 11:21:57,254 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 11:21:57,262 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 11:21:57,279 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 11:21:57,282 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 11:21:57,369 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:21:57,369 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 11:21:57,377 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 11:21:57,433 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 11:21:57,436 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 11:21:57,457 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: time data '2025-04-24' does not match format '%Y-%m-%d %H:%M:%S'
2025-05-18 11:21:57,500 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 11:21:57,583 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,585 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,587 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,588 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,589 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,590 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,591 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,591 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,592 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,594 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 11:21:57,606 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,648 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 11:21:57,649 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,654 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:57,963 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:21:58,429 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:22:00,406 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:22:00,468 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:22:01,293 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:22:01,418 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:22:02,486 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:22:03,356 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:22:03,358 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 11:22:03,358 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 11:22:04,431 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:22:04,510 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:22:06,528 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:22:07,337 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:22:07,419 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:22:07,531 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:26:33,204 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 11:26:33,290 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 11:26:35,429 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 11:26:35,432 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 11:26:35,435 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 11:26:35,451 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 11:26:35,528 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 11:26:35,538 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 11:26:35,546 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 11:26:35,566 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 11:26:36,056 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 11:26:36,127 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 11:26:36,503 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 11:26:36,837 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 11:26:36,838 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 11:26:36,856 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:26:36,856 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 11:26:36 
2025-05-18 11:26:36,857 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:26:36,858 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 11:26:36,858 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 11:26:36,860 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 11:26:36,869 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 11:26:38,404 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 11:26:39,835 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 11:26:40,998 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:26:42,000 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 11:26:43,435 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 11:26:44,839 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 11:26:46,280 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 11:26:46,282 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 11:26:46,292 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 11:26:46,299 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 11:26:46,301 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 11:26:46,381 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:26:46,381 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 11:26:46,385 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 11:26:46,396 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 11:26:46,407 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 11:26:46,417 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 11:26:46,419 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 11:26:46,428 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 11:26:46,451 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,126 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:47,750 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:26:47,753 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'NoneType'
2025-05-18 11:26:47,769 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,770 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,771 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,772 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,773 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,773 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,774 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,775 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,775 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,776 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,777 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:47,778 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:48,117 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:49,128 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:49,290 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:26:49,547 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:50,161 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:50,209 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:26:52,118 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:52,194 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:52,711 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:54,121 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:55,622 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:26:56,001 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:56,126 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:57,121 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:57,994 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:26:57,999 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'NoneType'
2025-05-18 11:26:58,013 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,014 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,014 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,015 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,015 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,016 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,016 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,017 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,017 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,018 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,029 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,030 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:58,129 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:26:59,067 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:26:59,134 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:27:01,160 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:27:02,179 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:27:02,183 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 11:27:02,183 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 11:27:02,205 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:27:02,340 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:27:02,820 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:42:05,601 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 11:42:05,618 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 11:42:07,717 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 11:42:07,720 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 11:42:07,744 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 11:42:07,757 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 11:42:07,760 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 11:42:07,762 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 11:42:07,766 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 11:42:07,766 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 11:42:07,892 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 11:42:07,942 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 11:42:07,944 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 11:42:07,948 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 11:42:07,950 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 11:42:07,965 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:42:07,967 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 11:42:07 
2025-05-18 11:42:07,967 - qmt_trading.main - INFO - ==================================================
2025-05-18 11:42:07,968 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 11:42:07,969 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 11:42:07,970 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 11:42:07,971 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 11:42:09,556 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 11:42:11,054 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 11:42:12,203 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:42:13,204 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 11:42:14,634 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 11:42:16,090 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 11:42:17,531 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 11:42:17,536 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 11:42:17,547 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 11:42:17,752 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 11:42:17,846 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 11:42:17,850 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 11:42:17,852 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 11:42:17,858 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 11:42:17,862 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 11:42:17,865 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 11:42:17,884 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 11:42:17,892 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 11:42:17,972 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 11:42:17,973 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,251 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 11:42:18,301 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '>' not supported between instances of 'float' and 'NoneType'
2025-05-18 11:42:18,595 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,597 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,599 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,612 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,649 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,650 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,652 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,653 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,655 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,667 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,675 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:18,679 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:19,709 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:42:19,710 - qmt_trading.position_manager - ERROR - 获取账户信息时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:21,060 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 11:42:21,220 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:21,712 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:42:21,881 - qmt_trading.position_manager - ERROR - 获取账户信息时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:22,212 - qmt_trading.data_manager - ERROR - 使用Mootdx下载 513100 的历史数据时出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-18 11:42:23,177 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:42:23,179 - qmt_trading.position_manager - ERROR - 获取账户信息时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:23,979 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 11:42:23,980 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 11:42:23,981 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 11:42:24,068 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:42:24,165 - qmt_trading.position_manager - ERROR - 获取账户信息时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:24,368 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:25,261 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:42:25,268 - qmt_trading.position_manager - ERROR - 获取账户信息时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:27,317 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 11:42:27,326 - qmt_trading.position_manager - ERROR - 获取账户信息时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:27,516 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 11:42:27,649 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 11:42:27,807 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:11:23,434 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 12:11:23,451 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 12:11:25,723 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 12:11:25,775 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 12:11:25,786 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 12:11:25,810 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 12:11:25,843 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 12:11:25,877 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 12:11:25,907 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 12:11:25,908 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 12:11:26,083 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:11:26,136 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:11:26,185 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 12:11:26,620 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 12:11:26,628 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 12:11:26,649 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:11:26,764 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 12:11:26 
2025-05-18 12:11:26,856 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:11:26,874 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 12:11:26,876 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 12:11:26,878 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 12:11:26,929 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 12:11:29,551 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 12:11:32,378 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 12:11:34,086 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:11:35,103 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 12:11:37,799 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 12:11:40,312 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 12:11:42,673 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 12:11:42,674 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 12:11:42,685 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 12:11:42,797 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 12:11:42,809 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 12:11:42,813 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:11:42,814 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 12:11:42,816 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 12:11:42,820 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 12:11:42,826 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 12:11:42,876 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 12:11:42,894 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 12:11:42,900 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 12:11:42,907 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,217 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:11:43,295 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:11:43,489 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,489 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,491 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,494 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,506 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,521 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,534 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,551 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,576 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,580 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,582 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:43,586 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:45,449 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:45,930 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:11:46,094 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:46,797 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:11:47,452 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:49,320 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:49,677 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:50,927 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:51,686 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:52,286 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:11:53,021 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:53,431 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:53,744 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:54,385 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:11:54,420 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:11:54,566 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,569 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,569 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,576 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,579 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,581 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,582 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,583 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,585 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,588 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,592 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:54,594 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:55,245 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:55,752 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:56,664 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:11:57,252 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:57,755 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:59,288 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:11:59,773 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:01,267 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:01,393 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:02,635 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:12:02,641 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 12:12:02,642 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 12:12:02,817 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:03,277 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:03,630 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:12:20,541 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 12:12:20,557 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 12:12:22,781 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 12:12:22,785 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 12:12:22,789 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 12:12:22,793 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 12:12:22,799 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 12:12:22,806 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 12:12:22,812 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 12:12:22,819 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 12:12:23,090 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:12:23,121 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:12:23,124 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 12:12:23,134 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 12:12:23,139 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 12:12:23,162 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:12:23,165 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 12:12:23 
2025-05-18 12:12:23,174 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:12:23,175 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 12:12:23,176 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 12:12:23,177 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 12:12:23,178 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 12:12:24,691 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 12:12:26,178 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 12:12:27,270 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:12:28,285 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 12:12:29,766 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 12:12:31,282 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 12:12:32,753 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 12:12:32,754 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 12:12:32,868 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 12:12:32,879 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 12:12:32,902 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 12:12:33,958 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:12:33,958 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 12:12:34,057 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 12:12:34,268 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 12:12:34,343 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 12:12:34,456 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 12:12:34,471 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 12:12:34,644 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 12:12:34,664 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:34,790 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:12:34,814 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:12:35,079 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,201 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,255 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,374 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,417 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,432 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,585 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,733 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,775 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,781 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,807 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,837 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:35,935 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:36,471 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:37,148 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:12:38,098 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:38,550 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:12:38,654 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:40,817 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:42,020 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:43,063 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:44,184 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:12:44,978 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:45,225 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,469 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:12:46,564 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:12:46,764 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,769 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,770 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,774 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,817 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,857 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,892 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:46,926 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:47,056 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:47,058 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:47,061 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:47,063 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:47,064 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:48,342 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:49,351 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:51,383 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:51,418 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:53,393 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:54,591 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:55,396 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:57,400 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:12:57,587 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:12:57,597 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:12:57,755 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,756 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,771 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,789 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,790 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,791 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,791 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,799 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,813 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,817 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,818 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,820 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:57,830 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:12:59,403 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:00,802 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:01,405 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:03,408 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:04,291 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:05,413 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:07,416 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:07,579 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,464 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:13:08,485 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:13:08,641 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,643 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,644 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,645 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,647 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,648 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,649 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,650 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,651 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,652 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,654 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:08,655 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:09,441 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:10,624 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:11,444 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:13,448 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:13,893 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:15,451 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:17,316 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:17,456 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:19,115 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:13:19,191 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:13:19,466 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,467 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:19,468 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,477 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,618 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,691 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,695 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,696 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,697 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,698 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,699 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,707 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:19,717 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:20,371 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:21,474 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:23,423 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:23,566 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:25,580 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:26,592 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:27,583 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:29,586 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:29,678 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:30,899 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:13:30,964 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:13:31,202 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,212 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,312 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,442 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,443 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,447 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,448 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,455 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,463 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,472 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,473 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,475 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:31,628 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:33,535 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:33,678 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:35,698 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:36,711 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:37,702 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:39,705 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:39,874 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:41,703 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:13:41,723 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:13:41,723 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:42,450 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,455 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,457 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,458 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,459 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,460 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,461 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,462 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,464 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,465 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,466 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:42,467 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:43,068 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:44,453 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:45,574 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:13:46,187 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:46,455 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:48,441 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:13:48,459 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:49,294 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:49,670 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:13:50,558 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:52,478 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:52,572 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:13:52,786 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:13:54,048 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 12:13:54,243 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:13:54,286 - qmt_trading.trading_executor - INFO - 开始买入处理: 601318.SH, volume=None, price=None, amount=20000
2025-05-18 12:13:54,463 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 12:13:54,690 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:54,727 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 12:13:54,880 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,041 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 12:13:55,174 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,200 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 601318.SH, 数量: 300, 价格: 53.39
2025-05-18 12:13:55,210 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,212 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,213 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,214 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,216 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,217 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,219 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,220 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,222 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:55,262 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181213550001
2025-05-18 12:13:55,442 - qmt_trading.trading_executor - INFO - 保存交易记录: 601318.SH BUY 价格:53.50 数量:300 金额:16050.00
2025-05-18 12:13:55,612 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 601318.SH, BUY, 价格: 53.5, 数量: 300
2025-05-18 12:13:55,619 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=601318.SH, trade_type=BUY, price=53.5, volume=300
2025-05-18 12:13:55,849 - qmt_trading.position_manager - INFO - 新增 601318.SH 持仓: 数量: 300, 成本价: 53.5, 当前价: 53.39, 首次止盈触发: False, 最高价: 53.39, 止损价: 49.75
2025-05-18 12:13:55,854 - qmt_trading.trading_executor - INFO - 新建持仓成功: 601318.SH, 数量: 300, 成本: 53.5, 结果: True
2025-05-18 12:13:55,931 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -16054.81, 余额: 983945.19
2025-05-18 12:13:56,088 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:13:56,088 - qmt_trading.trading_executor - INFO - [模拟] 买入 601318.SH 成功，委托号: SIM202505181213550001, 价格: 53.5, 数量: 300
2025-05-18 12:13:56,097 - qmt_trading.strategy - INFO - 手动买入 601318.SH 成功，委托号: SIM202505181213550001
2025-05-18 12:13:56,559 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:13:57,061 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:13:58,097 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:00,100 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:00,645 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:01,105 - qmt_trading.strategy - WARNING - 601318.SH 持仓量不足，无法创建有效的网格交易
2025-05-18 12:14:01,436 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:02,131 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:03,970 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:04,142 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:05,615 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:14:05,638 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:14:05,778 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,780 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,782 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,783 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,784 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,786 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,787 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,787 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,789 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,790 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,811 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:05,836 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:06,145 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:07,028 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:08,148 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:10,137 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:10,169 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:12,191 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:13,203 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:14,196 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:16,200 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:16,307 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:14:16,369 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:14:16,371 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,385 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,386 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,406 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,421 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,429 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,443 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,454 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,455 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,456 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,457 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,458 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:16,460 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:18,209 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 12:14:18,470 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 12:14:18,471 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000
2025-05-18 12:14:18,471 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 12:14:18,472 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 12:14:18,473 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 12:14:18,685 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 300250.SZ, 数量: 1300, 价格: 15.01
2025-05-18 12:14:18,713 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181214180002
2025-05-18 12:14:18,727 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ BUY 价格:15.04 数量:1300 金额:19552.00
2025-05-18 12:14:18,756 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ, BUY, 价格: 15.04, 数量: 1300
2025-05-18 12:14:18,771 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=15.04, volume=1300
2025-05-18 12:14:18,969 - qmt_trading.position_manager - INFO - 新增 300250.SZ 持仓: 数量: 1300, 成本价: 15.04, 当前价: 15.01, 首次止盈触发: False, 最高价: 15.01, 止损价: 13.99
2025-05-18 12:14:18,985 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ, 数量: 1300, 成本: 15.04, 结果: True
2025-05-18 12:14:18,986 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19557.87, 余额: 964387.32
2025-05-18 12:14:18,987 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505181214180002, 价格: 15.04, 数量: 1300
2025-05-18 12:14:18,987 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505181214180002
2025-05-18 12:14:19,473 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:20,215 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:22,218 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:22,572 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:23,994 - qmt_trading.strategy - WARNING - 300250.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 12:14:24,226 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:25,020 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:25,627 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:26,232 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:27,194 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:14:27,277 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:14:27,406 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,500 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,504 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,509 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,521 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,680 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,701 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,862 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,872 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,874 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,876 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:27,881 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:28,238 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:28,687 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:30,244 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:31,748 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:32,247 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:34,253 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964387.3194
2025-05-18 12:14:34,970 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:35,223 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 12:14:35,232 - qmt_trading.trading_executor - INFO - 开始买入处理: 601318.SH, volume=None, price=None, amount=20000
2025-05-18 12:14:35,234 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 12:14:35,238 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 12:14:35,352 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 12:14:35,503 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 601318.SH, 数量: 300, 价格: 53.39
2025-05-18 12:14:35,524 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181214350003
2025-05-18 12:14:35,525 - qmt_trading.trading_executor - INFO - 保存交易记录: 601318.SH BUY 价格:53.50 数量:300 金额:16050.00
2025-05-18 12:14:35,535 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 601318.SH, BUY, 价格: 53.5, 数量: 300
2025-05-18 12:14:35,536 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=601318.SH, trade_type=BUY, price=53.5, volume=300
2025-05-18 12:14:35,594 - qmt_trading.trading_executor - INFO - 更新持仓成功: 601318.SH, 新数量: 600.0, 新成本: 53.5, 结果: True
2025-05-18 12:14:35,596 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -16054.81, 余额: 948332.50
2025-05-18 12:14:35,710 - qmt_trading.trading_executor - INFO - [模拟] 买入 601318.SH 成功，委托号: SIM202505181214350003, 价格: 53.5, 数量: 300
2025-05-18 12:14:35,723 - qmt_trading.strategy - INFO - 手动买入 601318.SH 成功，委托号: SIM202505181214350003
2025-05-18 12:14:36,152 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:36,284 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:38,239 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,386 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:38,606 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:14:38,659 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:14:38,882 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,883 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,884 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,884 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,885 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,886 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,886 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,887 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,888 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,897 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,902 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:38,903 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:40,457 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:41,400 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:42,461 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:44,472 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:44,782 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:46,483 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:47,958 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:48,485 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:49,300 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:14:49,376 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:14:49,422 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,424 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,427 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,427 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,429 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,430 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,432 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,432 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,434 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,451 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,464 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:49,467 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:50,488 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:51,240 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:52,498 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:54,423 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:54,638 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:56,667 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:57,474 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:14:57,758 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:58,670 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:14:59,724 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:14:59,760 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:14:59,926 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,928 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,929 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,930 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,930 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,931 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,932 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,936 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:14:59,949 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:00,197 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:00,218 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:00,223 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:00,398 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:15:00,773 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:01,333 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:01,560 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:15:03,302 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:03,725 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:15:04,128 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:04,572 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:05,570 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:07,049 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:15:07,854 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:08,691 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:09,865 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:10,557 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:15:10,586 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:15:10,724 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,725 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,726 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,727 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,727 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,728 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,729 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,729 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,730 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,730 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,734 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:10,739 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:11,308 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:11,873 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:11,889 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:13,877 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:15,137 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:16,684 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:17,327 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:18,946 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:20,284 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:20,956 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:21,509 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:15:21,572 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:15:21,614 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,621 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,623 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,625 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,651 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,658 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,661 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,668 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,670 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,683 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,809 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:21,810 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:22,959 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:23,306 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:23,512 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:24,972 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:26,798 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:27,074 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:28,437 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:29,094 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:30,104 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:31,100 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 948332.5044000001
2025-05-18 12:15:31,880 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:15:31,887 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:15:31,902 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 12:15:32,062 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 12:15:32,285 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:15:32,307 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:15:32,512 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,513 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,514 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,515 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,516 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,516 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,523 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,530 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,539 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,547 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,558 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:32,565 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:33,219 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:36,516 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:39,787 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:42,880 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,078 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:15:43,085 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:15:43,127 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,129 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,130 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,130 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,131 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,134 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,135 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,136 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,136 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,137 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,137 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:43,138 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:46,094 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:49,404 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,379 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:15:53,410 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:15:53,565 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,629 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,642 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,762 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,914 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,915 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,915 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,916 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,917 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,917 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,917 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,918 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:53,919 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:57,138 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:15:58,910 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:15:58,911 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 12:15:58,912 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 12:15:59,639 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:16:38,093 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 12:16:38,096 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 12:16:40,119 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 12:16:40,121 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 12:16:40,126 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 12:16:40,129 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 12:16:40,131 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 12:16:40,135 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 12:16:40,138 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 12:16:40,139 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 12:16:40,357 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:16:40,404 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:16:40,408 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 12:16:40,447 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 12:16:40,450 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 12:16:40,544 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:16:40,548 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 12:16:40 
2025-05-18 12:16:40,555 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:16:40,565 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 12:16:40,568 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 12:16:40,570 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 12:16:40,571 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 12:16:43,472 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 12:16:45,369 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 12:16:46,671 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:16:47,675 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 12:16:49,128 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 12:16:50,585 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 12:16:52,084 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 12:16:52,085 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 12:16:52,127 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 12:16:52,150 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 12:16:52,196 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 12:16:52,355 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 12:16:52,356 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 12:16:52,359 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:16:52,380 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 12:16:52,389 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 12:16:52,460 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 12:16:52,572 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 12:16:52,577 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 12:16:52,583 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,771 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:16:52,778 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:16:52,867 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,869 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,871 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,872 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,875 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,877 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,878 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,886 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,928 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:52,974 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:53,052 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:53,119 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:53,467 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:16:55,252 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:16:55,404 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:16:55,484 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:16:55,875 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:56,403 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:16:57,508 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:16:59,416 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:16:59,591 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:00,257 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:01,849 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:17:01,999 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:02,296 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:03,205 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,737 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:17:03,757 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:17:03,870 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,871 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,873 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,874 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,875 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,883 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,887 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,895 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,954 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,964 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,981 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:03,989 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:05,135 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:05,398 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:06,609 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:07,145 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:07,409 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:09,415 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:09,662 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:10,269 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:10,276 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:11,419 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:11,985 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:13,286 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:13,608 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,025 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:14,451 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:17:14,476 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:17:14,704 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,710 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,712 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,717 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,726 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,747 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,764 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,795 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,842 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,881 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,892 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:14,924 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:15,326 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:16,665 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:17,773 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:18,256 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:19,738 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:19,859 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:20,267 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:21,255 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:22,308 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:22,904 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:23,268 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:24,251 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:26,283 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:30,042 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:31,321 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:33,816 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,041 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:34,061 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:17:34,160 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:17:34,285 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,289 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,292 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,294 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,295 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,296 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,298 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,301 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,305 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,309 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,316 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,327 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:34,548 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:36,296 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:36,320 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:37,100 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:38,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:40,377 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:40,378 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:41,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:42,509 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:43,347 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:43,509 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:17:44,254 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:48,221 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:49,256 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:17:54,255 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:19:05,153 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:05,155 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:19:38,312 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:19:49,699 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:19:49,702 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:19:49,889 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:19:49,891 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,077 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,236 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,259 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,325 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,402 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,520 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,569 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,594 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,621 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,637 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,671 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:50,677 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:52,565 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:19:53,419 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:54,612 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:19:56,511 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:19:57,122 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:19:59,134 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:20:00,163 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:20:13,462 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:20:13,471 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:20:21,444 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:20:31,448 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:20:38,264 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:20:40,586 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:21:19,066 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: local variable 'highest_price' referenced before assignment
2025-05-18 12:21:19,537 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,545 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,583 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,587 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,590 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,592 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,612 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,621 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,640 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,656 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,678 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:19,679 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:21,520 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:21:21,598 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:21:22,880 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:22,890 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:21:23,640 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:21:25,667 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:21:26,117 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:27,818 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:21:28,427 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:21:29,264 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:21:29,826 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:21:38,262 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:21:38,549 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:22:13,893 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:22:20,866 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:22:24,740 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:22:38,266 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:23:38,269 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:28:40,404 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:28:42,665 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:28:42,863 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:28:42,866 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 12:34:45,283 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 12:34:45,289 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 12:34:47,389 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 12:34:47,393 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 12:34:47,400 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 12:34:47,407 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 12:34:47,429 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 12:34:47,448 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 12:34:47,462 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 12:34:47,463 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 12:34:47,631 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:34:47,645 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:34:47,650 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 12:34:47,653 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 12:34:47,656 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 12:34:47,679 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:34:47,725 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 12:34:47 
2025-05-18 12:34:47,733 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:34:47,734 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 12:34:47,735 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 12:34:47,736 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 12:34:47,739 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 12:34:49,219 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 12:34:50,657 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 12:34:52,405 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:34:53,425 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 12:34:54,866 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 12:34:56,526 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 12:34:57,952 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 12:34:57,958 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 12:34:57,973 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 12:34:58,110 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 12:34:58,145 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 12:34:58,212 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:34:58,212 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 12:34:58,232 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 12:34:58,240 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 12:34:58,241 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 12:34:58,251 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 12:34:58,312 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 12:34:58,468 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 12:34:58,636 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:34:58,992 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:34:59,235 - qmt_trading.position_manager - INFO - 更新 513100 持仓: 最高价: 从 None 到 1.57
2025-05-18 12:34:59,238 - qmt_trading.position_manager - INFO - 更新 513100 的最高价为 1.57
2025-05-18 12:34:59,375 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:34:59,428 - qmt_trading.position_manager - INFO - 更新 600571 持仓: 最高价: 从 None 到 15.57
2025-05-18 12:34:59,429 - qmt_trading.position_manager - INFO - 更新 600571 的最高价为 15.57
2025-05-18 12:34:59,777 - qmt_trading.position_manager - INFO - 更新 600787 持仓: 最高价: 从 None 到 6.7
2025-05-18 12:34:59,782 - qmt_trading.position_manager - INFO - 更新 600787 的最高价为 6.70
2025-05-18 12:35:00,096 - qmt_trading.position_manager - INFO - 更新 603883 持仓: 最高价: 从 None 到 20.65
2025-05-18 12:35:00,096 - qmt_trading.position_manager - INFO - 更新 603883 的最高价为 20.65
2025-05-18 12:35:00,372 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 最高价: 从 None 到 13.86
2025-05-18 12:35:00,373 - qmt_trading.position_manager - INFO - 更新 300277 的最高价为 13.86
2025-05-18 12:35:00,643 - qmt_trading.position_manager - INFO - 更新 301252 持仓: 最高价: 从 None 到 36.45
2025-05-18 12:35:00,643 - qmt_trading.position_manager - INFO - 更新 301252 的最高价为 36.45
2025-05-18 12:35:00,666 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,667 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,668 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,668 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,669 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,670 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,671 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,672 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,673 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,674 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,674 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:00,675 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:35:01,347 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:35:02,581 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:35:07,923 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:35:10,878 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:11,631 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:13,483 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:35:13,484 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:35:13,484 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:35:13,485 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:35:24,293 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:24,503 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:26,620 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:35:26,622 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:35:26,626 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:35:26,627 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:35:30,940 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:35:36,986 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:37,291 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:38,670 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:35:38,671 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:35:38,672 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:35:38,673 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:35:48,141 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:35:48,923 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:49,071 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:35:50,440 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:35:50,440 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:35:50,441 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:35:50,441 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:35:54,649 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:35:54,719 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:35:54,722 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 12:35:54,724 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 12:36:00,722 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:36:00,867 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:36:02,067 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:36:02,092 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:36:02,107 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:36:02,114 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:36:07,901 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:36:07,922 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:36:07,923 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-18 12:36:07,924 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-18 12:36:09,438 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:36:12,259 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:36:12,325 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:36:12,514 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:36:13,307 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:36:14,304 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:36:14,459 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-18 12:36:14,787 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:36:14,788 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:36:14,796 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:36:14,802 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:36:18,699 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:36:22,556 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:36:25,058 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:36:25,198 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:36:26,499 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:36:26,500 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:36:26,501 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:36:26,501 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:36:27,856 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:27,857 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 12:36:27,859 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 12:36:27,935 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 12:36:27,938 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 12:36:28,504 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:33,329 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:33,370 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 12:36:33,550 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:39,602 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:39,745 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:39,746 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:39,943 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:36:59,019 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 12:36:59,021 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 12:37:01,038 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 12:37:01,051 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 12:37:01,062 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 12:37:01,067 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 12:37:01,081 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 12:37:01,093 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 12:37:01,099 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 12:37:01,108 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 12:37:01,338 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:37:01,347 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:37:01,348 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 12:37:01,362 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 12:37:01,372 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 12:37:01,409 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:37:01,489 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 12:37:01 
2025-05-18 12:37:01,495 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:37:01,496 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 12:37:01,498 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 12:37:01,500 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 12:37:01,504 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 12:37:02,932 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 12:37:04,365 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 12:37:05,605 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:37:06,608 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 12:37:08,034 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 12:37:09,605 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 12:37:11,037 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 12:37:11,045 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 12:37:11,054 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 12:37:11,181 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 12:37:11,275 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 12:37:11,286 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:37:11,286 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 12:37:11,320 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 12:37:11,384 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 12:37:11,398 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 12:37:11,401 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 12:37:11,406 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 12:37:11,453 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 12:37:11,475 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:12,007 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:12,722 - qmt_trading.position_manager - INFO - 更新 513100 持仓: 最高价: 从 None 到 1.57
2025-05-18 12:37:12,781 - qmt_trading.position_manager - INFO - 更新 513100 的最高价为 1.57
2025-05-18 12:37:12,931 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:13,110 - qmt_trading.position_manager - INFO - 更新 600571 持仓: 最高价: 从 None 到 15.57
2025-05-18 12:37:13,147 - qmt_trading.position_manager - INFO - 更新 600571 的最高价为 15.57
2025-05-18 12:37:13,423 - qmt_trading.position_manager - INFO - 更新 600787 持仓: 最高价: 从 None 到 6.7
2025-05-18 12:37:13,423 - qmt_trading.position_manager - INFO - 更新 600787 的最高价为 6.70
2025-05-18 12:37:13,692 - qmt_trading.position_manager - INFO - 更新 603883 持仓: 最高价: 从 None 到 20.65
2025-05-18 12:37:13,692 - qmt_trading.position_manager - INFO - 更新 603883 的最高价为 20.65
2025-05-18 12:37:13,962 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 最高价: 从 None 到 13.86
2025-05-18 12:37:13,963 - qmt_trading.position_manager - INFO - 更新 300277 的最高价为 13.86
2025-05-18 12:37:14,299 - qmt_trading.position_manager - INFO - 更新 301252 持仓: 最高价: 从 None 到 36.45
2025-05-18 12:37:14,300 - qmt_trading.position_manager - INFO - 更新 301252 的最高价为 36.45
2025-05-18 12:37:14,317 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,319 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 513100: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,325 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,329 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600571: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,331 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,337 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 600787: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,340 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,344 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,401 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,403 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,406 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,406 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:37:14,510 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:37:15,342 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:15,508 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:37:17,446 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:18,419 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:18,768 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:37:19,477 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:21,148 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:37:21,683 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:23,031 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:23,697 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:24,525 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:24,726 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:24,891 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:26,537 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:26,633 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:37:26,635 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:37:26,635 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:37:26,644 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:37:28,569 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:29,493 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:30,626 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:32,662 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:34,666 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:36,548 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:36,675 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:37,322 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:37,475 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:38,596 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:37:38,597 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:37:38,598 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:37:38,602 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:37:38,682 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:40,684 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:42,552 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:42,721 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:44,723 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:46,726 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:48,551 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:48,729 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:48,910 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:49,105 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:37:50,410 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:37:50,410 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:37:50,411 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:37:50,411 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:37:50,742 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:52,752 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:54,555 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:54,780 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:56,788 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:37:58,791 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:00,614 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:00,773 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:00,799 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:02,103 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:38:02,103 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:38:02,105 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:38:02,106 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:38:02,227 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:02,805 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:04,808 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:06,812 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:08,199 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:08,843 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:10,877 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:12,304 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:12,446 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:12,885 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:13,587 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:38:13,587 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:38:13,588 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:38:13,588 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:38:14,201 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:14,900 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:16,904 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:18,907 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:20,238 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:20,910 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:21,490 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:38:22,912 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:23,810 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:24,017 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:24,384 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:38:25,525 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:25,677 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:38:25,880 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:26,359 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:38:26,362 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:38:26,363 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:38:26,364 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:38:27,533 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:29,536 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:30,997 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:38:31,539 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:31,739 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:33,579 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:35,591 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:36,585 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:36,777 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:37,596 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:37,740 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:38,052 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:38:38,057 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:38:38,058 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:38:38,058 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:38:39,609 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:41,614 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:43,617 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:43,740 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:45,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:47,622 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:48,317 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:48,454 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:38:49,626 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:49,742 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:49,981 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:38:49,998 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:38:50,000 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:38:50,005 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:38:51,628 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:53,636 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:55,875 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:56,195 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:57,906 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:38:59,909 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:00,680 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:00,823 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:01,912 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:02,007 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:39:02,009 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:39:02,009 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:39:02,010 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:39:02,153 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:03,916 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:05,927 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:07,932 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:08,269 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:09,936 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:11,938 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:12,246 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:12,744 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:13,911 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:39:13,912 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:39:13,913 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:39:13,913 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:39:13,944 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:14,154 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:15,951 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:17,956 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:19,959 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:20,153 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:21,962 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:23,967 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:24,164 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:24,302 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:25,787 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:39:25,787 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:39:25,788 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:39:25,789 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:39:26,000 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:39:26,189 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:39:26,274 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:39:26,277 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 12:39:26,278 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 12:39:27,198 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:30,379 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:32,054 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:39:33,599 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:34,375 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-18 12:39:34,991 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:39:35,828 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:39:36,067 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:36,095 - qmt_trading.position_manager - INFO - 更新 513100 持仓: 最高价: 从 None 到 1.57
2025-05-18 12:39:36,096 - qmt_trading.position_manager - INFO - 更新 513100 的最高价为 1.57
2025-05-18 12:39:36,109 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:39:36,256 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:36,265 - qmt_trading.position_manager - INFO - 更新 600571 持仓: 最高价: 从 None 到 15.57
2025-05-18 12:39:36,265 - qmt_trading.position_manager - INFO - 更新 600571 的最高价为 15.57
2025-05-18 12:39:36,582 - qmt_trading.position_manager - INFO - 更新 600787 持仓: 最高价: 从 None 到 6.7
2025-05-18 12:39:36,583 - qmt_trading.position_manager - INFO - 更新 600787 的最高价为 6.70
2025-05-18 12:39:36,703 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:36,992 - qmt_trading.position_manager - INFO - 更新 603883 持仓: 最高价: 从 None 到 20.65
2025-05-18 12:39:36,993 - qmt_trading.position_manager - INFO - 更新 603883 的最高价为 20.65
2025-05-18 12:39:37,365 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 最高价: 从 None 到 13.86
2025-05-18 12:39:37,367 - qmt_trading.position_manager - INFO - 更新 300277 的最高价为 13.86
2025-05-18 12:39:37,653 - qmt_trading.position_manager - INFO - 更新 301252 持仓: 最高价: 从 None 到 36.45
2025-05-18 12:39:37,653 - qmt_trading.position_manager - INFO - 更新 301252 的最高价为 36.45
2025-05-18 12:39:37,670 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:37,671 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 603883: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:37,671 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:37,672 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 300277: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:37,673 - qmt_trading.position_manager - ERROR - 价格数据类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:37,674 - qmt_trading.position_manager - ERROR - 更新最高价时类型转换错误 - 301252: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:39:39,276 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:39:39,294 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:39:39,369 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:39:39,384 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:39:39,386 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:39:39,389 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:39:41,731 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:39:44,532 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:39:44,533 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:39:44,534 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:39:44,535 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:39:44,536 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:39:44,537 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:39:47,913 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:48,056 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:49,201 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:39:49,202 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:39:49,203 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:39:49,203 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:39:49,561 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:39:49,562 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:39:49,563 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:39:49,564 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:39:49,565 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:39:49,565 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:39:54,616 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:39:54,671 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:39:54,742 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:39:54,755 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:39:54,759 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:39:54,868 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:39:59,727 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:39:59,889 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:39:59,889 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:39:59,890 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:39:59,891 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:39:59,893 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:39:59,896 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:39:59,900 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:01,558 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:40:01,559 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:40:01,559 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:40:01,560 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:40:04,945 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:04,947 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:04,948 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:04,949 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:04,950 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:04,950 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:10,091 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:10,234 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:10,271 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:10,309 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:10,375 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:10,378 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:11,791 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:11,951 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:13,531 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:40:13,532 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:40:13,533 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:40:13,535 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:40:15,437 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:15,438 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:15,438 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:15,444 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:15,448 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:15,449 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:20,481 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:20,482 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:20,483 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:20,484 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:20,485 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:20,486 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:23,787 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:24,109 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:25,473 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:40:25,475 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:40:25,475 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:40:25,476 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:40:25,566 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:25,567 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:25,568 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:25,568 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:25,569 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:25,570 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:30,717 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:30,719 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:30,720 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:30,721 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:30,722 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:30,723 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:35,709 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:36,090 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:36,279 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:36,284 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:36,291 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:36,292 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:36,295 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:36,297 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:37,800 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:40:37,802 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:40:37,803 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:40:37,804 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:40:41,375 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:41,376 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:41,376 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:41,378 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:41,378 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:41,379 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:42,336 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:40:45,172 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:40:46,143 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:40:46,398 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:46,399 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:46,400 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:46,402 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:46,403 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:46,404 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:48,148 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:48,357 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:40:49,538 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:40:49,539 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:40:49,540 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:40:49,540 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:40:51,442 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:51,443 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:51,444 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:51,446 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:51,447 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:51,448 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:51,455 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:40:56,467 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:40:56,468 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:40:56,469 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:40:56,470 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:40:56,471 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:40:56,473 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:40:59,748 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:00,131 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:01,488 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:01,489 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:01,490 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:01,492 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:01,493 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:01,494 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:02,183 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:41:02,184 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:41:02,184 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:41:02,185 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:41:06,677 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:06,678 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:06,681 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:06,682 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:06,684 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:06,686 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:11,703 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:11,704 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:11,705 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:11,705 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:11,706 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:11,707 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:12,431 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:12,608 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:13,839 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:41:13,840 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:41:13,840 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:41:13,841 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:41:16,723 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:16,724 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:16,724 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:16,725 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:16,726 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:16,727 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:21,753 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:21,755 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:21,755 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:21,756 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:21,757 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:21,760 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:24,064 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:24,202 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:25,312 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:41:25,313 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:41:25,314 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:41:25,314 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:41:26,785 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:26,786 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:26,786 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:26,788 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:26,788 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:26,789 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:31,857 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:31,859 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:31,860 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:31,861 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:31,862 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:31,863 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:35,538 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:35,687 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-05-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:41:36,956 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-18 12:41:36,958 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:41:36,960 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-18 12:41:36,961 - qmt_trading.position_manager - INFO - 更新内存数据库的 603883 到sql数据库
2025-05-18 12:41:36,962 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-18 12:41:36,964 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-18 12:41:37,415 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:41:37,416 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:41:37,418 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:41:37,418 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:41:40,521 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:41:40,525 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 12:41:40,527 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 12:41:40,968 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 12:41:40,968 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 12:41:41,421 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-18 12:41:41,421 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-18 12:41:41,422 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-18 12:41:41,423 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-18 12:41:41,424 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-18 12:41:41,425 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-18 12:41:41,425 - qmt_trading.main - INFO - 资源清理完成
2025-05-18 12:41:41,426 - qmt_trading.main - INFO - 系统已退出
2025-05-18 12:41:59,536 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 12:41:59,537 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 12:42:01,555 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 12:42:01,557 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 12:42:01,605 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 12:42:01,615 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 12:42:01,623 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 12:42:01,634 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 12:42:01,646 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 12:42:01,652 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 12:42:01,883 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:42:01,895 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:42:01,906 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 12:42:01,918 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 12:42:01,918 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 12:42:01,941 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:42:01,942 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 12:42:01 
2025-05-18 12:42:01,944 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:42:01,945 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 12:42:01,946 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 12:42:01,947 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 12:42:01,949 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 12:42:03,400 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 12:42:04,872 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 12:42:05,995 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:42:06,998 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 12:42:08,435 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 12:42:09,859 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 12:42:11,300 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 12:42:11,304 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 12:42:11,370 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 12:42:11,468 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 12:42:11,477 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 12:42:11,496 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:42:11,496 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 12:42:11,517 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 12:42:11,576 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 12:42:11,577 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 12:42:11,673 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 12:42:11,708 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 12:42:11,767 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 12:42:11,838 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:12,068 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:42:12,428 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:12,489 - qmt_trading.position_manager - INFO - 更新 600571 持仓: 最高价: 从 15.57 到 17.25
2025-05-18 12:42:12,490 - qmt_trading.position_manager - INFO - 更新 600571 的最高价为 17.25
2025-05-18 12:42:13,415 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:13,762 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:42:13,763 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:42:13,764 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:42:13,764 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:42:14,438 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:14,544 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:42:15,429 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:15,633 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:42:16,705 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:18,706 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:18,804 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:20,833 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:20,961 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:42:21,841 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:22,836 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:23,313 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:24,005 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:42:24,860 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:25,049 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:25,671 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:42:25,672 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:42:25,673 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:42:25,673 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:42:27,219 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:28,200 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:29,223 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:31,227 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:31,349 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:32,821 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:33,294 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:34,603 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:35,316 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:35,953 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:42:37,319 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:37,378 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:42:37,378 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:42:37,379 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:42:37,380 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:42:37,757 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:38,519 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:39,410 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:40,856 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:41,444 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:41,686 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:43,599 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:43,717 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:43,846 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:43,986 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:45,389 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:47,076 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:47,392 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:47,789 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:42:49,179 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:42:49,179 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:42:49,180 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:42:49,180 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:42:49,394 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:50,211 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:51,398 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:53,329 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:53,492 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:55,488 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:42:55,581 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:55,669 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:55,760 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-18 12:42:55,897 - qmt_trading.web_server - WARNING - UI监控状态未变化: False -> False (通过API)
2025-05-18 12:42:56,689 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:42:57,643 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:59,388 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:42:59,646 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:42:59,763 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:01,531 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:43:01,534 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:43:01,539 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:43:01,539 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:43:01,694 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:02,819 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:03,776 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:05,784 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:05,961 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:07,792 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:09,155 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:09,795 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:11,744 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:43:11,798 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:12,365 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:13,352 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:43:13,353 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:43:13,359 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:43:13,476 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:43:13,668 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:43:13,798 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:13,857 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:15,489 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:15,922 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:17,927 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:18,540 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:19,699 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:19,931 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:21,640 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:21,948 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:22,386 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:43:23,760 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:43:23,974 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:24,733 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:25,358 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:43:25,358 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:43:25,359 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:43:25,360 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:43:25,361 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:43:26,481 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:26,505 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:26,717 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:43:27,879 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:28,510 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:30,512 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:30,981 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:32,066 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:32,204 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:43:32,515 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:34,035 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:34,518 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:35,675 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:43:36,539 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:43:37,115 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:37,478 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:43:37,479 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:43:37,480 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:43:37,480 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:43:37,598 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:43:37,634 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:43:37,638 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 12:43:37,645 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 12:43:40,162 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:43,221 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:46,307 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:47,720 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:43:48,008 - qmt_trading.position_manager - INFO - 更新 600571 持仓: 最高价: 从 15.57 到 17.25
2025-05-18 12:43:48,011 - qmt_trading.position_manager - INFO - 更新 600571 的最高价为 17.25
2025-05-18 12:43:49,301 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:43:49,302 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:43:49,303 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:43:49,303 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:43:49,369 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:50,318 - qmt_trading.position_manager - INFO - 更新内存数据库的 600571 到sql数据库
2025-05-18 12:43:52,457 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:55,543 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:58,645 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:43:59,541 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:44:01,227 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:44:01,228 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:44:01,228 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:44:01,229 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:44:01,721 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:44:05,057 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:44:08,190 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:44:11,234 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:44:11,467 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:44:13,299 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:44:13,299 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:44:13,300 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:44:13,300 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:44:14,394 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:44:17,557 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:44:18,610 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:44:18,611 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 12:44:18,613 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 12:44:18,696 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 12:44:18,697 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 12:44:19,311 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 12:58:25,942 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 12:58:25,966 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 12:58:28,091 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 12:58:28,094 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 12:58:28,097 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 12:58:28,158 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 12:58:28,169 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 12:58:28,185 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 12:58:28,202 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 12:58:28,203 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 12:58:28,387 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:58:28,418 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:58:28,420 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 12:58:28,427 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 12:58:28,428 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 12:58:28,444 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:58:28,446 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 12:58:28 
2025-05-18 12:58:28,446 - qmt_trading.main - INFO - ==================================================
2025-05-18 12:58:28,448 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 12:58:28,449 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 12:58:28,450 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 12:58:28,451 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 12:58:29,963 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 12:58:31,423 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 12:58:32,701 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:58:33,704 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 12:58:35,169 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 12:58:37,511 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 12:58:38,987 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 12:58:38,987 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 12:58:39,002 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 12:58:39,017 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 12:58:39,024 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 12:58:39,027 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:58:39,027 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 12:58:39,056 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 12:58:39,067 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 12:58:39,079 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 12:58:39,220 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 12:58:39,273 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 12:58:39,289 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 12:58:39,326 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:58:39,758 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:58:40,093 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:41,401 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:41,408 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:58:41,429 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:58:41,550 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:58:41,634 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:58:42,104 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:58:42,156 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:42,982 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:58:43,202 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:58:43,356 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:44,214 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:45,423 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:45,439 - qmt_trading.web_server - WARNING - UI监控状态未变化: False -> False (通过API)
2025-05-18 12:58:46,452 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:58:47,478 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:48,360 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:48,617 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:58:49,481 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:49,626 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:58:50,365 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:51,609 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:52,349 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:58:52,407 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:52,744 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:58:53,623 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:54,435 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:58:54,435 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:58:54,436 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:58:54,437 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:58:55,677 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:55,997 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:58:56,613 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:57,845 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:58,617 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:58:59,199 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:00,677 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:01,619 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:02,288 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:02,680 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:03,623 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:04,645 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:59:05,378 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:05,650 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:06,637 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:06,782 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:59:06,784 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:59:06,784 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:59:06,793 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:59:07,759 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:08,651 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:08,793 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:10,657 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:11,625 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:11,829 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:12,664 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:13,630 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:14,882 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:15,635 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:16,369 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:17,089 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:59:17,638 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:17,929 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:18,374 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:18,784 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:59:18,784 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:59:18,785 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:59:18,785 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:59:20,391 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:20,653 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:59:20,660 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:59:20,667 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 12:59:20,667 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 12:59:21,054 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:24,157 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 12:59:24,530 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:27,811 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:29,017 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:59:30,902 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:31,614 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:59:31,615 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:59:31,617 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:59:31,618 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:59:34,078 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:37,216 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:37,216 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 12:59:37,249 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 12:59:37,269 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-18 12:59:37,273 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-18 12:59:37,642 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:38,753 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:39,645 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:40,233 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:40,759 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:41,833 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:59:42,151 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:43,263 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:43,428 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:44,695 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:59:44,696 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:59:44,697 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:59:44,697 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:59:45,440 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:46,622 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:47,442 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:49,362 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:49,455 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:49,859 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:50,273 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 12:59:51,474 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:53,031 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:53,166 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 12:59:53,477 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:54,095 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 12:59:54,919 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 12:59:55,410 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:55,559 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:56,528 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 12:59:57,439 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 12:59:57,442 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 12:59:57,448 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 12:59:57,456 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 12:59:57,598 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:59,536 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 12:59:59,638 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 12:59:59,833 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:01,677 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:00:02,619 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:00:02,888 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:03,680 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:00:05,182 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:00:05,189 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:00:05,189 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 13:00:05,193 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 13:00:06,054 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:07,667 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:00:10,236 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:10,237 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:00:10,278 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:00:10,380 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:00:10,398 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:00:13,436 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:16,551 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:19,608 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:20,692 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:00:22,253 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:00:22,273 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:00:22,432 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:00:22,481 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:00:22,681 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:25,835 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:28,903 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:31,987 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:32,968 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:00:34,487 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:00:34,489 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:00:34,489 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:00:34,490 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:00:35,756 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:38,922 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:42,121 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:44,714 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:00:45,295 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:47,249 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:00:47,250 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:00:47,250 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:00:47,251 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:00:48,504 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:51,769 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:54,970 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:57,528 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:00:57,775 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:00:57,777 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 13:00:57,779 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 13:00:58,240 - qmt_trading.position_manager - ERROR - 更新所有持仓价格时出错: float() argument must be a string or a number, not 'NoneType'
2025-05-18 13:00:58,316 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:00:58,345 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:11:48,586 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 13:11:48,604 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 13:11:51,772 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 13:11:52,189 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 13:11:52,369 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 13:11:52,516 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 13:11:52,624 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 13:11:52,767 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 13:11:53,072 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 13:11:53,123 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 13:11:57,531 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:11:57,587 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:11:57,590 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 13:11:57,629 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 13:11:57,782 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 13:11:57,857 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:11:57,985 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 13:11:57 
2025-05-18 13:11:58,007 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:11:58,020 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 13:11:58,021 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 13:11:58,024 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 13:11:58,027 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 13:11:59,535 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 13:12:00,969 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 13:12:02,269 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:12:03,272 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 13:12:04,689 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 13:12:06,129 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 13:12:07,545 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 13:12:07,546 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 13:12:07,555 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 13:12:07,562 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 13:12:07,686 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 13:12:07,933 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:12:07,934 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 13:12:07,995 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 13:12:08,123 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 13:12:08,124 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 13:12:08,354 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 13:12:09,550 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 13:12:09,682 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:12:09,817 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 13:12:12,424 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:12:13,469 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:12:13,839 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:12:13,846 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:12:13,848 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:12:13,848 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:12:14,118 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:16,346 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:18,584 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:19,341 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:12:19,514 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:20,588 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:21,827 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:22,395 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:23,886 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:24,297 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:12:24,428 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:26,777 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:27,262 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:12:27,263 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:12:27,263 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:12:27,264 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:12:27,612 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:29,643 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:31,661 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:31,780 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:33,424 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:33,666 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:33,795 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:35,624 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:37,749 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:37,804 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:38,348 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:38,393 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:12:44,089 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:44,977 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:12:44,993 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:12:45,208 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:12:45,284 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:12:47,597 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:50,034 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:52,044 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:54,058 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:55,006 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 13:12:55,223 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:55,755 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:12:56,161 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:58,514 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:12:59,249 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:12:59,302 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:12:59,381 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:12:59,402 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:13:00,919 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:13:01,034 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:13:03,067 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:13:05,256 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:13:07,101 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:13:07,301 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:13:08,341 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 13:13:08,522 - qmt_trading.trading_executor - INFO - 开始买入处理: 601857.SH, volume=None, price=None, amount=20000
2025-05-18 13:13:08,658 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 13:13:08,812 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 13:13:09,050 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 13:13:09,143 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 601857.SH, 数量: 2400, 价格: 8.15
2025-05-18 13:13:09,347 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181313090001
2025-05-18 13:13:09,348 - qmt_trading.trading_executor - INFO - 保存交易记录: 601857.SH BUY 价格:8.17 数量:2400 金额:19608.00
2025-05-18 13:13:09,362 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 601857.SH, BUY, 价格: 8.17, 数量: 2400
2025-05-18 13:13:09,363 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=601857.SH, trade_type=BUY, price=8.17, volume=2400
2025-05-18 13:13:09,524 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:13:09,525 - qmt_trading.trading_executor - INFO - 新建持仓成功: 601857.SH, 数量: 2400, 成本: 8.17, 结果: None
2025-05-18 13:13:09,549 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19613.88, 余额: 980386.12
2025-05-18 13:13:09,560 - qmt_trading.trading_executor - INFO - [模拟] 买入 601857.SH 成功，委托号: SIM202505181313090001, 价格: 8.17, 数量: 2400
2025-05-18 13:13:10,620 - qmt_trading.strategy - INFO - 手动买入 601857.SH 成功，委托号: SIM202505181313090001
2025-05-18 13:13:12,008 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:13:12,319 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:14,438 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:16,498 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:16,499 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:13:16,567 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:13:16,569 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:13:16,569 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:13:17,005 - qmt_trading.strategy - WARNING - 未持有 601857.SH，无法初始化网格交易
2025-05-18 13:13:18,645 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:19,603 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:21,281 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:24,087 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:26,236 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:26,891 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:13:27,519 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:27,966 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:13:28,383 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:29,736 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:13:29,747 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:13:29,766 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:13:29,882 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:13:31,012 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:31,815 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:13:32,804 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:13:33,029 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:35,182 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:36,319 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 13:13:36,350 - qmt_trading.trading_executor - INFO - 开始买入处理: 600383.SH, volume=None, price=None, amount=20000
2025-05-18 13:13:36,519 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 13:13:36,677 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 13:13:36,929 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 13:13:37,250 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980386.1176
2025-05-18 13:13:37,454 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 600383.SH, 数量: 4800, 价格: 4.11
2025-05-18 13:13:37,622 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181313370002
2025-05-18 13:13:37,623 - qmt_trading.trading_executor - INFO - 保存交易记录: 600383.SH BUY 价格:4.12 数量:4800 金额:19776.00
2025-05-18 13:13:37,642 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 600383.SH, BUY, 价格: 4.12, 数量: 4800
2025-05-18 13:13:37,643 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=600383.SH, trade_type=BUY, price=4.12, volume=4800
2025-05-18 13:13:37,858 - qmt_trading.trading_executor - INFO - 新建持仓成功: 600383.SH, 数量: 4800, 成本: 4.12, 结果: None
2025-05-18 13:13:37,858 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19781.93, 余额: 960604.18
2025-05-18 13:13:37,859 - qmt_trading.trading_executor - INFO - [模拟] 买入 600383.SH 成功，委托号: SIM202505181313370002, 价格: 4.12, 数量: 4800
2025-05-18 13:13:37,859 - qmt_trading.strategy - INFO - 手动买入 600383.SH 成功，委托号: SIM202505181313370002
2025-05-18 13:13:39,061 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:13:39,722 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960604.1848
2025-05-18 13:13:40,642 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:13:41,747 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960604.1848
2025-05-18 13:13:42,339 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:13:42,340 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:13:42,340 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:13:42,341 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:13:42,932 - qmt_trading.strategy - WARNING - 未持有 600383.SH，无法初始化网格交易
2025-05-18 13:13:44,458 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960604.1848
2025-05-18 13:13:44,538 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960604.1848
2025-05-18 13:13:46,713 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960604.1848
2025-05-18 13:13:48,725 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960604.1848
2025-05-18 13:13:49,271 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:13:49,349 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:13:49,439 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 13:13:49,469 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 13:13:52,741 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:13:54,726 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:13:54,727 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:13:54,728 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:13:54,728 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:14:02,246 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:14:02,283 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 13:14:02,385 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 13:14:03,198 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:20:18,473 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 13:20:18,496 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 13:20:20,857 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 13:20:20,862 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 13:20:20,953 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 13:20:20,961 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 13:20:21,094 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 13:20:21,129 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 13:20:21,238 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 13:20:21,252 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 13:20:24,977 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:20:25,015 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:20:25,019 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 13:20:25,095 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 13:20:25,097 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 13:20:25,113 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:20:25,115 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 13:20:25 
2025-05-18 13:20:25,116 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:20:25,117 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 13:20:25,118 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 13:20:25,120 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 13:20:25,121 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 13:20:26,654 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 13:20:28,104 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 13:20:29,438 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:20:30,443 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 13:20:31,861 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 13:20:33,303 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 13:20:34,725 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 13:20:34,725 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 13:20:34,738 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 13:20:34,745 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 13:20:34,746 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 13:20:35,065 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:20:35,065 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 13:20:35,121 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 13:20:35,652 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 13:20:35,691 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 13:20:36,016 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:20:36,088 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 13:20:36,240 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 13:20:36,242 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 13:20:38,689 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:39,323 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:20:39,986 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:20:39,995 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:20:39,995 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:20:39,996 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:20:40,639 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:40,964 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:20:41,049 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:42,422 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:42,929 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:45,160 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:20:45,197 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:45,927 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 13:20:46,475 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 13:20:47,714 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:47,910 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:20:47,912 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 13:20:47,913 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 13:20:48,502 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:20:49,108 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-18 13:20:49,115 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-18 13:20:49,119 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-18 13:20:49,121 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-18 13:20:49,173 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-18 13:20:49,292 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-18 13:20:49,416 - qmt_trading.main - INFO - 资源清理完成
2025-05-18 13:20:49,521 - qmt_trading.main - INFO - 系统已退出
2025-05-18 13:20:50,805 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:20:50,616 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:23:27,976 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:23:27,976 - qmt_trading.data_manager - ERROR - xtdata: 获取 300277.SZ 的最新行情时出错: func:getFullTick, error:{ "ErrorID" : 200003, "ErrorMsg" : "timeout" }
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 484, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 853, in get_full_tick
    resp_json = client.get_full_tick(code_list)
RuntimeError: func:getFullTick, error:{ "ErrorID" : 200003, "ErrorMsg" : "timeout" }
2025-05-18 13:29:29,634 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 13:29:29,650 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 13:29:32,241 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 13:29:32,245 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 13:29:32,315 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 13:29:32,323 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 13:29:32,391 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 13:29:32,414 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 13:29:32,506 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 13:29:32,506 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 13:29:35,733 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:29:35,794 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:29:35,795 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 13:29:35,828 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 13:29:35,830 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 13:29:36,100 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:29:36,140 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 13:29:36 
2025-05-18 13:29:36,155 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:29:36,156 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 13:29:36,157 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 13:29:36,159 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 13:29:36,162 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 13:29:37,722 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 13:29:39,174 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 13:29:40,338 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:29:41,345 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 13:29:42,787 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 13:29:44,210 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 13:29:45,675 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 13:29:45,683 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 13:29:45,712 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 13:29:45,719 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 13:29:45,868 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 13:29:46,133 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:29:46,133 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 13:29:46,174 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 13:29:46,205 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 13:29:46,331 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 13:29:46,649 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 13:29:46,960 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 13:29:47,049 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 13:29:47,479 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:29:50,067 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:29:51,094 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:29:51,464 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:29:51,632 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:29:51,760 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:29:51,774 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:29:52,184 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:53,014 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:54,190 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:55,034 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:55,882 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:56,783 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:29:57,049 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:57,886 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:59,435 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:29:59,902 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:01,543 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:02,145 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:30:03,613 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:04,640 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:30:04,661 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:30:04,767 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:30:04,768 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:30:05,645 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:07,694 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:09,186 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:09,814 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:10,044 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:11,640 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:12,149 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:13,851 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:15,533 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:17,616 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:30:17,970 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:19,827 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:30:19,827 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:30:19,831 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:30:19,832 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:30:20,051 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:22,065 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:24,069 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:26,194 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:26,346 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 13:30:26,564 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:28,238 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:30,336 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:30,542 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:30:32,387 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:33,175 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:30:33,176 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:30:33,177 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:30:33,184 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:30:34,393 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:36,446 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:38,454 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:40,457 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:42,517 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:43,673 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:30:44,572 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:45,911 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:30:45,917 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:30:45,919 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:30:46,002 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:30:46,833 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:48,849 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:50,854 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:52,934 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:54,943 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:56,783 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:30:56,993 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:30:58,875 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:30:58,876 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:30:58,877 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:30:58,877 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:30:59,031 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:01,042 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:01,328 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:31:03,045 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:04,902 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:31:05,142 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:05,942 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:31:07,159 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:09,172 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:09,177 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:31:11,175 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:11,504 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:31:11,506 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:31:11,507 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:31:11,508 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:31:11,724 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:31:13,178 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:15,214 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:17,223 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:19,858 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:21,881 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:22,067 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:31:23,886 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:23,903 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:31:23,981 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:31:24,076 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:31:24,184 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:31:25,967 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:27,974 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:29,980 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:31,984 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:34,031 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:34,453 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:31:36,189 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:37,616 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:31:37,617 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:31:37,617 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:31:37,617 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:31:38,194 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:40,198 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:42,201 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:44,205 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:44,763 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 13:31:44,768 - qmt_trading.trading_executor - INFO - 开始买入处理: 300766.SZ, volume=None, price=None, amount=20000
2025-05-18 13:31:44,769 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:31:44,771 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 13:31:44,846 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 13:31:44,976 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 13:31:45,235 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 300766.SZ, 数量: 400, 价格: 40.93
2025-05-18 13:31:45,380 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181331450001
2025-05-18 13:31:45,380 - qmt_trading.trading_executor - INFO - 保存交易记录: 300766.SZ BUY 价格:41.01 数量:400 金额:16404.00
2025-05-18 13:31:45,394 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300766.SZ, BUY, 价格: 41.01, 数量: 400
2025-05-18 13:31:45,395 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300766.SZ, trade_type=BUY, price=41.01, volume=400
2025-05-18 13:31:45,562 - qmt_trading.position_manager - INFO - 新增 300766.SZ 持仓: 数量: 400, 成本价: 41.01, 当前价: 40.93, 首次止盈触发: False, 最高价: 40.93, 止损价: 38.14
2025-05-18 13:31:45,562 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300766.SZ, 数量: 400, 成本: 41.01, 结果: True
2025-05-18 13:31:45,563 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -16408.92, 余额: 983591.08
2025-05-18 13:31:45,564 - qmt_trading.trading_executor - INFO - [模拟] 买入 300766.SZ 成功，委托号: SIM202505181331450001, 价格: 41.01, 数量: 400
2025-05-18 13:31:45,565 - qmt_trading.strategy - INFO - 手动买入 300766.SZ 成功，委托号: SIM202505181331450001
2025-05-18 13:31:46,442 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:31:48,124 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:31:48,792 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:31:49,834 - qmt_trading.position_manager - WARNING - 未能获取 300766.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:31:49,845 - qmt_trading.position_manager - INFO - 更新 300766.SZ 持仓: 最高价: 从 40.93 到 41.32
2025-05-18 13:31:49,845 - qmt_trading.position_manager - INFO - 更新 300766.SZ 的最高价为 41.32
2025-05-18 13:31:50,044 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:31:50,071 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:31:50,303 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:31:50,552 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:31:50,946 - qmt_trading.strategy - WARNING - 300766.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 13:31:50,957 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:31:51,832 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:31:53,192 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:31:55,327 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:31:56,257 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:31:56,392 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:31:56,536 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 13:31:56,652 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 13:32:00,925 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:32:03,037 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:32:03,039 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:32:03,045 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:32:03,046 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:32:07,905 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-18 13:32:09,452 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 13:32:13,475 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:32:14,779 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:32:15,174 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:32:15,175 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:32:15,192 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:32:15,313 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:32:17,811 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:32:19,320 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:32:24,634 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:32:25,990 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:32:28,645 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:32:28,645 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:32:28,646 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:32:28,647 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:32:39,053 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:32:41,472 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:32:41,474 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:32:41,474 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:32:41,475 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:32:51,876 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:32:53,749 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:32:53,752 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:32:53,757 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:32:53,761 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:33:04,057 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:33:05,775 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:33:05,776 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:33:05,776 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:33:05,777 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:33:16,049 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:33:17,755 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:33:17,760 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:33:17,762 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:33:17,763 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:33:26,263 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:33:28,249 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:33:29,485 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:33:30,881 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:33:31,845 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:33:31,846 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:33:31,847 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:33:31,848 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:33:36,607 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:33:42,232 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:33:44,056 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:33:44,166 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:33:44,205 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:33:44,364 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:33:54,663 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:33:56,271 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:33:56,272 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:33:56,272 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:33:56,273 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:34:06,553 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:34:09,489 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:34:09,493 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:34:09,495 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:34:09,498 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:34:19,940 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:34:21,925 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:34:21,928 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:34:21,929 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:34:21,929 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:34:32,546 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:34:34,658 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:34:34,671 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:34:34,674 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:34:34,675 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:34:38,181 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:34:41,079 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:34:42,212 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:34:45,076 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:34:48,565 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:34:48,585 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:34:48,585 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:34:48,586 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:34:48,821 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:34:58,897 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:35:00,751 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:35:00,755 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:35:00,758 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:35:00,758 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:35:11,103 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:35:13,239 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:35:13,240 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:35:13,241 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:35:13,242 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:35:23,616 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:35:26,402 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:35:26,406 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:35:26,411 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:35:26,411 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:35:36,894 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:35:38,925 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:35:38,925 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:35:38,926 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:35:38,926 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:35:43,969 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:35:43,982 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:35:43,987 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-18 13:35:43,992 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-18 13:35:44,117 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:35:44,674 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:35:46,426 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:35:48,641 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 13:35:49,244 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:35:49,829 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 13:35:49,834 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000
2025-05-18 13:35:49,835 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 13:35:49,836 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 13:35:49,836 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 13:35:49,951 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 300250.SZ, 数量: 1300, 价格: 15.01
2025-05-18 13:35:50,076 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181335500002
2025-05-18 13:35:50,077 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ BUY 价格:15.04 数量:1300 金额:19552.00
2025-05-18 13:35:50,085 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ, BUY, 价格: 15.04, 数量: 1300
2025-05-18 13:35:50,086 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=15.04, volume=1300
2025-05-18 13:35:50,211 - qmt_trading.position_manager - INFO - 新增 300250.SZ 持仓: 数量: 1300, 成本价: 15.04, 当前价: 15.01, 首次止盈触发: False, 最高价: 15.01, 止损价: 13.99
2025-05-18 13:35:50,466 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ, 数量: 1300, 成本: 15.04, 结果: True
2025-05-18 13:35:50,576 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19557.87, 余额: 964033.21
2025-05-18 13:35:50,643 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505181335500002, 价格: 15.04, 数量: 1300
2025-05-18 13:35:50,994 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:35:51,012 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:35:51,033 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505181335500002
2025-05-18 13:35:51,180 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:35:53,079 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:35:53,080 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:35:53,081 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:35:53,081 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:35:53,396 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:35:55,199 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:35:55,471 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:35:56,136 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:35:56,345 - qmt_trading.strategy - WARNING - 300250.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 13:35:56,645 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:35:57,478 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:35:59,516 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:01,510 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:36:01,687 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:03,462 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:03,732 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:05,359 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:05,439 - qmt_trading.position_manager - INFO - 更新 300250.SZ 持仓: 最高价: 从 15.01 到 15.13
2025-05-18 13:36:05,441 - qmt_trading.position_manager - INFO - 更新 300250.SZ 的最高价为 15.13
2025-05-18 13:36:05,600 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:36:05,602 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:36:05,602 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:36:05,603 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:36:05,738 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:07,804 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:10,019 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:12,064 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:14,109 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:15,969 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:16,124 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:17,630 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:17,780 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:36:17,781 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:36:17,781 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:36:17,787 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:36:18,198 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:20,255 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:22,262 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:24,265 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:26,268 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:28,104 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:28,289 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:29,955 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:30,034 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:36:30,035 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:36:30,036 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:36:30,036 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:36:30,303 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:32,408 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:34,442 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:36,465 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:38,495 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:40,372 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:40,587 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:42,841 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:42,973 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:43,377 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:36:43,378 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:36:43,385 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:36:43,390 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:36:44,844 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:46,850 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:48,855 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:50,861 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:52,977 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:53,618 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:54,989 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:55,679 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:36:55,837 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:36:55,837 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:36:55,840 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:36:55,842 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:36:57,051 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:36:59,148 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:01,152 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:03,157 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:03,431 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:37:05,236 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:06,487 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:37:06,567 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:07,509 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:07,938 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:37:09,469 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:09,673 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:37:09,674 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:37:09,683 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:37:09,685 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:37:09,807 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:11,812 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:13,818 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:13,993 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:37:15,833 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:17,882 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:19,904 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:19,937 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:21,910 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:21,991 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:22,074 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:37:22,075 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:37:22,075 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:37:22,076 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:37:23,969 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:26,014 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:28,018 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:30,126 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:32,258 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:32,335 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:34,200 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:34,315 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:34,337 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:37:34,340 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:37:34,340 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:37:34,468 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:37:36,341 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:38,346 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:40,355 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:42,493 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:44,498 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:44,760 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:46,503 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:46,562 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:46,727 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:37:46,742 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:37:46,807 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:37:46,827 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:37:48,520 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:50,524 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:52,573 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:54,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:56,654 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:57,088 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:58,756 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:37:59,013 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:37:59,152 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:37:59,152 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:37:59,153 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:37:59,154 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:38:00,973 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:03,005 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:05,239 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:07,251 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:09,256 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:09,450 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:11,281 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:12,003 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:12,153 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:38:12,154 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:38:12,155 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:38:12,155 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:38:13,286 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:15,302 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:15,431 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:38:17,788 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:19,256 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:38:20,213 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:20,267 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:38:22,448 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:22,499 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:24,841 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:27,108 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:28,908 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:38:28,909 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:38:29,055 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:29,116 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:38:29,269 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:38:29,270 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:38:31,572 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:33,581 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:35,641 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:37,678 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:39,581 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:39,714 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:42,009 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:42,258 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:42,739 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:38:42,740 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:38:42,741 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:38:42,742 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:38:44,750 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:47,102 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:49,651 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:51,788 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:53,306 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:53,932 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:56,448 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:56,712 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:38:57,884 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:38:59,658 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:38:59,659 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:39:00,037 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:39:00,069 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:39:01,703 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:03,768 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:05,783 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:07,841 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:09,845 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:10,441 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:39:11,574 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:39:11,622 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:39:11,623 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 13:39:11,623 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 13:39:12,508 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:39:12,695 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:39:12,793 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:39:13,882 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:39:14,074 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:39:22,684 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:39:22,694 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:39:22,746 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-18 13:39:22,812 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-18 13:39:24,198 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:24,491 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:39:26,237 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:27,415 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:39:27,469 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:39:27,646 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:39:27,955 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:39:28,265 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:30,354 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:30,823 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-18 13:39:32,075 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 13:39:32,194 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:32,448 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:34,538 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:34,549 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:39:36,614 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:37,443 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:39:38,432 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:39:38,486 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:39:38,637 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:40,052 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:39:40,053 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:39:40,053 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:39:40,054 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:39:40,811 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:43,153 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:43,964 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:39:45,157 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:47,161 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:49,168 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:50,358 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:39:51,309 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:52,228 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:39:52,229 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:39:52,229 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:39:52,230 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:39:53,337 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:55,368 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:55,389 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:57,372 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:39:59,439 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:01,690 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:02,826 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:40:02,963 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:04,909 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:40:04,910 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:40:04,911 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:40:04,911 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:40:05,080 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:07,129 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:09,137 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:11,276 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:13,290 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:15,309 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964033.2132
2025-05-18 13:40:15,672 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:40:16,394 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:40:16,416 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:40:16,417 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 13:40:16,451 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 13:40:17,440 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:40:17,443 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:40:17,461 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:40:17,513 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:40:27,979 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:40:29,796 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:40:29,821 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:40:29,822 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:40:29,842 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:40:40,401 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:40:42,686 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:40:42,687 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:40:42,689 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:40:42,689 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:40:46,251 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:40:49,128 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:40:50,170 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:40:52,984 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:40:55,321 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:40:55,468 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:40:55,878 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:40:55,944 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:40:56,923 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:40:58,338 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:40:58,348 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 13:40:58,350 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 13:40:58,977 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 13:40:59,072 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 13:40:59,964 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:41:00,060 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:44:17,476 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 13:44:17,572 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 13:44:19,692 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 13:44:19,695 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 13:44:19,700 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 13:44:19,780 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 13:44:19,866 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 13:44:19,906 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 13:44:19,915 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 13:44:19,916 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 13:44:20,035 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 13:44:20,077 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 13:44:20,079 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 13:44:20,101 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 13:44:20,104 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 13:44:20,130 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:44:20,137 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 13:44:20 
2025-05-18 13:44:20,138 - qmt_trading.main - INFO - ==================================================
2025-05-18 13:44:20,139 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 13:44:20,139 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 13:44:20,140 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 13:44:20,141 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 13:44:21,718 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 13:44:23,166 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 13:44:24,180 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:44:25,183 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 13:44:26,629 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 13:44:28,073 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 13:44:29,507 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 13:44:29,513 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 13:44:29,528 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 13:44:29,634 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 13:44:29,644 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 13:44:29,693 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:44:29,693 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 13:44:29,801 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 13:44:29,806 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 13:44:29,814 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 13:44:29,828 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 13:44:29,866 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 13:44:29,868 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 13:44:30,347 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:44:30,397 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:32,046 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:44:32,046 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:44:32,047 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:44:32,047 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:44:32,460 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:32,482 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:32,829 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:44:33,713 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:44:34,482 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:34,510 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:36,527 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:38,493 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:38,575 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:39,460 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:44:40,761 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:40,889 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:42,656 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:44:42,770 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:44,774 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:44,913 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:44:44,913 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:44:44,914 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:44:44,914 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:44:45,468 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:46,819 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:47,472 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:48,473 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:49,508 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:50,482 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:51,167 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:51,670 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:52,486 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:54,083 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:54,740 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:55,768 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:44:56,087 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:56,746 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:57,145 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:44:57,516 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:44:57,517 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:44:57,518 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:44:57,518 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:44:58,821 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:00,847 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:02,324 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:04,329 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:06,333 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:07,883 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:45:08,337 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:09,584 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:45:09,585 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:45:09,585 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:45:09,586 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:45:10,347 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:12,350 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:14,354 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:16,358 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:18,362 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:19,972 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:45:20,365 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:21,543 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:45:21,544 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:45:21,544 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:45:21,545 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:45:22,393 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:24,412 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:26,425 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:28,428 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:30,432 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:31,821 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:45:32,441 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:33,432 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:45:33,433 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:45:33,434 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:45:33,434 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:45:34,101 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共7条
2025-05-18 13:45:34,490 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:36,497 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:38,500 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:40,503 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:40,694 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:45:41,146 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 13:45:41,738 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:42,556 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:43,931 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:45:43,952 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:45:44,780 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:45:44,792 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:46,044 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:45:46,045 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:45:46,045 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:45:46,046 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:45:46,847 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:48,133 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:48,853 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:50,069 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:45:50,859 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:52,862 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:54,134 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:54,865 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:56,269 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:45:56,937 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:45:57,740 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:45:57,741 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:45:57,741 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:45:57,742 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:45:58,942 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:46:00,134 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:46:00,945 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:46:02,949 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 13:46:04,134 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 13:46:04,135 - qmt_trading.trading_executor - INFO - 开始买入处理: 601318.SH, volume=None, price=None, amount=20000
2025-05-18 13:46:04,135 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 13:46:04,136 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 13:46:04,136 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 13:46:04,139 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 601318.SH, 数量: 300, 价格: 53.39
2025-05-18 13:46:04,150 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181346040001
2025-05-18 13:46:04,151 - qmt_trading.trading_executor - INFO - 保存交易记录: 601318.SH BUY 价格:53.50 数量:300 金额:16050.00
2025-05-18 13:46:04,315 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 601318.SH, BUY, 价格: 53.5, 数量: 300
2025-05-18 13:46:04,316 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=601318.SH, trade_type=BUY, price=53.5, volume=300
2025-05-18 13:46:04,334 - qmt_trading.position_manager - INFO - 新增 601318.SH 持仓: 数量: 300, 成本价: 53.5, 当前价: 53.39, 首次止盈触发: False, 最高价: 53.39, 止损价: 49.75
2025-05-18 13:46:04,335 - qmt_trading.trading_executor - INFO - 新建持仓成功: 601318.SH, 数量: 300, 成本: 53.5, 结果: True
2025-05-18 13:46:04,336 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -16054.81, 余额: 983945.19
2025-05-18 13:46:04,336 - qmt_trading.trading_executor - INFO - [模拟] 买入 601318.SH 成功，委托号: SIM202505181346040001, 价格: 53.5, 数量: 300
2025-05-18 13:46:04,337 - qmt_trading.strategy - INFO - 手动买入 601318.SH 成功，委托号: SIM202505181346040001
2025-05-18 13:46:04,953 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:06,186 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:07,384 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:08,039 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:09,355 - qmt_trading.strategy - WARNING - 601318.SH 持仓量不足，无法创建有效的网格交易
2025-05-18 13:46:09,393 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:09,622 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:09,636 - qmt_trading.position_manager - WARNING - 未能获取 601318.SH 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:09,645 - qmt_trading.position_manager - INFO - 更新 601318.SH 持仓: 最高价: 从 53.39 到 54.44
2025-05-18 13:46:09,646 - qmt_trading.position_manager - INFO - 更新 601318.SH 的最高价为 54.44
2025-05-18 13:46:09,711 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:46:09,712 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:46:09,712 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:46:09,713 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:46:11,625 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:13,629 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:15,133 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:15,633 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:17,637 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:19,642 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:19,925 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:21,136 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:21,544 - qmt_trading.position_manager - WARNING - 未能获取 601318.SH 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:21,638 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:46:21,639 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:46:21,640 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:46:21,640 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:46:21,647 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:23,650 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:25,653 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:27,133 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:27,662 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:29,674 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:31,712 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:31,962 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:33,501 - qmt_trading.position_manager - WARNING - 未能获取 601318.SH 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:33,560 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:46:33,562 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:46:33,566 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:46:33,568 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:46:33,747 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:34,142 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:35,751 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:37,761 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:39,717 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300255'] -> ['300255.SZ']
2025-05-18 13:46:39,717 - qmt_trading.trading_executor - INFO - 开始买入处理: 300255.SZ, volume=None, price=None, amount=20000
2025-05-18 13:46:39,718 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 13:46:39,718 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 13:46:39,769 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 13:46:39,803 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:39,809 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 300255.SZ, 数量: 700, 价格: 25.49
2025-05-18 13:46:39,835 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505181346390002
2025-05-18 13:46:39,837 - qmt_trading.trading_executor - INFO - 保存交易记录: 300255.SZ BUY 价格:25.54 数量:700 金额:17878.00
2025-05-18 13:46:39,888 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300255.SZ, BUY, 价格: 25.54, 数量: 700
2025-05-18 13:46:39,889 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300255.SZ, trade_type=BUY, price=25.54, volume=700
2025-05-18 13:46:40,016 - qmt_trading.position_manager - INFO - 新增 300255.SZ 持仓: 数量: 700, 成本价: 25.54, 当前价: 25.49, 首次止盈触发: False, 最高价: 25.49, 止损价: 23.75
2025-05-18 13:46:40,024 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300255.SZ, 数量: 700, 成本: 25.54, 结果: True
2025-05-18 13:46:40,027 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983945.185
2025-05-18 13:46:40,027 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -17883.36, 余额: 966061.82
2025-05-18 13:46:40,042 - qmt_trading.trading_executor - INFO - [模拟] 买入 300255.SZ 成功，委托号: SIM202505181346390002, 价格: 25.54, 数量: 700
2025-05-18 13:46:40,044 - qmt_trading.strategy - INFO - 手动买入 300255.SZ 成功，委托号: SIM202505181346390002
2025-05-18 13:46:41,815 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:43,784 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:43,825 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:45,078 - qmt_trading.strategy - WARNING - 300255.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 13:46:45,299 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:45,374 - qmt_trading.position_manager - WARNING - 未能获取 601318.SH 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:45,618 - qmt_trading.position_manager - WARNING - 未能获取 300255.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:45,634 - qmt_trading.position_manager - INFO - 更新 300255.SZ 持仓: 最高价: 从 25.49 到 25.9
2025-05-18 13:46:45,635 - qmt_trading.position_manager - INFO - 更新 300255.SZ 的最高价为 25.90
2025-05-18 13:46:45,722 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:46:45,724 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:46:45,725 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:46:45,727 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:46:45,830 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:47,833 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:49,839 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:51,178 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 13:46:51,842 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:51,897 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:53,848 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:54,147 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 13:46:55,254 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 13:46:55,851 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:55,929 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:57,959 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:58,761 - qmt_trading.position_manager - WARNING - 未能获取 601318.SH 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:58,937 - qmt_trading.position_manager - WARNING - 未能获取 300255.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 13:46:59,083 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 13:46:59,084 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 13:46:59,085 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 13:46:59,086 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 13:46:59,225 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:46:59,928 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 13:46:59,929 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 13:46:59,930 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 13:47:00,611 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 966061.8216
2025-05-18 13:47:01,097 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 13:47:01,101 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 14:40:41,300 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 14:40:41,371 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 14:40:43,500 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 14:40:43,504 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 14:40:43,655 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 14:40:43,668 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 14:40:43,681 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 14:40:43,685 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 14:40:43,690 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 14:40:43,690 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 14:40:43,811 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 14:40:43,864 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 14:40:43,866 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 14:40:43,868 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 14:40:43,869 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 14:40:43,885 - qmt_trading.main - INFO - ==================================================
2025-05-18 14:40:43,885 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 14:40:43 
2025-05-18 14:40:43,886 - qmt_trading.main - INFO - ==================================================
2025-05-18 14:40:43,887 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 14:40:43,887 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 14:40:43,888 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 14:40:43,888 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 14:40:45,457 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 14:40:46,901 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 14:40:48,426 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 14:40:49,429 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 14:40:50,934 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 14:40:52,619 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 14:40:54,058 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 14:40:54,069 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 14:40:54,088 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 14:40:54,104 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 14:40:54,106 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 14:40:54,116 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 14:40:54,116 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 14:40:54,117 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 14:40:54,122 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 14:40:54,122 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 14:40:54,124 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 14:40:54,131 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 14:40:54,138 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 14:40:54,365 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:40:54,441 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:40:54,690 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:40:56,321 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:40:56,322 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:40:56,323 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:40:56,324 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:40:56,381 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:40:56,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:40:57,216 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:40:57,222 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 14:40:58,277 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 14:40:58,630 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:00,641 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:01,612 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:02,653 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:03,616 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:03,700 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 14:41:05,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:06,605 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:41:07,623 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:07,831 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:08,074 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:41:08,075 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:41:08,075 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:41:08,076 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:41:09,628 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:09,835 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:11,839 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:13,614 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:13,842 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:15,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:17,623 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:18,293 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:41:18,629 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:19,996 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:20,646 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:20,843 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:41:20,844 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:41:20,845 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:41:20,845 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:41:20,947 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:22,676 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:22,957 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:24,626 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:24,961 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:26,635 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:28,638 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:29,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:30,749 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:31,079 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:41:31,673 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:32,632 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:32,659 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:41:32,660 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:41:32,661 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:41:32,661 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:41:33,678 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:34,663 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:36,618 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:36,761 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:38,615 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:38,629 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:40,626 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:41,125 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:42,654 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:43,979 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:41:44,673 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:44,770 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:46,007 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:41:46,007 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:41:46,008 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:41:46,008 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:41:46,698 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:46,814 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:48,839 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:50,843 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:51,626 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:52,849 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:53,693 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:54,439 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:55,958 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:56,376 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:41:58,049 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:41:59,234 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:41:59,581 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:41:59,600 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:41:59,601 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:42:00,120 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:00,586 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:02,173 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:04,178 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:05,280 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 14:42:06,182 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:08,187 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:08,191 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 14:42:09,229 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 14:42:09,821 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:42:10,201 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:11,556 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:42:11,557 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:42:11,557 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:42:11,558 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:42:12,209 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:14,217 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:14,681 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 14:42:16,220 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:18,250 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:20,308 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:21,811 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:42:22,315 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:24,169 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:42:24,170 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:42:24,172 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:42:24,172 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:42:24,325 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:26,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:28,341 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:30,359 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:32,367 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:34,370 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:34,454 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:42:36,213 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:42:36,213 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:42:36,214 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:42:36,215 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:42:36,374 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:38,378 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:40,382 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:42,414 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:43,565 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:45,105 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:46,455 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:42:47,120 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:47,480 - qmt_trading.web_server - INFO - 已清除当天(2025-05-18)的交易记录，共2条
2025-05-18 14:42:49,133 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:42:49,134 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:42:49,134 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:42:49,137 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:49,150 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:42:51,154 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:53,156 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:55,376 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:56,714 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 14:42:56,943 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:57,408 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:59,418 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:42:59,868 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:43:01,312 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:43:01,312 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:43:01,313 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:43:01,313 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:43:01,429 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:02,734 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:03,468 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:05,486 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:07,492 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:08,735 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:09,495 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:11,500 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:12,550 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:43:13,503 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:14,233 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:43:14,234 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:43:14,234 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:43:14,235 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:43:14,733 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:15,507 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:15,983 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 14:43:17,512 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:19,028 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 14:43:19,612 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:19,980 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:20,348 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 14:43:21,913 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:23,937 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:24,493 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:43:25,659 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 14:43:25,903 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:25,979 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:26,190 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:43:26,236 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:43:26,310 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:43:26,326 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:43:28,005 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:30,009 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:31,904 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:32,030 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:34,039 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:36,042 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:36,607 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 14:43:37,689 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:38,061 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:39,378 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 14:43:39,394 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 14:43:39,453 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 14:43:39,560 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 14:43:39,564 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 14:43:39,565 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 14:43:39,566 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 14:43:39,974 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 14:43:39,974 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 14:43:40,107 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 14:43:41,567 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-18 14:43:41,567 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-18 14:43:41,568 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-18 14:43:41,569 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-18 14:43:41,570 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-18 14:43:41,571 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-18 14:43:41,571 - qmt_trading.main - INFO - 资源清理完成
2025-05-18 14:43:41,573 - qmt_trading.main - INFO - 系统已退出
2025-05-18 20:25:51,656 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 20:25:51,672 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 20:25:53,901 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 20:25:53,910 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 20:25:53,914 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 20:25:53,917 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 20:25:53,919 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 20:25:53,923 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 20:25:53,928 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 20:25:53,931 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 20:25:54,123 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 20:25:54,196 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 20:25:54,196 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 20:25:54,206 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 20:25:54,207 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 20:25:54,265 - qmt_trading.main - INFO - ==================================================
2025-05-18 20:25:54,301 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 20:25:54 
2025-05-18 20:25:54,339 - qmt_trading.main - INFO - ==================================================
2025-05-18 20:25:54,368 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 20:25:54,487 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 20:25:54,505 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 20:25:54,514 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 20:25:56,135 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 20:25:57,574 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 20:25:58,912 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 20:25:59,915 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 20:26:01,352 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 20:26:03,376 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 20:26:04,802 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 20:26:04,803 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 20:26:04,816 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 20:26:04,845 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 20:26:04,854 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 20:26:04,857 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 20:26:04,857 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 20:26:04,859 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 20:26:04,862 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 20:26:04,867 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 20:26:04,874 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 20:26:04,881 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 20:26:04,912 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 20:26:04,975 - qmt_trading.position_manager - ERROR - 获取 513100 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:05,019 - qmt_trading.position_manager - ERROR - 获取 600571 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:05,035 - qmt_trading.position_manager - ERROR - 获取 600787 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:05,040 - qmt_trading.position_manager - ERROR - 获取 603883 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:05,046 - qmt_trading.position_manager - ERROR - 获取 300277 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:05,051 - qmt_trading.position_manager - ERROR - 获取 301252 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:05,369 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:26:06,497 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:26:06,760 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:26:06,764 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:26:06,849 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:26:06,849 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:26:07,880 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 20:26:08,060 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 20:26:08,061 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 20:26:08,061 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 20:26:08,165 - qmt_trading.position_manager - ERROR - 获取 513100 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:08,171 - qmt_trading.position_manager - ERROR - 获取 600571 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:08,173 - qmt_trading.position_manager - ERROR - 获取 600787 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:08,184 - qmt_trading.position_manager - ERROR - 获取 603883 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:08,190 - qmt_trading.position_manager - ERROR - 获取 300277 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:08,203 - qmt_trading.position_manager - ERROR - 获取 301252 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:08,501 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:26:08,723 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 20:26:10,694 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:26:11,289 - qmt_trading.position_manager - ERROR - 获取 513100 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:11,293 - qmt_trading.position_manager - ERROR - 获取 600571 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:11,297 - qmt_trading.position_manager - ERROR - 获取 600787 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:11,301 - qmt_trading.position_manager - ERROR - 获取 603883 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:11,313 - qmt_trading.position_manager - ERROR - 获取 300277 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:11,319 - qmt_trading.position_manager - ERROR - 获取 301252 最新价格时出错: local variable 'stock_name' referenced before assignment
2025-05-18 20:26:11,495 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:26:12,698 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:26:13,062 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 20:29:22,567 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 20:29:22,631 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 20:29:24,913 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 20:29:24,917 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 20:29:24,925 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 20:29:24,928 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 20:29:24,938 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 20:29:24,945 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 20:29:25,012 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 20:29:25,013 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 20:29:26,730 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 20:29:26,803 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 20:29:26,807 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 20:29:26,830 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 20:29:26,832 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 20:29:26,854 - qmt_trading.main - INFO - ==================================================
2025-05-18 20:29:26,868 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 20:29:26 
2025-05-18 20:29:26,870 - qmt_trading.main - INFO - ==================================================
2025-05-18 20:29:26,891 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 20:29:26,917 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 20:29:26,951 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 20:29:26,959 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 20:29:28,543 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 20:29:29,966 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 20:29:31,012 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 20:29:32,015 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 20:29:33,452 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 20:29:34,874 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 20:29:36,325 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 20:29:36,326 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 20:29:36,336 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 20:29:36,425 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 20:29:36,476 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 20:29:36,488 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 20:29:36,488 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 20:29:36,489 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 20:29:36,492 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 20:29:36,493 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 20:29:36,507 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 20:29:36,560 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 20:29:36,589 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 20:29:36,863 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:29:37,179 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:37,651 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:29:39,184 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:39,218 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-18 20:29:39,284 - qmt_trading.position_manager - ERROR - 获取 600787 从 2025-04-24 到 2025-05-18 的历史数据时出错: list index out of range
2025-05-18 20:29:39,369 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 20:29:39,725 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:40,293 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 20:29:40,519 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:29:40,520 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:40,521 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:29:40,524 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:29:40,525 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:29:41,187 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:42,526 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:44,533 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:45,518 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:46,648 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 20:29:46,900 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:47,528 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:48,154 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:49,534 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:50,803 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:29:52,233 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:53,407 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:29:53,408 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:29:53,409 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:29:53,410 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:29:54,159 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:56,164 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:29:58,179 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:00,183 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:02,202 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:03,902 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:30:04,212 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:06,655 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:06,981 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:07,349 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:30:07,350 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:30:07,351 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:30:07,352 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:30:08,516 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:10,521 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:12,542 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:14,545 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:16,588 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:17,614 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:30:18,675 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:20,693 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:21,240 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:30:21,241 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:30:21,241 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:30:21,242 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:30:22,697 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:24,713 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:26,718 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:28,734 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:30,743 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:31,484 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:30:31,651 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 20:30:31,859 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:32,761 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:33,518 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:30:33,519 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:30:33,520 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:30:33,521 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:30:34,765 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:36,779 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:37,690 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:38,782 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:30:40,666 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 20:30:40,675 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 20:30:40,755 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 20:30:40,761 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 20:30:43,995 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:30:47,331 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 20:30:48,338 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:30:48,340 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:30:48,341 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:30:48,342 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:30:48,815 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-18 20:30:49,525 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 20:30:50,706 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 20:30:51,879 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 20:30:57,206 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 20:30:58,711 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:30:59,055 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 20:30:59,063 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 20:30:59,075 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-18 20:30:59,076 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-18 20:30:59,141 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:31:01,232 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:31:02,060 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-18 20:31:02,062 - qmt_trading.trading_executor - INFO - 开始买入处理: 300766.SZ, volume=None, price=None, amount=20000
2025-05-18 20:31:02,062 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-18 20:31:02,063 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 20:31:02,116 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-18 20:31:02,196 - qmt_trading.trading_executor - INFO - 模拟交易模式下跳过资金检查: 300766.SZ, 数量: 400, 价格: 40.93
2025-05-18 20:31:02,206 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505182031020001
2025-05-18 20:31:02,823 - qmt_trading.trading_executor - INFO - 保存交易记录: 300766.SZ(每日互动) BUY 价格:41.01 数量:400 金额:16404.00 策略:simu
2025-05-18 20:31:02,824 - qmt_trading.trading_executor - ERROR - 保存交易记录时出错: table trade_records has no column named stock_name
2025-05-18 20:31:02,825 - qmt_trading.trading_executor - ERROR - 模拟交易记录保存失败: 300766.SZ
2025-05-18 20:31:02,825 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300766.SZ, trade_type=BUY, price=41.01, volume=400
2025-05-18 20:31:02,845 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300766.SZ(每日互动), 数量: 400, 成本: 41.01, 结果: True
2025-05-18 20:31:02,845 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -16408.92, 余额: 983591.08
2025-05-18 20:31:02,846 - qmt_trading.trading_executor - INFO - [模拟] 买入 300766.SZ 成功，委托号: SIM202505182031020001, 价格: 41.01, 数量: 400
2025-05-18 20:31:02,847 - qmt_trading.strategy - INFO - 手动买入 300766.SZ 成功，委托号: SIM202505182031020001
2025-05-18 20:31:03,238 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:03,512 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:04,454 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:31:04,454 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:31:04,455 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:31:04,455 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:31:05,240 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:07,243 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:07,852 - qmt_trading.strategy - WARNING - 300766.SZ 持仓量不足，无法创建有效的网格交易
2025-05-18 20:31:07,964 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:09,256 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:11,260 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:13,273 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:14,950 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:31:15,277 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:15,516 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:17,291 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:18,492 - qmt_trading.position_manager - WARNING - 未能获取 300766.SZ 从 2025-05-18 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:31:18,495 - qmt_trading.position_manager - INFO - 更新 300766.SZ 持仓: 最高价: 从 40.93 到 41.32
2025-05-18 20:31:18,495 - qmt_trading.position_manager - INFO - 更新 300766.SZ 的最高价为 41.32
2025-05-18 20:31:18,586 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:31:18,612 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:31:18,645 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:31:18,708 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:31:19,303 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:21,306 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:21,511 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:23,310 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:25,313 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 983591.0788
2025-05-18 20:31:27,213 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 20:31:27,221 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 20:31:27,227 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 20:31:27,262 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 20:31:29,288 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:31:32,687 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:31:32,688 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:31:32,689 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:31:32,689 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:31:42,918 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:31:43,716 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 20:31:43,718 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 20:31:43,719 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 20:31:44,386 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 20:51:17,754 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 20:51:17,775 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 20:51:19,890 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 20:51:19,893 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 20:51:19,905 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 20:51:19,910 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 20:51:19,926 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 20:51:19,950 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 20:51:19,980 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 20:51:19,981 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 20:51:20,163 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 20:51:20,297 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 20:51:20,298 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 20:51:20,336 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 20:51:20,337 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 20:51:20,356 - qmt_trading.main - INFO - ==================================================
2025-05-18 20:51:20,356 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 20:51:20 
2025-05-18 20:51:20,356 - qmt_trading.main - INFO - ==================================================
2025-05-18 20:51:20,357 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 20:51:20,357 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 20:51:20,358 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 20:51:20,359 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 20:51:21,915 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 20:51:23,335 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 20:51:24,423 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 20:51:25,424 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 20:51:26,865 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 20:51:28,306 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 20:51:29,753 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 20:51:29,754 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 20:51:29,765 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 20:51:29,773 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 20:51:29,780 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 20:51:29,972 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 20:51:29,972 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 20:51:30,010 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 20:51:30,028 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 20:51:30,039 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 20:51:30,067 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 20:51:30,274 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 20:51:30,294 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 20:51:31,546 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:51:31,745 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:33,064 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 20:51:33,894 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:33,968 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 20:51:35,304 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:51:35,304 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:51:35,305 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:51:35,306 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:51:36,033 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:36,569 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:38,037 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:38,677 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:39,376 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 20:51:39,923 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:40,754 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:42,781 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:43,412 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:44,570 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:44,799 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:45,417 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:45,674 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:45,816 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:51:46,596 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:48,786 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:48,789 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:49,809 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:51:49,810 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:51:49,810 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:51:49,811 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:51:51,450 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:53,456 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:55,472 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:57,474 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:51:59,507 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:00,043 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:52:01,510 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:03,524 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:04,259 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:52:04,260 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:52:04,260 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:52:04,261 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:52:05,530 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:07,575 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:09,667 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:11,682 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:13,688 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:14,515 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 20:52:15,888 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:17,925 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 20:52:17,941 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 20:52:18,063 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 20:52:18,071 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 20:52:18,104 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 20:52:19,222 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 20:52:19,223 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 20:52:19,224 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 20:52:19,928 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 21:29:19,837 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 21:29:19,852 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 21:29:21,949 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 21:29:21,951 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 21:29:21,957 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 21:29:21,965 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 21:29:21,969 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 21:29:22,010 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 21:29:22,034 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 21:29:22,036 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 21:29:22,244 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 21:29:22,274 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 21:29:22,279 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 21:29:22,321 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 21:29:22,326 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 21:29:22,351 - qmt_trading.main - INFO - ==================================================
2025-05-18 21:29:22,353 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 21:29:22 
2025-05-18 21:29:22,354 - qmt_trading.main - INFO - ==================================================
2025-05-18 21:29:22,355 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 21:29:22,356 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 21:29:22,356 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 21:29:22,816 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 21:29:24,351 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 21:29:25,777 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 21:29:27,020 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:29:28,022 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 21:29:29,463 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 21:29:30,874 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 21:29:32,306 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 21:29:32,331 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 21:29:32,353 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 21:29:32,441 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 21:29:32,450 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 21:29:32,452 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 21:29:32,452 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 21:29:32,456 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 21:29:32,525 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 21:29:32,539 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 21:29:32,543 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 21:29:32,570 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 21:29:32,600 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 21:29:33,181 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-18 21:29:33,486 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:35,414 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 21:29:35,502 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:36,234 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:29:37,594 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:37,666 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:39,597 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:39,795 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:41,575 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 21:29:41,884 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:41,947 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:44,223 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:44,223 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:45,324 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:48,214 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:50,264 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:52,285 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:54,319 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:56,325 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:29:58,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:00,344 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:02,348 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:04,351 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:06,356 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:08,358 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:10,450 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:12,454 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:14,458 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:16,462 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:18,465 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:20,469 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:22,473 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:24,476 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:26,479 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:28,484 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:30,534 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:32,537 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:34,540 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:36,543 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:38,548 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:40,583 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:42,572 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 21:30:42,590 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:44,619 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:45,466 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 21:30:46,467 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:30:46,622 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:48,625 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:50,629 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:51,786 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 21:30:52,633 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:54,639 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:56,663 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:30:58,668 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:31:00,671 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:31:02,675 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:31:04,678 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:31:05,339 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 21:31:05,487 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 21:31:05,489 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 21:31:05,490 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 21:31:09,805 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 21:31:36,343 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766', '300250', '601318', '601857', '600383']
2025-05-18 21:31:36,345 - qmt_trading.trading_executor - INFO - 开始买入处理: 600383, volume=None, price=None, amount=20000
2025-05-18 21:31:36,347 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-18 21:31:36,405 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 21:31:36,486 - qmt_trading.trading_executor - WARNING - 全局监控总开关已关闭，无法买入
2025-05-18 21:31:52,192 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 21:31:55,074 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 21:31:55,973 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300255'] -> ['300255']
2025-05-18 21:31:55,979 - qmt_trading.trading_executor - INFO - 开始买入处理: 300255, volume=None, price=None, amount=20000
2025-05-18 21:31:55,982 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-18 21:31:55,983 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 21:31:55,983 - qmt_trading.trading_executor - WARNING - 全局监控总开关已关闭，无法买入
2025-05-18 21:31:56,481 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:32:01,777 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 21:32:13,806 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 21:32:13,806 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 21:32:13,807 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 21:32:13,891 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-18 21:32:13,891 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-18 21:32:18,918 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-18 21:32:18,925 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-18 21:32:18,951 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-18 21:32:18,957 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-18 21:32:18,970 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-18 21:32:18,983 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-18 21:32:18,985 - qmt_trading.main - INFO - 资源清理完成
2025-05-18 21:32:18,986 - qmt_trading.main - INFO - 系统已退出
2025-05-18 21:41:37,220 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 21:41:37,223 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 21:41:39,239 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 21:41:39,241 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 21:41:39,246 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 21:41:39,257 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 21:41:39,263 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 21:41:39,269 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 21:41:39,292 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 21:41:39,293 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 21:41:40,189 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 21:41:40,272 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 21:41:40,273 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 21:41:40,288 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 21:41:40,290 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 21:41:40,311 - qmt_trading.main - INFO - ==================================================
2025-05-18 21:41:40,316 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 21:41:40 
2025-05-18 21:41:40,317 - qmt_trading.main - INFO - ==================================================
2025-05-18 21:41:40,318 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 21:41:40,327 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 21:41:40,335 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 21:41:40,336 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 21:41:41,942 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 21:41:43,389 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 21:41:44,578 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:41:45,581 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 21:41:47,025 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 21:41:48,435 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 21:41:49,883 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 21:41:49,883 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 21:41:49,896 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 21:41:49,903 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 21:41:49,903 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 21:41:49,986 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 21:41:49,989 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 21:41:50,048 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 21:41:50,091 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 21:41:50,117 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 21:41:50,195 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 21:41:50,219 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 21:41:50,223 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 21:41:50,249 - qmt_trading.position_manager - ERROR - 获取所有持仓信息时出错: Gaps in blk ref_locs
2025-05-18 21:41:50,254 - qmt_trading.position_manager - ERROR - 获取和处理持仓数据时出错: index 1 is out of bounds for axis 0 with size 1
2025-05-18 21:41:51,069 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:41:51,126 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:41:52,130 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:41:53,129 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:41:53,416 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 21:41:54,149 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:41:54,294 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:41:55,222 - qmt_trading.position_manager - ERROR - 获取 300277 从 2025-04-24 到 2025-05-18 的历史数据时出错: list index out of range
2025-05-18 21:41:55,668 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:41:55,670 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:41:55,671 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:41:55,671 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:41:55,725 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:41:56,164 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:41:57,892 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:41:59,652 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 21:41:59,915 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:00,687 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:01,922 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:02,692 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:04,696 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:06,485 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:42:06,721 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:07,791 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:08,779 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:09,833 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:10,692 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:11,319 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:42:11,319 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:42:11,320 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:42:11,321 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:42:11,838 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:12,696 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:14,699 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:15,690 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:16,735 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:17,713 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:19,717 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:20,690 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:21,691 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:42:21,770 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:22,693 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:24,696 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:25,717 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:26,710 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:27,798 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:29,814 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:30,804 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:31,818 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:32,123 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:42:32,127 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:42:32,127 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:42:32,128 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:42:32,737 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:32,924 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:35,083 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:36,451 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:38,012 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:40,016 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:42,035 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:42,862 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:42:44,045 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:42:44,591 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 21:42:44,669 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 21:42:44,676 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 21:42:44,678 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 21:42:49,795 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:42:49,795 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:42:49,796 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:42:49,797 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:43:00,515 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:43:00,816 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 21:43:02,477 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:43:02,477 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:43:02,479 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:43:02,479 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:43:03,742 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 21:43:04,700 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:43:10,022 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 21:43:13,141 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:43:18,156 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:43:18,158 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:43:18,159 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:43:18,159 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:43:28,416 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:43:30,994 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:43:30,996 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:43:30,997 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:43:30,998 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:43:42,814 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:43:44,859 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 21:43:44,860 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 21:43:44,862 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 21:43:45,248 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 21:43:45,265 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 21:43:56,591 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-18 21:43:56,593 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-18 21:43:58,643 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-18 21:43:58,646 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-18 21:43:58,661 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-18 21:43:58,673 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-18 21:43:58,684 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-18 21:43:58,697 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-18 21:43:58,711 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-18 21:43:58,713 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-18 21:43:58,917 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 21:43:58,928 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 21:43:58,932 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-18 21:43:58,934 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-18 21:43:58,936 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-18 21:43:58,957 - qmt_trading.main - INFO - ==================================================
2025-05-18 21:43:59,029 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-18 21:43:59 
2025-05-18 21:43:59,056 - qmt_trading.main - INFO - ==================================================
2025-05-18 21:43:59,060 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-18 21:43:59,067 - qmt_trading.main - INFO - 系统初始化完成
2025-05-18 21:43:59,137 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-18 21:43:59,149 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-18 21:44:00,616 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-18 21:44:02,043 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-18 21:44:02,986 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:44:03,990 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-18 21:44:05,449 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-18 21:44:06,882 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-18 21:44:08,313 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-18 21:44:08,313 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-18 21:44:08,325 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-18 21:44:08,396 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-18 21:44:08,461 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-18 21:44:08,487 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 21:44:08,487 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-18 21:44:08,500 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-18 21:44:08,553 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-18 21:44:08,554 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-18 21:44:09,310 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-18 21:44:09,514 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-18 21:44:09,580 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-18 21:44:09,952 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:44:10,842 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:11,365 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 21:44:12,244 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:44:12,885 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:13,926 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:44:14,823 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-18 21:44:14,934 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:15,457 - qmt_trading.position_manager - ERROR - 获取 600787 从 2025-04-24 到 2025-05-18 的历史数据时出错: list index out of range
2025-05-18 21:44:16,988 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:17,591 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 21:44:19,004 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:19,286 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:44:19,286 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:44:19,287 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:44:19,287 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:44:21,007 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:23,020 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:25,023 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:27,049 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:29,184 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:30,121 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:44:31,201 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:32,753 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:44:32,772 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:44:32,779 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:44:32,780 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:44:33,205 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:35,207 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:37,212 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:39,225 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:41,227 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:43,261 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:44,080 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:44:45,266 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:45,698 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:47,278 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:47,709 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:49,157 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:44:49,158 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:44:49,159 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:44:49,162 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:44:49,753 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:50,701 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:51,755 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:52,712 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:54,792 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:55,696 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:56,806 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:57,700 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:44:59,508 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:44:59,708 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:01,494 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:01,732 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:02,561 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:45:02,561 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:45:02,562 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:45:02,562 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:45:03,529 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:05,531 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:05,671 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-18 21:45:05,936 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:07,844 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:07,855 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:10,020 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-18 21:45:10,607 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-18 21:45:10,619 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-18 21:45:10,622 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-18 21:45:10,623 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-18 21:45:15,130 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:45:19,335 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:45:19,346 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:45:19,346 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:45:19,352 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:45:19,892 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-18 21:45:22,768 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-18 21:45:23,815 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-18 21:45:29,214 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-18 21:45:30,445 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:45:30,931 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300255'] -> ['300255']
2025-05-18 21:45:30,933 - qmt_trading.trading_executor - INFO - 开始买入处理: 300255, volume=None, price=None, amount=20000
2025-05-18 21:45:30,933 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-18 21:45:30,934 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 21:45:30,949 - qmt_trading.trading_executor - WARNING - 未能获取账户 25105132 的信息
2025-05-18 21:45:30,950 - qmt_trading.trading_executor - ERROR - 买入 300255 未通过交易规则检查: 无法获取账户信息，交易取消
2025-05-18 21:45:33,924 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:45:33,925 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:45:33,925 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:45:33,926 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:45:44,456 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:45:45,331 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300255'] -> ['300255']
2025-05-18 21:45:45,333 - qmt_trading.trading_executor - INFO - 开始买入处理: 300255, volume=None, price=None, amount=20000
2025-05-18 21:45:45,334 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-18 21:45:45,336 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-18 21:45:45,402 - qmt_trading.trading_executor - WARNING - 未能获取账户 25105132 的信息
2025-05-18 21:45:45,402 - qmt_trading.trading_executor - ERROR - 买入 300255 未通过交易规则检查: 无法获取账户信息，交易取消
2025-05-18 21:45:48,587 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.98, 止损价格: 35.36
2025-05-18 21:45:48,588 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.98, 止盈位: 36.45, 最高价: 36.45
2025-05-18 21:45:48,588 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$----------------------------
2025-05-18 21:45:48,589 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-18 21:46:00,193 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-18 的历史数据，跳过更新最高价
2025-05-18 21:46:01,152 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-18 21:46:01,153 - qmt_trading.main - INFO - 开始清理资源...
2025-05-18 21:46:01,165 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-18 21:46:01,746 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 09:43:29,820 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 09:43:29,833 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 09:43:33,940 - qmt_trading.data_manager - ERROR - 初始化迅投行情接口出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:43:37,259 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 09:43:37,359 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 09:43:37,367 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 09:43:37,384 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 09:43:37,385 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 09:43:37,409 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:43:37,420 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 09:43:37 
2025-05-19 09:43:37,424 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:43:37,430 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 09:43:37,510 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 09:43:37,605 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 09:43:37,725 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 09:43:39,241 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 09:43:40,669 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 09:43:41,687 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:43:42,690 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 09:43:44,098 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 09:43:45,542 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 09:43:46,976 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 09:43:46,980 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 09:43:47,038 - qmt_trading.indicator_calculator - INFO - 成功计算 300277 的技术指标，共 1 条记录
2025-05-19 09:43:47,262 - qmt_trading.indicator_calculator - INFO - 成功计算 301252 的技术指标，共 1 条记录
2025-05-19 09:43:47,272 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 09:43:47,303 - qmt_trading.indicator_calculator - INFO - 成功计算 600571 的技术指标，共 1 条记录
2025-05-19 09:43:47,337 - qmt_trading.indicator_calculator - INFO - 成功计算 600787 的技术指标，共 1 条记录
2025-05-19 09:43:47,518 - qmt_trading.indicator_calculator - INFO - 成功计算 603883 的技术指标，共 1 条记录
2025-05-19 09:43:47,522 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 09:43:47,522 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 09:43:47,533 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:43:47,534 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 09:43:47,536 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 09:43:47,542 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 09:43:47,543 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 09:43:47,554 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 09:43:47,614 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 09:43:47,642 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 09:43:51,664 - qmt_trading.data_manager - ERROR - xtdata: 获取 513100.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:43:51,994 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:43:56,022 - qmt_trading.data_manager - ERROR - xtdata: 获取 513100.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:43:56,118 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:43:56,506 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:43:56,807 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 09:44:00,823 - qmt_trading.data_manager - ERROR - xtdata: 获取 600571.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:44:00,840 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:44:00,853 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:00,857 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:01,252 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 09:44:05,592 - qmt_trading.data_manager - ERROR - xtdata: 获取 600571.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:44:05,595 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:05,602 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:06,023 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '<' not supported between instances of 'float' and 'NoneType'
2025-05-19 09:44:10,034 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:10,034 - qmt_trading.data_manager - ERROR - xtdata: 获取 513100.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:44:10,045 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:10,049 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:44:14,173 - qmt_trading.data_manager - ERROR - xtdata: 获取 600787.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:44:14,174 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:14,175 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:14,929 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 09:44:18,957 - qmt_trading.data_manager - ERROR - xtdata: 获取 600571.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-19 09:44:18,959 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:18,988 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:21,775 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:21,785 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:21,811 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-19 09:44:21,900 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-19 09:44:22,342 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-19 09:44:23,276 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-19 09:44:23,775 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-19 09:44:23,806 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:25,031 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-19 09:44:25,053 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:44:25,949 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:26,776 - qmt_trading.position_manager - WARNING - 513100 触发止损条件，当前价格: 0.00, 止损价格: 1.48
2025-05-19 09:44:26,960 - qmt_trading.position_manager - WARNING - 513100 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:44:27,082 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-19 09:44:27,175 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.26, 止损价格: 35.36
2025-05-19 09:44:27,210 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.26, 止盈位: 36.45, 最高价: 36.45
2025-05-19 09:44:27,212 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:44:27,232 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:44:28,019 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-19 09:44:28,089 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600571.SH 的tick行情，返回值: {}
2025-05-19 09:44:28,245 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-19 09:44:28,391 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-19 09:44:28,413 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-19 09:44:28,424 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-19 09:44:28,713 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:29,419 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:30,733 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:31,435 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:31,446 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-19 09:44:32,338 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 09:44:32,349 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600571.SH 的tick行情，返回值: {}
2025-05-19 09:44:32,733 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-19 09:44:33,129 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-19 09:44:33,440 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:33,567 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-19 09:44:34,027 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-19 09:44:34,478 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-19 09:44:34,489 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600571.SH 的tick行情，返回值: {}
2025-05-19 09:44:34,620 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-19 09:44:34,640 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-19 09:44:34,747 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-19 09:44:34,765 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-19 09:44:34,908 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:35,462 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:36,454 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 09:44:36,455 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 09:44:36,456 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 09:44:36,925 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:37,397 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 09:44:37,398 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-19 09:44:37,621 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:37,630 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:44:38,391 - qmt_trading.position_manager - WARNING - 未能获取 600787 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:44:39,182 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:44:39,591 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.26, 止损价格: 35.36
2025-05-19 09:44:39,596 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.26, 止盈位: 36.45, 最高价: 36.45
2025-05-19 09:44:39,597 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:44:39,598 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:44:39,603 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-19 09:44:39,604 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-19 09:44:39,606 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-19 09:44:39,607 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-19 09:44:39,609 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-19 09:44:39,610 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-19 09:44:39,610 - qmt_trading.main - INFO - 资源清理完成
2025-05-19 09:44:39,612 - qmt_trading.main - INFO - 系统已退出
2025-05-19 09:44:45,952 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 09:44:45,953 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 09:44:47,974 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 09:44:47,976 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 09:44:47,982 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 09:44:47,984 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 09:44:47,988 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 09:44:47,991 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 09:44:47,993 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 09:44:47,994 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 09:44:48,241 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 09:44:48,253 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 09:44:48,264 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 09:44:48,268 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 09:44:48,271 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 09:44:48,301 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:44:48,310 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 09:44:48 
2025-05-19 09:44:48,323 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:44:48,328 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 09:44:48,330 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 09:44:48,333 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 09:44:48,351 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 09:44:49,842 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 09:44:51,312 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 09:44:52,162 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:44:53,166 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 09:44:54,617 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 09:44:56,106 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 09:44:57,538 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 09:44:57,543 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 09:44:57,559 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 09:44:57,682 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 09:44:57,699 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 09:44:57,733 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:44:57,734 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 09:44:57,838 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 09:44:57,842 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 09:44:57,863 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 09:44:57,897 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 09:44:57,954 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 09:44:58,068 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 09:44:58,963 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 09:45:02,682 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:45:03,415 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:45:05,742 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:45:07,048 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:45:07,848 - qmt_trading.position_manager - INFO - 更新 301252 持仓: 止损价: 从 35.36 到 34.63
2025-05-19 09:45:07,964 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:45:08,184 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:45:10,601 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 09:45:10,608 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 09:45:10,613 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 09:45:10,617 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 09:45:11,174 - qmt_trading.position_manager - INFO - 更新 301252 持仓: 止损价: 从 35.36 到 34.63
2025-05-19 09:45:11,356 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.23, 止损价格: 34.63
2025-05-19 09:45:11,357 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:45:11,362 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.23, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:45:11,370 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:45:11,557 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:45:14,809 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-19 09:45:21,840 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:45:23,708 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.23, 止损价格: 34.63
2025-05-19 09:45:23,708 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.23, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:45:23,709 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:45:23,709 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:45:32,810 - qmt_trading.position_manager - INFO - 更新 600787 持仓: 止损价: 从 5.42 到 0.0
2025-05-19 09:45:33,920 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:45:34,942 - qmt_trading.position_manager - INFO - 更新内存数据库的 600787 到sql数据库
2025-05-19 09:45:36,156 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:45:36,280 - qmt_trading.position_manager - ERROR - 更新 513100 持仓Error: cannot commit - no transaction is active
2025-05-19 09:45:36,736 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.28, 止损价格: 34.63
2025-05-19 09:45:36,780 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 09:45:36,802 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.28, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:45:36,985 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:45:37,023 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:45:47,644 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:45:48,367 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:45:50,591 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.25, 止损价格: 34.63
2025-05-19 09:45:50,591 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.25, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:45:50,592 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:45:50,592 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:46:00,882 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:46:02,977 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.18, 止损价格: 34.63
2025-05-19 09:46:02,978 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.18, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:46:02,979 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:46:02,979 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:46:12,275 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:46:13,288 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:46:15,931 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.18, 止损价格: 34.63
2025-05-19 09:46:15,933 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.18, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:46:15,934 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:46:15,935 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:46:22,250 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:46:23,310 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:46:26,797 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:46:28,642 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.16, 止损价格: 34.63
2025-05-19 09:46:28,643 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.16, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:46:28,644 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:46:28,644 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:46:35,760 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:46:38,853 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:46:40,978 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:46:41,095 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.20, 止损价格: 34.63
2025-05-19 09:46:41,108 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.20, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:46:41,158 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:46:41,189 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:46:51,938 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:46:53,689 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.18, 止损价格: 34.63
2025-05-19 09:46:53,689 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.18, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:46:53,690 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:46:53,690 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:47:03,957 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:47:05,973 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:47:06,082 - qmt_trading.position_manager - ERROR - 更新 600787 持仓Error: cannot start a transaction within a transaction
2025-05-19 09:47:06,215 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.13, 止损价格: 34.63
2025-05-19 09:47:06,233 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.13, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:47:06,240 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:47:06,242 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:47:16,825 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:47:18,413 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.13, 止损价格: 34.63
2025-05-19 09:47:18,417 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.13, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:47:18,419 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:47:18,420 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:47:28,651 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:47:31,003 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.13, 止损价格: 34.63
2025-05-19 09:47:31,005 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.13, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:47:31,031 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:47:31,032 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:47:36,282 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:47:41,842 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:47:42,167 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:47:43,313 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:47:44,000 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.12, 止损价格: 34.63
2025-05-19 09:47:44,001 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.12, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:47:44,001 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:47:44,002 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:47:48,790 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:47:53,268 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['513100'] -> ['513100']
2025-05-19 09:47:53,285 - qmt_trading.trading_executor - INFO - 开始买入处理: 513100, volume=None, price=None, amount=20000
2025-05-19 09:47:53,330 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 09:47:53,532 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 09:47:53,555 - qmt_trading.trading_executor - WARNING - 未能获取账户 25105132 的信息
2025-05-19 09:47:53,557 - qmt_trading.trading_executor - ERROR - 买入 513100 未通过交易规则检查: 无法获取账户信息，交易取消
2025-05-19 09:47:54,351 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:47:56,027 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.14, 止损价格: 34.63
2025-05-19 09:47:56,029 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.14, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:47:56,030 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:47:56,033 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:48:03,622 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 1000}
2025-05-19 09:48:06,338 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:48:08,144 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.09, 止损价格: 34.63
2025-05-19 09:48:08,145 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.09, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:48:08,145 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:48:08,146 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:48:14,679 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['513100'] -> ['513100']
2025-05-19 09:48:14,680 - qmt_trading.trading_executor - INFO - 开始买入处理: 513100, volume=None, price=None, amount=1000.0
2025-05-19 09:48:14,681 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 09:48:14,684 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 09:48:14,687 - qmt_trading.trading_executor - WARNING - 未能获取账户 25105132 的信息
2025-05-19 09:48:14,688 - qmt_trading.trading_executor - ERROR - 买入 513100 未通过交易规则检查: 无法获取账户信息，交易取消
2025-05-19 09:48:18,437 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:48:19,092 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:48:20,828 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.11, 止损价格: 34.63
2025-05-19 09:48:20,829 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.11, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:48:20,829 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:48:20,830 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:48:31,046 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:48:32,594 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:48:32,688 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.11, 止损价格: 34.63
2025-05-19 09:48:32,709 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.11, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:48:32,745 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:48:32,772 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:48:43,457 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:48:43,685 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:48:45,189 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.09, 止损价格: 34.63
2025-05-19 09:48:45,190 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.09, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:48:45,190 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:48:45,191 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:48:46,877 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 09:48:50,036 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:48:52,377 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['600571'] -> ['600571']
2025-05-19 09:48:52,535 - qmt_trading.trading_executor - INFO - 开始买入处理: 600571, volume=None, price=None, amount=2000.0
2025-05-19 09:48:52,734 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 09:48:52,778 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 09:48:52,828 - qmt_trading.trading_executor - WARNING - 未能获取账户 25105132 的信息
2025-05-19 09:48:52,829 - qmt_trading.trading_executor - ERROR - 买入 600571 未通过交易规则检查: 无法获取账户信息，交易取消
2025-05-19 09:48:52,961 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:48:54,037 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:48:55,653 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:48:57,941 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:48:58,066 - qmt_trading.position_manager - ERROR - 更新 301252 持仓Error: cannot commit - no transaction is active
2025-05-19 09:48:58,212 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.09, 止损价格: 34.63
2025-05-19 09:48:58,215 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.09, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:48:58,217 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:48:58,218 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:48:59,519 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:49:09,201 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:49:10,809 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.08, 止损价格: 34.63
2025-05-19 09:49:10,810 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.08, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:49:10,810 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:49:10,812 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:49:21,020 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:49:23,240 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:49:23,384 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.08, 止损价格: 34.63
2025-05-19 09:49:23,406 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.08, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:49:23,434 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:49:23,463 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:49:34,726 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:49:36,410 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.04, 止损价格: 34.63
2025-05-19 09:49:36,412 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.04, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:49:36,413 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:49:36,414 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:49:46,625 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:49:48,282 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.04, 止损价格: 34.63
2025-05-19 09:49:48,283 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.04, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:49:48,283 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:49:48,284 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:49:58,489 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:50:00,251 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:50:00,908 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.13, 止损价格: 34.63
2025-05-19 09:50:00,909 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.13, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:50:00,910 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:50:00,910 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:50:01,381 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:50:05,257 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:50:06,150 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:50:11,130 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:50:11,465 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:50:12,630 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.12, 止损价格: 34.63
2025-05-19 09:50:12,631 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.12, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:50:12,632 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:50:12,632 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:50:22,834 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:50:25,050 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.07, 止损价格: 34.63
2025-05-19 09:50:25,056 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.07, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:50:25,057 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:50:25,058 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:50:35,873 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:50:37,559 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.09, 止损价格: 34.63
2025-05-19 09:50:37,564 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.09, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:50:37,565 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:50:37,565 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:50:47,776 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:50:48,752 - qmt_trading.position_manager - WARNING - 未能获取 603883 从 2025-05-06 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:50:49,654 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.09, 止损价格: 34.63
2025-05-19 09:50:49,655 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.09, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:50:49,656 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:50:49,656 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:51:00,490 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:51:02,595 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.10, 止损价格: 34.63
2025-05-19 09:51:02,596 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.10, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:51:02,597 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:51:02,599 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:51:11,773 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:51:12,800 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:51:14,664 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.09, 止损价格: 34.63
2025-05-19 09:51:14,665 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.09, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:51:14,665 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:51:14,666 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:51:14,849 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:51:16,713 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:51:23,055 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:51:24,923 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:51:26,612 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.08, 止损价格: 34.63
2025-05-19 09:51:26,623 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.08, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:51:26,625 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:51:26,625 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:51:36,904 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:51:39,260 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.09, 止损价格: 34.63
2025-05-19 09:51:39,277 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.09, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:51:39,278 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:51:39,291 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:51:49,828 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:51:50,235 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:51:50,818 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 09:51:50,823 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 09:51:50,882 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 09:51:51,375 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 09:51:51,375 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-19 09:51:51,912 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.08, 止损价格: 34.63
2025-05-19 09:51:51,913 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.08, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:51:51,915 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:51:51,915 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:51:51,916 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-19 09:51:51,917 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-19 09:51:51,917 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-19 09:51:51,918 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-19 09:51:51,918 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-19 09:51:51,918 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-19 09:51:51,919 - qmt_trading.main - INFO - 资源清理完成
2025-05-19 09:51:51,922 - qmt_trading.main - INFO - 系统已退出
2025-05-19 09:52:17,676 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 09:52:17,678 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 09:52:19,695 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 09:52:19,698 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 09:52:19,702 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 09:52:19,707 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 09:52:19,719 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 09:52:19,727 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 09:52:19,745 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 09:52:19,747 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 09:52:19,899 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 09:52:19,907 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 09:52:19,908 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 09:52:19,910 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 09:52:19,910 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 09:52:19,931 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:52:19,935 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 09:52:19 
2025-05-19 09:52:19,940 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:52:19,943 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 09:52:19,945 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 09:52:19,982 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 09:52:20,016 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 09:52:21,519 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 09:52:22,967 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 09:52:24,015 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:52:25,017 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 09:52:26,481 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 09:52:28,040 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 09:52:29,477 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 09:52:29,483 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 09:52:29,495 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 09:52:29,512 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 09:52:29,515 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 09:52:29,633 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:52:29,634 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 09:52:29,637 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 09:52:29,658 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 09:52:29,662 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 09:52:29,703 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 09:52:29,827 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 09:52:29,829 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 09:52:30,103 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:52:30,255 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:52:30,702 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:52:30,923 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:52:32,524 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:52:33,418 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:52:33,447 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: not an error
2025-05-19 09:52:34,719 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:52:35,697 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 09:52:35,699 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 09:52:35,700 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 09:52:36,493 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:52:36,630 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.06, 止损价格: 34.63
2025-05-19 09:52:36,630 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.06, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:52:36,631 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:52:36,631 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:52:38,791 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:52:38,806 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 09:52:38,812 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-19 09:52:39,364 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:52:40,658 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 09:53:23,688 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 09:53:23,699 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 09:53:25,745 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 09:53:25,747 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 09:53:25,754 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 09:53:25,756 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 09:53:25,760 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 09:53:25,761 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 09:53:25,763 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 09:53:25,765 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 09:53:25,891 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 09:53:25,901 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 09:53:25,918 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 09:53:25,955 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 09:53:25,956 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 09:53:25,983 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:53:26,007 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 09:53:26 
2025-05-19 09:53:26,009 - qmt_trading.main - INFO - ==================================================
2025-05-19 09:53:26,010 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 09:53:26,012 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 09:53:26,014 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 09:53:26,014 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 09:53:27,488 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 09:53:28,931 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 09:53:30,068 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:53:31,071 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 09:53:32,501 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 09:53:33,973 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 09:53:35,391 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 09:53:35,475 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 09:53:35,507 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 09:53:35,660 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 09:53:35,699 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 09:53:35,821 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:53:35,822 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 09:53:35,912 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 09:53:36,098 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 09:53:36,122 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 09:53:36,301 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 09:53:36,327 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 09:53:36,417 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 09:53:36,956 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:37,227 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 09:53:40,895 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:53:41,567 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:41,579 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:42,706 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:43,081 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.00, 止损价格: 34.63
2025-05-19 09:53:43,082 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.00, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:53:43,083 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:53:43,086 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:53:44,378 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:45,980 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:53:46,381 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:47,016 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:53:47,137 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:48,996 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:49,141 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:51,157 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:51,559 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:53,169 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:53,360 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:53:53,466 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:53:53,704 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:54,548 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:54,957 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:56,169 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:53:56,204 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:53:56,587 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:53:56,708 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:53:57,537 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.07, 止损价格: 34.63
2025-05-19 09:53:58,219 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.07, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:53:58,532 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:53:58,537 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:53:58,834 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:53:59,445 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:54:01,609 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:54:02,078 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 09:54:03,615 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 09:54:04,479 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 09:54:04,486 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 09:54:04,488 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 09:54:04,488 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 09:54:08,882 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:54:10,717 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.02, 止损价格: 34.63
2025-05-19 09:54:10,717 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.02, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:54:10,718 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:54:10,719 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:54:21,548 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:54:23,793 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.08, 止损价格: 34.63
2025-05-19 09:54:23,795 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.08, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:54:23,801 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:54:23,813 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:54:34,125 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:54:36,743 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.08, 止损价格: 34.63
2025-05-19 09:54:36,763 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.08, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:54:36,772 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:54:36,772 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:54:47,554 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:54:49,170 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.10, 止损价格: 34.63
2025-05-19 09:54:49,171 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.10, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:54:49,171 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:54:49,172 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:54:54,946 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 09:54:57,833 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 09:54:58,747 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 09:54:59,494 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:55:01,656 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.10, 止损价格: 34.63
2025-05-19 09:55:01,657 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.10, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:55:01,723 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:55:01,731 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:55:04,124 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 09:55:12,392 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:55:14,227 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.12, 止损价格: 34.63
2025-05-19 09:55:14,228 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.12, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:55:14,229 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:55:14,229 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:55:24,799 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 09:55:25,079 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-19 09:55:26,498 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-19 09:55:26,766 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-19 09:55:27,100 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '<' not supported between instances of 'float' and 'NoneType'
2025-05-19 09:55:27,206 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-19 09:55:28,234 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 09:55:28,795 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 09:55:30,111 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 09:55:30,447 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格: 34.12, 止损价格: 34.63
2025-05-19 09:55:30,631 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.12, 止盈位: 34.63, 最高价: 36.45
2025-05-19 09:55:30,681 - qmt_trading.position_manager - WARNING - 301252 触发止损信号 $$$$$$$$$$$$$$$$$$$$-------------------
2025-05-19 09:55:30,700 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-19 09:55:36,945 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 09:55:36,945 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 09:55:36,946 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 09:55:37,728 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 09:55:37,730 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-19 09:55:38,724 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 12:59:49,390 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 12:59:49,406 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 12:59:51,514 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 12:59:51,518 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 12:59:51,521 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 12:59:51,527 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 12:59:51,537 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 12:59:51,546 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 12:59:51,569 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 12:59:51,571 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 12:59:51,714 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 12:59:51,767 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 12:59:51,768 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 12:59:51,777 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 12:59:51,780 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 12:59:51,795 - qmt_trading.main - INFO - ==================================================
2025-05-19 12:59:51,797 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 12:59:51 
2025-05-19 12:59:51,798 - qmt_trading.main - INFO - ==================================================
2025-05-19 12:59:51,799 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 12:59:51,800 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 12:59:51,801 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 12:59:51,802 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 12:59:54,359 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 12:59:56,818 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 12:59:58,122 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 12:59:59,126 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:00:01,518 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:00:04,164 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:00:06,609 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:00:06,610 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:00:06,620 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:00:06,632 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:00:06,637 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:00:06,708 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:00:06,708 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:00:06,711 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:00:06,712 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:00:06,713 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:00:06,718 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:00:06,738 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:00:06,744 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:00:08,148 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:08,402 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:00:09,812 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:00:10,168 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:00:10,698 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:00:10,740 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 13:00:11,417 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:00:12,949 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:13,966 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.38, 止损价格: 34.63
2025-05-19 13:00:13,967 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.38, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:00:13,978 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:00:15,841 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:16,250 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:00:17,900 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:19,927 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:21,044 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:21,224 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:00:21,931 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:23,386 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:24,701 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:00:25,393 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:26,037 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:26,258 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.36, 止损价格: 34.63
2025-05-19 13:00:26,259 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.36, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:00:26,259 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:00:27,397 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:27,941 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:00:28,837 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:30,462 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:30,962 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:32,640 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:33,290 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:34,649 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:35,047 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:35,306 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:37,012 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:00:37,643 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:38,998 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:00:39,684 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:40,652 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.36, 止损价格: 34.63
2025-05-19 13:00:40,908 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.36, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:00:40,933 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:00:41,454 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:44,603 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:47,208 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:00:48,186 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:00:48,217 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:00:48,234 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:00:48,235 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:00:50,547 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 13:00:51,538 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:00:54,304 - qmt_trading.position_manager - ERROR - 更新 603883 持仓Error: cannot commit - no transaction is active
2025-05-19 13:00:54,330 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.36, 止损价格: 34.63
2025-05-19 13:00:54,332 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.36, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:00:54,360 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:01:04,746 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:01:05,058 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:01:07,095 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.36, 止损价格: 34.63
2025-05-19 13:01:07,097 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.36, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:01:07,098 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:01:17,429 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:01:17,707 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:01:19,601 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.42, 止损价格: 34.63
2025-05-19 13:01:19,603 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.42, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:01:19,604 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:01:20,740 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:01:21,741 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:01:29,737 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:01:30,289 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:01:32,455 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.49, 止损价格: 34.63
2025-05-19 13:01:32,456 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.49, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:01:32,460 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:01:34,054 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:01:42,911 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:01:43,870 - qmt_trading.position_manager - WARNING - 未能获取 603883 从 2025-05-06 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:01:44,639 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.49, 止损价格: 34.63
2025-05-19 13:01:44,640 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.49, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:01:44,641 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:01:48,323 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300255'] -> ['300255']
2025-05-19 13:01:48,331 - qmt_trading.trading_executor - INFO - 开始买入处理: 300255, volume=None, price=None, amount=20000
2025-05-19 13:01:48,335 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:01:48,342 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:01:48,365 - qmt_trading.trading_executor - WARNING - 未能获取账户 25105132 的信息
2025-05-19 13:01:48,372 - qmt_trading.trading_executor - ERROR - 买入 300255 未通过交易规则检查: 无法获取账户信息，交易取消
2025-05-19 13:01:55,235 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:01:55,715 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:01:55,726 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:01:55,727 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:01:56,375 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:12:51,244 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 13:12:51,247 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 13:12:53,266 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 13:12:53,268 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 13:12:53,273 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 13:12:53,281 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 13:12:53,291 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 13:12:53,298 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 13:12:53,309 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 13:12:53,316 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 13:12:53,488 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:12:53,497 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:12:53,497 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 13:12:53,549 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 13:12:53,550 - qmt_trading.trading_executor - INFO - 使用position_manager中已存在的qmt_trader实例
2025-05-19 13:12:53,552 - qmt_trading.trading_executor - INFO - 已配置交易账户: 25105132, 类型: STOCK
2025-05-19 13:12:53,553 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 13:12:53,575 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:12:53,607 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 13:12:53 
2025-05-19 13:12:53,643 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:12:53,703 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 13:12:53,758 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 13:12:53,771 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 13:12:53,792 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 13:12:55,425 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 13:12:56,955 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 13:12:58,902 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:12:59,905 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:13:01,363 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:13:02,909 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:13:04,411 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:13:04,422 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:13:04,443 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:13:04,462 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:13:04,467 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:13:04,491 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:13:04,491 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:13:04,497 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:13:04,525 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:13:04,546 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:13:04,588 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:13:04,714 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:13:04,714 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:13:07,186 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:07,949 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:13:09,113 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:13:09,727 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:13:11,509 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:11,842 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:13:11,975 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.55, 止损价格: 34.63
2025-05-19 13:13:11,982 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.55, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:13:11,984 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:13:12,245 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:14,014 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:14,248 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:14,715 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:13:16,257 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:17,076 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:18,261 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:19,081 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:19,396 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:13:20,276 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:21,445 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:21,453 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:22,389 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:13:23,566 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:25,000 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.55, 止损价格: 34.63
2025-05-19 13:13:25,011 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.55, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:13:25,013 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:13:25,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:26,294 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:27,650 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:28,181 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:28,806 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:13:28,807 - qmt_trading.position_manager - ERROR - 更新 513100 持仓Error: cannot start a transaction within a transaction
2025-05-19 13:13:29,774 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:13:31,601 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:33,905 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:13:35,460 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:13:35,465 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:13:35,467 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:13:35,593 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:13:36,090 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:13:37,911 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.52, 止损价格: 34.63
2025-05-19 13:13:37,918 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.52, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:13:37,919 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:13:39,250 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 13:13:48,295 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:13:50,304 - qmt_trading.position_manager - ERROR - 更新 600571 持仓Error: cannot commit - no transaction is active
2025-05-19 13:13:50,588 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.52, 止损价格: 34.63
2025-05-19 13:13:50,615 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.52, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:13:50,616 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:14:01,451 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:14:03,112 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.52, 止损价格: 34.63
2025-05-19 13:14:03,113 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.52, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:14:03,113 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:14:08,387 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 10000}
2025-05-19 13:14:13,569 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:14:15,992 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:14:16,021 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 13:14:16,657 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.50, 止损价格: 34.63
2025-05-19 13:14:16,664 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.50, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:14:16,665 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:14:19,115 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:14:20,180 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:14:21,866 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300255'] -> ['300255']
2025-05-19 13:14:21,869 - qmt_trading.trading_executor - INFO - 开始买入处理: 300255, volume=None, price=None, amount=2000.0
2025-05-19 13:14:21,870 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:14:21,871 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:14:21,932 - qmt_trading.trading_executor - ERROR - 买入数量必须大于0: 0
2025-05-19 13:14:25,666 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:14:26,912 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:14:28,163 - qmt_trading.position_manager - WARNING - 未能获取 603883 从 2025-05-06 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:14:29,303 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.50, 止损价格: 34.63
2025-05-19 13:14:29,304 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.50, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:14:29,304 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:14:36,440 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:14:36,440 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:14:36,444 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:14:36,908 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 13:14:36,908 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-19 13:14:37,310 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-19 13:14:37,310 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-19 13:14:37,311 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-19 13:14:37,312 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-19 13:14:37,313 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-19 13:14:37,313 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-19 13:14:37,315 - qmt_trading.main - INFO - 资源清理完成
2025-05-19 13:14:37,319 - qmt_trading.main - INFO - 系统已退出
2025-05-19 13:15:47,532 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 13:15:47,534 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 13:15:49,548 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 13:15:49,551 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 13:15:49,557 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 13:15:49,561 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 13:15:49,583 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 13:15:49,598 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 13:15:49,616 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 13:15:49,618 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 13:15:49,820 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:15:49,832 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:15:49,833 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 13:15:49,837 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 13:15:49,837 - qmt_trading.trading_executor - INFO - 使用position_manager中已存在的qmt_trader实例
2025-05-19 13:15:49,839 - qmt_trading.trading_executor - INFO - 已配置交易账户: 25105132, 类型: STOCK
2025-05-19 13:15:49,840 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 13:15:49,858 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:15:49,866 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 13:15:49 
2025-05-19 13:15:49,870 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:15:49,872 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 13:15:49,874 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 13:15:49,962 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 13:15:50,224 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 13:15:51,700 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 13:15:53,156 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 13:15:54,128 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:15:55,131 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:15:56,587 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:15:58,023 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:15:59,652 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:15:59,653 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:15:59,660 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:15:59,683 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:15:59,702 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:15:59,731 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:15:59,731 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:15:59,741 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:15:59,750 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:15:59,751 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:15:59,933 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:15:59,942 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:16:00,233 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:16:01,373 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:01,443 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:16:01,506 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:02,573 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 13:16:02,626 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:02,645 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 13:16:02,818 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:16:02,818 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:16:02,939 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:16:03,203 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:16:03,850 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:16:03,928 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:16:04,095 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:16:04,319 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:16:06,439 - qmt_trading.data_manager - ERROR - 获取股票 301252 名称时出错: list index out of range
2025-05-19 13:16:06,440 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 13:16:07,184 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:08,062 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:16:08,468 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:08,881 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:09,014 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:09,691 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:16:10,314 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.46, 止损价格: 34.63
2025-05-19 13:16:10,315 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.46, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:16:10,316 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:16:10,913 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:11,847 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:16:12,245 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:13,707 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:13,868 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:16:13,965 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:16:13,973 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:16:13,974 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:16:13,974 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:16:20,629 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:22,432 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:22,507 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.46, 止损价格: 34.63
2025-05-19 13:16:22,550 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.46, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:16:22,568 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:16:32,968 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:16:33,063 - qmt_trading.position_manager - ERROR - 更新 603883 持仓Error: cannot commit - no transaction is active
2025-05-19 13:16:33,335 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:35,194 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.46, 止损价格: 34.63
2025-05-19 13:16:35,195 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.46, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:16:35,203 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:16:40,089 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 13:16:40,098 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=20000
2025-05-19 13:16:40,268 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:16:40,281 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:16:40,378 - qmt_trading.trading_executor - INFO - 买入 300250.SZ 成功，委托号: 104, 价格: 15.28, 数量: 1300
2025-05-19 13:16:40,393 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 104
2025-05-19 13:16:45,400 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 13:16:45,525 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:47,159 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:47,655 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.46, 止损价格: 34.63
2025-05-19 13:16:47,657 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.46, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:16:47,658 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:16:57,961 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:16:59,431 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.46, 止损价格: 34.63
2025-05-19 13:16:59,432 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.46, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:16:59,433 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:17:09,645 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:17:10,049 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:17:11,533 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: cannot commit - no transaction is active
2025-05-19 13:17:11,782 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.46, 止损价格: 34.63
2025-05-19 13:17:11,798 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.46, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:17:11,804 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:17:13,199 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:17:14,050 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:17:15,571 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:17:15,571 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:17:15,572 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:17:20,586 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:27:15,729 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 13:27:15,736 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 13:27:17,760 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 13:27:17,762 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 13:27:17,765 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 13:27:17,768 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 13:27:17,771 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 13:27:17,775 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 13:27:17,778 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 13:27:17,779 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 13:27:17,910 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:27:17,922 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:27:17,931 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 13:27:17,937 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 13:27:17,939 - qmt_trading.trading_executor - INFO - 使用position_manager中已存在的qmt_trader实例
2025-05-19 13:27:17,940 - qmt_trading.trading_executor - INFO - 已配置交易账户: 25105132, 类型: STOCK
2025-05-19 13:27:17,941 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 13:27:17,980 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:27:17,997 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 13:27:17 
2025-05-19 13:27:18,057 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:27:18,075 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 13:27:18,080 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 13:27:18,083 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 13:27:18,084 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 13:27:19,524 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 13:27:20,960 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 13:27:22,032 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:27:23,033 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:27:24,476 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:27:25,918 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:27:28,323 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:27:28,323 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:27:28,332 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:27:28,339 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:27:28,339 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:27:28,398 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:27:28,398 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:27:28,524 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:27:28,534 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:27:28,547 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:27:28,577 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:27:28,607 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:27:28,624 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:27:29,212 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:29,647 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:27:29,649 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:27:31,550 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:27:32,365 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:27:33,105 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:33,676 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:27:34,067 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.55, 止损价格: 34.63
2025-05-19 13:27:34,077 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.55, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:27:34,078 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:27:34,207 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:35,694 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:37,453 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:37,533 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:37,747 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:39,643 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:27:39,643 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:27:39,954 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:27:40,922 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:42,718 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:44,544 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:27:45,114 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:46,046 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:27:46,433 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.58, 止损价格: 34.63
2025-05-19 13:27:46,434 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.58, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:27:46,434 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:27:47,147 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:27:47,599 - qmt_trading.position_manager - ERROR - 更新 603883 持仓Error: cannot commit - no transaction is active
2025-05-19 13:27:48,613 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 13:27:49,111 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:27:49,120 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:27:49,121 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:27:49,122 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:27:52,011 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 13:27:52,022 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 13:27:53,366 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 13:27:53,367 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 13:27:56,642 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:27:57,874 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 13:27:58,685 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.55, 止损价格: 34.63
2025-05-19 13:27:58,686 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.55, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:27:58,687 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:28:09,474 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:28:11,034 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.55, 止损价格: 34.63
2025-05-19 13:28:11,036 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.55, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:28:11,036 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:28:13,416 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 13:28:13,419 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 13:28:13,420 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:28:13,421 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:28:13,424 - qmt_trading.trading_executor - INFO - 实盘买入准备: 股票代码=300250.SZ, 数量=100, 价格类型=0, 价格=15.24
2025-05-19 13:28:13,428 - qmt_trading.trading_executor - INFO - 买入请求已发送: 300250.SZ, 请求序号: 249529674, 数量: 100, 价格: 15.24
2025-05-19 13:28:13,429 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 249529674
2025-05-19 13:28:18,846 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 13:28:21,368 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:28:23,132 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.55, 止损价格: 34.63
2025-05-19 13:28:23,136 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.55, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:28:23,137 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:28:29,984 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:28:29,985 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:28:29,986 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:28:30,253 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:34:16,489 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 13:34:16,498 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 13:34:18,640 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 13:34:18,643 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 13:34:18,653 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 13:34:18,693 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 13:34:18,728 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 13:34:18,855 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 13:34:18,910 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 13:34:18,911 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 13:34:19,239 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:34:19,250 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:34:19,260 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 13:34:19,263 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 13:34:19,265 - qmt_trading.trading_executor - INFO - 使用position_manager中已存在的qmt_trader实例
2025-05-19 13:34:19,265 - qmt_trading.trading_executor - INFO - 已配置交易账户: 25105132, 类型: STOCK
2025-05-19 13:34:19,267 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 13:34:19,290 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:34:19,298 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 13:34:19 
2025-05-19 13:34:19,302 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:34:19,448 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 13:34:19,454 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 13:34:19,455 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 13:34:19,456 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 13:34:20,904 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 13:34:22,358 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 13:34:24,335 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:34:25,336 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:34:26,748 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:34:28,199 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:34:29,673 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:34:29,684 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:34:29,701 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:34:29,709 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:34:29,721 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:34:30,219 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:34:30,219 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:34:30,245 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:34:30,260 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:34:30,261 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:34:30,264 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:34:30,271 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:34:30,278 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:34:30,727 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:34:31,280 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:31,547 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:34:33,249 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:34:35,045 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:34:36,137 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:36,569 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:34:36,739 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.62, 止损价格: 34.63
2025-05-19 13:34:36,741 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.62, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:34:36,747 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:34:38,581 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:39,130 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:40,301 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:40,590 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:41,175 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:41,312 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:34:42,393 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:43,290 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:44,246 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:45,295 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:46,969 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:34:47,108 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:47,351 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:34:48,825 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:49,273 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:49,950 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:51,783 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:34:51,796 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:34:51,915 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:34:53,079 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:34:54,197 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.62, 止损价格: 34.63
2025-05-19 13:34:54,323 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.62, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:34:54,325 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:54,487 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:34:57,692 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:34:59,724 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:35:01,730 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:35:03,733 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:35:04,825 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:35:05,736 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:35:06,764 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.62, 止损价格: 34.63
2025-05-19 13:35:06,768 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.62, 止盈位: 34.63, 最高价: 36.45
2025-05-19 13:35:06,770 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:35:08,179 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:35:09,388 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:35:09,457 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:35:09,505 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:35:09,521 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:35:16,613 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 13:35:18,313 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:35:20,508 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.63, 止损价格: 34.63
2025-05-19 13:35:20,508 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:35:30,728 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:35:32,865 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 13:35:33,036 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.63, 止损价格: 34.63
2025-05-19 13:35:33,037 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:35:34,242 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 13:35:34,272 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 13:35:43,284 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:35:44,959 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.63, 止损价格: 34.63
2025-05-19 13:35:44,961 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 13:35:49,116 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:35:49,896 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 13:35:49,898 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 13:35:49,899 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:35:49,900 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:35:49,911 - qmt_trading.trading_executor - INFO - 实盘买入准备: 股票代码=300250.SZ, 数量=100, 价格类型=0, 价格=15.25
2025-05-19 13:35:50,122 - qmt_trading.trading_executor - ERROR - 买入失败: 300250.SZ, 错误码: -1, 原因: 资金不足或可用不足
2025-05-19 13:35:52,153 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:35:53,235 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:35:55,347 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:35:59,044 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:36:07,331 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:36:07,332 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:36:07,333 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:36:08,521 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:36:08,687 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:43:25,324 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 13:43:25,332 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 13:43:27,525 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 13:43:27,537 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 13:43:27,561 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 13:43:27,569 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 13:43:27,664 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 13:43:27,729 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 13:43:27,793 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 13:43:28,190 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 13:43:28,549 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:43:28,559 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:43:28,561 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 13:43:28,564 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 13:43:28,566 - qmt_trading.trading_executor - INFO - 使用position_manager中已存在的qmt_trader实例
2025-05-19 13:43:28,568 - qmt_trading.trading_executor - INFO - 已配置交易账户: 25105132, 类型: STOCK
2025-05-19 13:43:28,569 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 13:43:28,591 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:43:28,606 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 13:43:28 
2025-05-19 13:43:28,625 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:43:28,630 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 13:43:28,632 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 13:43:28,635 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 13:43:28,638 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 13:43:30,075 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 13:43:31,491 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 13:43:32,628 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:43:33,639 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:43:35,049 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:43:36,501 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:43:38,958 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:43:38,958 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:43:38,967 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:43:38,974 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:43:38,980 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:43:39,159 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:43:39,159 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:43:39,181 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:43:39,186 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:43:39,187 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:43:39,190 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:43:39,196 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:43:39,198 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:43:40,323 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:41,474 - qmt_trading.position_manager - ERROR - 更新 600787 持仓Error: cannot commit - no transaction is active
2025-05-19 13:43:42,105 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:43:42,218 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:43,032 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:43:43,618 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:43:43,847 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:43:44,326 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:45,215 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:46,336 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:47,224 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:49,148 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:49,260 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:43:49,290 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:52,071 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:52,155 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:54,262 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:54,264 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:54,568 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:55,683 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:43:56,866 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:43:56,981 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:43:57,062 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:43:59,242 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:43:59,261 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:44:01,899 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:44:03,904 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:44:04,250 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:44:04,371 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: cannot commit - no transaction is active
2025-05-19 13:44:04,385 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: cannot commit - no transaction is active
2025-05-19 13:44:04,883 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:44:04,889 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:44:04,889 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:44:04,890 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:44:11,632 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:44:12,214 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:44:12,489 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 13:44:17,249 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 13:44:17,378 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 13:44:17,421 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 13:44:24,530 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:44:26,640 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:44:29,756 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 13:44:29,760 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 13:44:29,952 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:44:29,967 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:44:30,014 - qmt_trading.trading_executor - INFO - 账户可用资金: 268740.59, 需要资金: 1528.572
2025-05-19 13:44:30,102 - qmt_trading.trading_executor - INFO - 实盘买入准备: 股票代码=300250.SZ, 数量=100, 价格类型=0, 价格=15.24, 备注=TradeExec-134430
2025-05-19 13:44:30,129 - qmt_trading.trading_executor - ERROR - 买入失败: 300250.SZ, 错误码: -1, 原因: 资金不足或可用不足
2025-05-19 13:44:30,275 - qmt_trading.trading_executor - INFO - 当前持仓情况:
   账号类型      资金账号    证券代码  股票余额  可用余额     成本价   参考成本价       市值
0     2  25105132  513100   100   100   1.589   1.589    155.1
1     2  25105132  600571  4300  4300  16.005  16.005  66263.0
2     2  25105132  600787     0     0     NaN     NaN      0.0
3     2  25105132  603883  3500  3500  19.120  19.120  66360.0
4     2  25105132  300277  5300  5300  12.984  12.984  70596.0
5     2  25105132  301252   400   400  31.804  31.804  13876.0
2025-05-19 13:44:36,263 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:44:36,264 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:44:36,266 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:44:36,850 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:47:48,629 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 13:47:48,641 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 13:47:50,829 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 13:47:50,852 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 13:47:50,931 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 13:47:51,093 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 13:47:51,135 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 13:47:51,174 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 13:47:51,326 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 13:47:51,338 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 13:47:51,695 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:47:51,710 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:47:51,724 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 13:47:51,726 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 13:47:51,727 - qmt_trading.trading_executor - INFO - 使用position_manager中已存在的qmt_trader实例
2025-05-19 13:47:51,730 - qmt_trading.trading_executor - INFO - 已配置交易账户: 25105132, 类型: STOCK
2025-05-19 13:47:51,736 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 13:47:51,772 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:47:51,816 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 13:47:51 
2025-05-19 13:47:51,821 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:47:51,823 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 13:47:51,834 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 13:47:51,860 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 13:47:51,972 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 13:47:53,410 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 13:47:54,878 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 13:47:55,980 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:47:56,984 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:47:58,434 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:47:59,886 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:48:01,315 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:48:01,320 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:48:01,330 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:48:01,337 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:48:01,337 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:48:01,368 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:48:01,369 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:48:01,580 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:48:01,606 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:48:01,611 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:48:01,615 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:48:01,674 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:48:01,866 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:48:02,429 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:02,603 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:48:04,374 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:48:04,520 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:48:04,521 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:48:04,845 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:48:05,806 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:05,822 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:48:06,006 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:48:06,307 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:06,600 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:07,571 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 13:48:07,833 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:48:07,889 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:48:08,502 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:10,024 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:10,507 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:12,019 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:48:12,580 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:12,805 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:14,365 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:16,672 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:18,676 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:19,263 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:48:21,263 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:48:22,539 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:48:22,632 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:48:22,674 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:48:22,682 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:48:26,994 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 13:48:27,146 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 13:48:27,151 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 13:48:31,150 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:48:31,240 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 13:48:33,444 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:48:43,955 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 13:48:44,163 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 13:48:44,610 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:48:44,767 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:48:44,793 - qmt_trading.trading_executor - INFO - 账户可用资金: 268740.59, 需要资金: 1527.5689999999997
2025-05-19 13:48:44,955 - qmt_trading.trading_executor - INFO - 当前持仓情况:
   账号类型      资金账号    证券代码  股票余额  可用余额     成本价   参考成本价       市值
0     2  25105132  513100   100   100   1.589   1.589    155.1
1     2  25105132  600571  4300  4300  16.005  16.005  66220.0
2     2  25105132  600787     0     0     NaN     NaN      0.0
3     2  25105132  603883  3500  3500  19.120  19.120  66290.0
4     2  25105132  300277  5300  5300  12.984  12.984  70543.0
5     2  25105132  301252   400   400  31.804  31.804  13872.0
2025-05-19 13:48:44,958 - qmt_trading.trading_executor - INFO - 调整后的股票代码: 300250.SZ
2025-05-19 13:48:44,958 - qmt_trading.trading_executor - INFO - 使用buy方法买入: 300250.SZ, 数量=100, 价格=15.23
2025-05-19 13:48:45,000 - qmt_trading.trading_executor - INFO - 买入请求已发送: 300250.SZ, 请求序号: 282242941
2025-05-19 13:48:45,002 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 282242941
2025-05-19 13:48:45,058 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:48:45,223 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:48:50,057 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 13:48:56,789 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:49:08,608 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:49:09,585 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 1000}
2025-05-19 13:49:13,115 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:49:16,103 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:49:16,369 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 13:49:16,400 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 1000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 13:49:16,996 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:49:20,839 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:49:21,250 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:49:22,553 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:49:28,451 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['513100'] -> ['513100']
2025-05-19 13:49:28,453 - qmt_trading.trading_executor - INFO - 开始买入处理: 513100, volume=None, price=None, amount=1000.0
2025-05-19 13:49:28,454 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:49:28,454 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:49:28,464 - qmt_trading.trading_executor - INFO - 账户可用资金: 268740.59, 需要资金: 933.9935999999999
2025-05-19 13:49:28,573 - qmt_trading.trading_executor - INFO - 当前持仓情况:
   账号类型      资金账号    证券代码  股票余额  可用余额     成本价   参考成本价       市值
0     2  25105132  513100   100   100   1.589   1.589    155.2
1     2  25105132  600571  4300  4300  16.005  16.005  66177.0
2     2  25105132  600787     0     0     NaN     NaN      0.0
3     2  25105132  603883  3500  3500  19.120  19.120  66325.0
4     2  25105132  300277  5300  5300  12.984  12.984  70490.0
5     2  25105132  301252   400   400  31.804  31.804  13860.0
2025-05-19 13:49:28,613 - qmt_trading.trading_executor - INFO - 调整后的股票代码: 513100.SH
2025-05-19 13:49:28,618 - qmt_trading.trading_executor - INFO - 使用buy方法买入: 513100.SH, 数量=600, 价格=1.552
2025-05-19 13:49:28,769 - qmt_trading.trading_executor - INFO - 买入请求已发送: 513100.SH, 请求序号: 876734732
2025-05-19 13:49:29,171 - qmt_trading.strategy - INFO - 手动买入 513100 成功，委托号: 876734732
2025-05-19 13:49:33,371 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:49:34,719 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:49:39,512 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:49:39,513 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:49:39,513 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:49:39,633 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 13:49:39,635 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-19 13:49:40,870 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:54:44,751 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 13:54:44,761 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 13:54:46,787 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 13:54:46,790 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 13:54:46,800 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 13:54:46,809 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 13:54:46,820 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 13:54:46,850 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 13:54:46,881 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 13:54:46,882 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 13:54:47,030 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:54:47,037 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:54:47,038 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 13:54:47,040 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 13:54:47,040 - qmt_trading.trading_executor - INFO - 使用position_manager中已存在的qmt_trader实例
2025-05-19 13:54:47,041 - qmt_trading.trading_executor - INFO - 已配置交易账户: 25105132, 类型: STOCK
2025-05-19 13:54:47,041 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 13:54:47,069 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:54:47,070 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 13:54:47 
2025-05-19 13:54:47,083 - qmt_trading.main - INFO - ==================================================
2025-05-19 13:54:47,086 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 13:54:47,087 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 13:54:47,088 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 13:54:47,098 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 13:54:48,561 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 13:54:50,007 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 13:54:51,141 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:54:52,149 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 13:54:53,592 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 13:54:55,036 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 13:54:56,488 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 13:54:56,492 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 13:54:56,518 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 13:54:56,551 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 13:54:56,651 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 13:54:56,799 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:54:56,799 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 13:54:56,821 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 13:54:57,286 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 13:54:57,383 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 13:54:58,074 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 13:54:58,167 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 13:54:58,287 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 13:55:00,386 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 13:55:00,491 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:55:01,783 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 13:55:03,024 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 13:55:03,072 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 13:55:03,356 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 13:55:03,523 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 13:55:06,246 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:55:06,505 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:55:06,697 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 13:55:06,722 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 13:55:06,731 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 13:55:06,756 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 13:55:07,852 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:55:08,948 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 13:55:11,466 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 13:55:19,597 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:55:19,758 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:55:25,030 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 13:55:25,196 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 13:55:25,240 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 13:55:31,667 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:55:37,225 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 13:55:37,288 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 13:55:37,311 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:55:37,311 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:55:37,318 - qmt_trading.trading_executor - INFO - 账户可用资金: 268740.59, 需要资金: 1526.5659999999998
2025-05-19 13:55:37,373 - qmt_trading.trading_executor - INFO - 当前持仓情况:
   账号类型      资金账号    证券代码  股票余额  可用余额     成本价   参考成本价       市值
0     2  25105132  513100   100   100   1.589   1.589    155.1
1     2  25105132  600571  4300  4300  16.005  16.005  66392.0
2     2  25105132  600787     0     0     NaN     NaN      0.0
3     2  25105132  603883  3500  3500  19.120  19.120  66220.0
4     2  25105132  300277  5300  5300  12.984  12.984  70331.0
5     2  25105132  301252   400   400  31.804  31.804  13880.0
2025-05-19 13:55:37,396 - qmt_trading.trading_executor - INFO - 调整后的股票代码: 300250.SZ
2025-05-19 13:55:37,414 - qmt_trading.trading_executor - INFO - 尝试使用同步下单方法...
2025-05-19 13:55:37,506 - qmt_trading.trading_executor - WARNING - 同步下单失败，错误码: -1，尝试异步下单
2025-05-19 13:55:37,509 - qmt_trading.trading_executor - INFO - 使用buy方法买入: 300250.SZ, 数量=100, 价格=15.22
2025-05-19 13:55:37,572 - qmt_trading.trading_executor - INFO - 买入请求已发送: 300250.SZ, 请求序号: 535834864
2025-05-19 13:55:37,573 - qmt_trading.trading_executor - INFO - 等待异步回调结果，最多等待 3 秒...
2025-05-19 13:55:40,975 - qmt_trading.trading_executor - WARNING - 未能获取异步回调结果，返回请求序号: 535834864
2025-05-19 13:55:40,975 - qmt_trading.trading_executor - WARNING - 注意：返回的不是真实订单号，而是请求序号！可能对应的订单已被拒绝。
2025-05-19 13:55:40,976 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 535834864
2025-05-19 13:55:45,898 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:55:46,366 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 13:55:58,159 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:55:59,251 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['513100'] -> ['513100']
2025-05-19 13:55:59,253 - qmt_trading.trading_executor - INFO - 开始买入处理: 513100, volume=None, price=None, amount=2000.0
2025-05-19 13:55:59,253 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 13:55:59,254 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 13:55:59,262 - qmt_trading.trading_executor - INFO - 账户可用资金: 268740.59, 需要资金: 1865.5799999999997
2025-05-19 13:55:59,357 - qmt_trading.trading_executor - INFO - 当前持仓情况:
   账号类型      资金账号    证券代码  股票余额  可用余额     成本价   参考成本价       市值
0     2  25105132  513100   100   100   1.589   1.589    155.0
1     2  25105132  600571  4300  4300  16.005  16.005  66349.0
2     2  25105132  600787     0     0     NaN     NaN      0.0
3     2  25105132  603883  3500  3500  19.120  19.120  66255.0
4     2  25105132  300277  5300  5300  12.984  12.984  70278.0
5     2  25105132  301252   400   400  31.804  31.804  13880.0
2025-05-19 13:55:59,360 - qmt_trading.trading_executor - INFO - 调整后的股票代码: 513100.SH
2025-05-19 13:55:59,374 - qmt_trading.trading_executor - INFO - 尝试使用同步下单方法...
2025-05-19 13:55:59,385 - qmt_trading.trading_executor - WARNING - 同步下单失败，错误码: -1，尝试异步下单
2025-05-19 13:55:59,386 - qmt_trading.trading_executor - INFO - 使用buy方法买入: 513100.SH, 数量=1200, 价格=1.55
2025-05-19 13:55:59,387 - qmt_trading.trading_executor - INFO - 买入请求已发送: 513100.SH, 请求序号: 924543138
2025-05-19 13:55:59,389 - qmt_trading.trading_executor - INFO - 等待异步回调结果，最多等待 3 秒...
2025-05-19 13:56:02,496 - qmt_trading.trading_executor - WARNING - 未能获取异步回调结果，返回请求序号: 924543138
2025-05-19 13:56:02,497 - qmt_trading.trading_executor - WARNING - 注意：返回的不是真实订单号，而是请求序号！可能对应的订单已被拒绝。
2025-05-19 13:56:02,574 - qmt_trading.strategy - INFO - 手动买入 513100 成功，委托号: 924543138
2025-05-19 13:56:03,732 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 13:56:09,313 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 13:56:10,817 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 13:56:12,122 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 13:56:12,123 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 13:56:12,125 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 13:56:17,150 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:24:05,842 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 14:24:05,857 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 14:24:07,878 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 14:24:07,880 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 14:24:07,883 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 14:24:07,887 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 14:24:07,891 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 14:24:07,893 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 14:24:07,895 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 14:24:07,896 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 14:24:08,127 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:24:08,211 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:24:08,242 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 14:24:08,243 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 14:24:08,244 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 14:24:08,270 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:24:08,271 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 14:24:08 
2025-05-19 14:24:08,272 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:24:08,273 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 14:24:08,274 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 14:24:08,274 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 14:24:08,275 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 14:24:09,814 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 14:24:11,329 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 14:24:12,448 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:24:13,450 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 14:24:14,962 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 14:24:16,674 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 14:24:19,078 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 14:24:19,103 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 14:24:19,128 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 14:24:19,236 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 14:24:19,287 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 14:24:19,333 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:24:19,333 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 14:24:19,348 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 14:24:19,374 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 14:24:19,395 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 14:24:19,523 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 14:24:19,585 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 14:24:20,076 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 14:24:21,574 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:24:22,371 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:24:22,783 - qmt_trading.position_manager - INFO - 更新 513100 持仓: 止损价: 从 1.48 到 0.0
2025-05-19 14:24:23,260 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:23,920 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:24:25,305 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:24:25,425 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:29,010 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:24:29,571 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:29,603 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:29,784 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 14:24:30,369 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:24:30,969 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:30,988 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:31,213 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:31,415 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:24:31,861 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:24:34,336 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:24:34,411 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:24:34,415 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.56, 止损价格: 34.63
2025-05-19 14:24:34,429 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 14:24:34,430 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 14:24:34,456 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.56, 止盈位: 34.63, 最高价: 36.45
2025-05-19 14:24:34,462 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:24:36,198 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:24:38,615 - qmt_trading.position_manager - INFO - 更新 513100 持仓: 止损价: 从 1.48 到 0.0
2025-05-19 14:24:40,347 - qmt_trading.position_manager - INFO - 更新内存数据库的 513100 到sql数据库
2025-05-19 14:24:44,679 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:24:45,879 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:24:46,242 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.56, 止损价格: 34.63
2025-05-19 14:24:46,243 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.56, 止盈位: 34.63, 最高价: 36.45
2025-05-19 14:24:46,244 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:24:56,461 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 14:24:56,870 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:24:58,730 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.56, 止损价格: 34.63
2025-05-19 14:24:58,730 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.56, 止盈位: 34.63, 最高价: 36.45
2025-05-19 14:24:58,731 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:25:02,786 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 14:25:03,013 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 14:25:03,051 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 14:25:07,887 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 14:25:08,972 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:25:11,176 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.56, 止损价格: 34.63
2025-05-19 14:25:11,180 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.56, 止盈位: 34.63, 最高价: 36.45
2025-05-19 14:25:11,182 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:25:19,199 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 14:25:19,200 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 14:25:19,201 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 14:25:19,201 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:25:19,204 - qmt_trading.trading_executor - WARNING - 未能获取账户 25105132 的信息
2025-05-19 14:25:19,205 - qmt_trading.trading_executor - ERROR - 买入 300250 未通过交易规则检查: 无法获取账户信息，交易取消
2025-05-19 14:25:21,783 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:25:23,378 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.56, 止损价格: 34.63
2025-05-19 14:25:23,379 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.56, 止盈位: 34.63, 最高价: 36.45
2025-05-19 14:25:23,380 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:25:29,442 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:25:29,451 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 14:25:29,452 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 14:25:29,685 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:28:02,422 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 14:28:02,434 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 14:28:04,751 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 14:28:04,753 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 14:28:04,764 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 14:28:04,777 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 14:28:04,785 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 14:28:04,838 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 14:28:04,860 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 14:28:04,949 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 14:28:05,313 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:28:05,346 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:28:05,471 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 14:28:05,501 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 14:28:05,502 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 14:28:05,523 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:28:05,581 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 14:28:05 
2025-05-19 14:28:05,687 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:28:05,718 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 14:28:05,822 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 14:28:05,847 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 14:28:05,869 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 14:28:07,440 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 14:28:08,897 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 14:28:09,947 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:28:10,951 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 14:28:12,394 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 14:28:13,838 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 14:28:15,274 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 14:28:15,281 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 14:28:15,291 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 14:28:15,336 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 14:28:15,408 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 14:28:15,441 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:28:15,441 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 14:28:15,554 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 14:28:15,562 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 14:28:15,564 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 14:28:15,566 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 14:28:15,821 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 14:28:16,027 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 14:28:17,023 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 14:28:20,814 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:28:21,212 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:28:21,501 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:28:21,888 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:28:22,870 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:28:24,158 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:28:25,893 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:28:26,417 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:28:27,804 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.57, 止损价格: 34.63
2025-05-19 14:28:27,983 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.57, 止盈位: 34.63, 最高价: 36.45
2025-05-19 14:28:28,144 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:28:28,342 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:28:28,404 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:28:28,408 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 14:28:28,410 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 14:28:28,795 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:28:33,310 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 14:28:33,472 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 14:28:33,502 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 14:28:38,217 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 14:28:38,576 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:28:40,113 - qmt_trading.position_manager - WARNING - 未能获取 600787 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:28:41,279 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.61, 止损价格: 34.63
2025-05-19 14:28:41,281 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.61, 止盈位: 34.63, 最高价: 36.45
2025-05-19 14:28:41,282 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:28:49,770 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 14:28:49,771 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 14:28:49,774 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 14:28:49,775 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:28:49,901 - qmt_trading.trading_executor - INFO - 买入 300250 下单成功，委托号: 668158653, 价格: 15.3, 数量: 100
2025-05-19 14:28:49,902 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 668158653
2025-05-19 14:28:51,520 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:28:53,335 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.63, 止损价格: 34.63
2025-05-19 14:28:53,342 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:28:55,573 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 14:29:04,115 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:29:05,656 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.63, 止损价格: 34.63
2025-05-19 14:29:05,656 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:29:16,000 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:29:17,284 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 14:29:17,285 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 14:29:17,288 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 14:29:17,332 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:29:17,482 - qmt_trading.trading_executor - INFO - 买入 300250 下单成功，委托号: 135199247, 价格: 15.26, 数量: 100
2025-05-19 14:29:17,491 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 135199247
2025-05-19 14:29:18,404 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.63, 止损价格: 34.63
2025-05-19 14:29:18,413 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:29:23,433 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 14:29:28,663 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:29:29,346 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:29:31,021 - qmt_trading.position_manager - WARNING - 301252 触发止损条件，当前价格:: 34.63, 止损价格: 34.63
2025-05-19 14:29:31,022 - qmt_trading.position_manager - WARNING - 301252 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-19 14:29:32,210 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:29:33,049 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:29:33,078 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 14:29:33,134 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:29:33,166 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:29:33,403 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:29:33,953 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:38:39,428 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 14:38:39,436 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 14:38:41,482 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 14:38:41,485 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 14:38:41,489 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 14:38:41,492 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 14:38:41,495 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 14:38:41,498 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 14:38:41,509 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 14:38:41,512 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 14:38:41,665 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:38:41,673 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:38:41,674 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 14:38:41,678 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 14:38:41,679 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 14:38:41,705 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:38:41,730 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 14:38:41 
2025-05-19 14:38:41,867 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:38:41,868 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 14:38:41,869 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 14:38:41,869 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 14:38:41,871 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 14:38:43,332 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 14:38:44,761 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 14:38:45,845 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:38:46,848 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 14:38:48,281 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 14:38:49,709 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 14:38:51,142 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 14:38:51,145 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 14:38:51,154 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 14:38:51,170 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 14:38:51,187 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 14:38:51,284 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:38:51,284 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 14:38:51,380 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 14:38:51,387 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 14:38:51,388 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 14:38:51,392 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 14:38:51,400 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 14:38:51,401 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 14:38:51,939 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 14:38:54,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:38:54,630 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:38:55,237 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:38:57,477 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:38:58,337 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:38:59,618 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:39:02,186 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 14:39:02,271 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:39:03,771 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:39:04,426 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:39:04,457 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:39:06,360 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:39:06,365 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:39:06,370 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:39:06,372 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 14:39:06,372 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 14:39:10,248 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:39:11,667 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:39:11,936 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:39:12,157 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 14:39:12,187 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 14:39:12,336 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 14:39:23,165 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:39:24,217 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 14:39:24,260 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0
2025-05-19 14:39:24,267 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-19 14:39:24,273 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 14:39:24,339 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:39:24,479 - qmt_trading.trading_executor - INFO - 买入 300250.SZ 下单成功，委托号: 895845257, 价格: 15.29, 数量: 100
2025-05-19 14:39:24,482 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 895845257
2025-05-19 14:39:29,708 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:39:29,845 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 14:39:35,329 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:39:36,644 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:39:47,543 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:39:59,508 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:40:00,432 - qmt_trading.position_manager - WARNING - 未能获取 600787 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:40:11,546 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:40:11,864 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:40:14,727 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:40:15,705 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:40:22,035 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:40:23,181 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:40:35,521 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:40:47,286 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:40:58,555 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:40:58,556 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 14:40:58,557 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 14:40:59,173 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:42:48,999 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 14:42:49,009 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 14:42:51,072 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 14:42:51,078 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 14:42:51,083 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 14:42:51,088 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 14:42:51,095 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 14:42:51,098 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 14:42:51,101 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 14:42:51,102 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 14:42:51,252 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:42:51,260 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:42:51,275 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 14:42:51,281 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 14:42:51,283 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 14:42:51,309 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:42:51,316 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 14:42:51 
2025-05-19 14:42:51,330 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:42:51,338 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 14:42:51,339 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 14:42:51,342 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 14:42:51,345 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 14:42:52,943 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 14:42:54,368 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 14:42:56,423 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:42:57,425 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 14:42:58,877 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 14:43:00,310 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 14:43:01,746 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 14:43:01,748 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 14:43:01,757 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 14:43:01,865 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 14:43:01,907 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 14:43:01,966 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:43:01,966 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 14:43:01,974 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 14:43:01,995 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 14:43:01,996 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 14:43:02,008 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 14:43:02,071 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 14:43:02,113 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 14:43:04,345 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:43:04,900 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:43:05,728 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:43:07,211 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:43:07,320 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:43:07,534 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:43:08,059 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:43:08,720 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: cannot commit - no transaction is active
2025-05-19 14:43:08,926 - qmt_trading.position_manager - ERROR - 获取所有持仓信息时出错: Gaps in blk ref_locs
2025-05-19 14:43:10,852 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:43:11,909 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:43:13,719 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:43:14,354 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:43:16,364 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:43:17,880 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:43:17,889 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:43:17,935 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 14:43:17,939 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 14:43:24,177 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 14:43:24,410 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 14:43:24,458 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-19 14:43:35,574 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 14:43:35,726 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0, price_type=5
2025-05-19 14:43:35,780 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-19 14:43:35,781 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 14:43:35,782 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:43:35,785 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 15.28
2025-05-19 14:43:35,840 - qmt_trading.trading_executor - INFO - 买入 300250.SZ 下单成功，委托号: 527384268, 价格: 15.28, 数量: 100, 价格类型: 5
2025-05-19 14:43:35,842 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 527384268
2025-05-19 14:43:41,539 - qmt_trading.strategy - WARNING - 未持有 300250，无法初始化网格交易
2025-05-19 14:43:48,844 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:43:48,871 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 14:43:48,899 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 14:43:49,852 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:55:55,968 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 14:55:55,981 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 14:55:58,005 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 14:55:58,007 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 14:55:58,009 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 14:55:58,018 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 14:55:58,025 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 14:55:58,032 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 14:55:58,058 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 14:55:58,059 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-19 14:55:58,195 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:55:58,208 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:55:58,235 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 14:55:58,353 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 14:55:58,366 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 14:55:58,381 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:55:58,382 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 14:55:58 
2025-05-19 14:55:58,383 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:55:58,383 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 14:55:58,384 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 14:55:58,385 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 14:55:58,402 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 14:55:59,876 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 14:56:01,307 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 14:56:02,314 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:56:03,317 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 14:56:04,771 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 14:56:07,223 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 14:56:08,654 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 14:56:08,654 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 14:56:08,664 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 14:56:08,674 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 14:56:08,684 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 14:56:08,686 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:56:08,686 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 14:56:08,692 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 14:56:08,707 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 14:56:08,718 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 14:56:08,727 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 14:56:08,731 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 14:56:08,757 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 14:56:09,788 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:10,168 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:56:11,176 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:56:11,414 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:56:11,744 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:56:12,012 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:56:12,217 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:56:12,875 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:56:13,248 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:56:13,528 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:13,901 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:56:14,197 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:56:14,349 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:56:18,169 - qmt_trading.position_manager - INFO - 更新 stock_pool.json with new positions.
2025-05-19 14:56:18,510 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 14:56:18,691 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:56:19,184 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:19,510 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:20,011 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:21,705 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:21,877 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 最高价: 从 15.26 到 15.38
2025-05-19 14:56:21,899 - qmt_trading.position_manager - INFO - 更新 300250 的最高价为 15.38
2025-05-19 14:56:22,900 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:25,481 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:27,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:29,836 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:31,839 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:32,292 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:32,816 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-19 14:56:32,982 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-19 14:56:32,982 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': True}
2025-05-19 14:56:33,842 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:34,023 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:35,888 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:56:36,944 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:56:36,957 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:56:36,959 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 14:56:36,960 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 14:56:41,479 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 14:56:41,479 - qmt_trading.position_manager - WARNING - 在数据库中未找到 300250 的记录
2025-05-19 14:56:41,481 - qmt_trading.position_manager - INFO - 在数据库中插入新的 300250 记录，使用当前日期 2025-05-19 14:56:41 作为 open_date
2025-05-19 14:56:44,491 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:46,358 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:46,511 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 最高价: 从 15.26 到 15.38
2025-05-19 14:56:46,560 - qmt_trading.position_manager - INFO - 更新 300250 的最高价为 15.38
2025-05-19 14:56:46,697 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 最高价: 从 15.38 到 15.27
2025-05-19 14:56:46,733 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:56:51,873 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:56:56,984 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:56:57,315 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 14:56:57,326 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0, price_type=5
2025-05-19 14:56:57,327 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-19 14:56:57,328 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 14:56:57,341 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:56:57,384 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 15.29
2025-05-19 14:56:57,573 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:56:58,263 - qmt_trading.trading_executor - INFO - 买入 300250.SZ 下单成功，委托号: 431119829, 价格: 15.29, 数量: 100, 价格类型: 5
2025-05-19 14:56:58,281 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 431119829
2025-05-19 14:57:00,688 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:00,700 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 最高价: 从 15.27 到 15.38
2025-05-19 14:57:00,701 - qmt_trading.position_manager - INFO - 更新 300250 的最高价为 15.38
2025-05-19 14:57:02,084 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:07,108 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:11,477 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:57:12,333 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:12,334 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:14,174 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:17,802 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:20,138 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:57:23,044 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:23,501 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:57:24,477 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:57:24,940 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:26,837 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:28,429 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:31,065 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:57:33,474 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:37,950 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:57:38,382 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:38,778 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:40,227 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:43,822 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:48,844 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:50,709 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:52,120 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:52,673 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:57:54,258 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:57:59,323 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:03,629 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:58:04,391 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:06,023 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:58:09,444 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:14,463 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:17,945 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:58:19,477 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:19,841 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:58:21,231 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-19 14:58:21,306 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0, price_type=5
2025-05-19 14:58:21,378 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-19 14:58:21,428 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-19 14:58:21,785 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:58:21,857 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 0
2025-05-19 14:58:21,946 - qmt_trading.trading_executor - ERROR - 无法获取有效的买入价格，交易取消
2025-05-19 14:58:24,864 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:29,906 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:30,362 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:58:32,104 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:58:32,368 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:58:35,129 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:58:35,160 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:36,241 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:58:38,884 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:58:38,885 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 14:58:38,886 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 14:58:40,483 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-19 14:58:41,631 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:58:41,632 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 14:59:25,753 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 14:59:25,760 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 14:59:27,783 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 14:59:27,786 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-19 14:59:27,791 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 14:59:27,792 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 14:59:27,795 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 14:59:27,800 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 14:59:27,803 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 14:59:27,807 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 14:59:27,809 - qmt_trading.data_manager - INFO - 成功验证 7 只股票可获取数据
2025-05-19 14:59:28,173 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 14:59:28,185 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 14:59:28,185 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 14:59:28,202 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 14:59:28,202 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 14:59:28,221 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:59:28,222 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 14:59:28 
2025-05-19 14:59:28,223 - qmt_trading.main - INFO - ==================================================
2025-05-19 14:59:28,224 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 14:59:28,228 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 14:59:28,229 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 14:59:28,230 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-19 14:59:31,568 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 14:59:32,969 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 14:59:34,414 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 14:59:35,317 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:59:36,334 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 14:59:37,737 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 14:59:39,413 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 14:59:40,882 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 14:59:40,884 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 14:59:41,400 - qmt_trading.indicator_calculator - INFO - 成功计算 300250 的技术指标，共 60 条记录
2025-05-19 14:59:41,566 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 14:59:41,666 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 14:59:41,669 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 14:59:41,691 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-19 14:59:41,691 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 14:59:41,785 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 14:59:41,880 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 14:59:41,889 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 14:59:41,892 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 14:59:42,022 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 14:59:42,047 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 14:59:44,866 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:59:46,239 - qmt_trading.data_manager - INFO - 获取 513100 的完整历史数据
2025-05-19 14:59:48,326 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:59:48,445 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 14:59:48,668 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 14:59:49,420 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:59:49,437 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:59:49,741 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 14:59:49,769 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:59:51,870 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-19 的历史数据，跳过更新最高价
2025-05-19 14:59:52,072 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:59:52,431 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 14:59:53,964 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-19 14:59:55,483 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:59:57,819 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:59:58,638 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300250'] -> ['300250.SZ']
2025-05-19 14:59:58,639 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000, price_type=5
2025-05-19 14:59:58,640 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 14:59:58,640 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-19 14:59:58,641 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 14:59:58,643 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 0
2025-05-19 14:59:58,645 - qmt_trading.trading_executor - ERROR - 无法获取有效的买入价格，交易取消
2025-05-19 14:59:58,861 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 14:59:59,823 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 15:00:01,828 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 15:00:04,103 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 15:00:05,401 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:11,471 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300250'] -> ['300250.SZ']
2025-05-19 15:00:11,505 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000, price_type=5
2025-05-19 15:00:11,624 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 15:00:11,693 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 15:00:12,145 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 15:00:12,153 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 15:00:12,217 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 15.3
2025-05-19 15:00:12,228 - qmt_trading.trading_executor - INFO - 【模拟】买入 300250.SZ, 价格: 15.3, 数量: 1300, 成本: 19895.97
2025-05-19 15:00:13,115 - qmt_trading.trading_executor - INFO - 【模拟】生成买入委托号: SIM202505191500130001
2025-05-19 15:00:13,123 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505191500130001
2025-05-19 15:00:14,082 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:15,270 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:20,299 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:00:20,384 - qmt_trading.position_manager - INFO - 已删除 300250.SZ 的持仓记录
2025-05-19 15:00:22,085 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:26,987 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:29,453 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:00:30,786 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:31,442 - qmt_trading.strategy - WARNING - 未持有 300250.SZ，无法初始化网格交易
2025-05-19 15:00:32,298 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:00:33,883 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:36,949 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:00:38,327 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:44,282 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:00:45,810 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:46,426 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 15:00:47,161 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:00:48,718 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:51,967 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:00:53,493 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:00:59,837 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:01:00,224 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:01:02,061 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:01:02,104 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:01:08,745 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:01:10,091 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:01:14,144 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:01:15,476 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:01:16,584 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:01:17,788 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-19 15:01:17,853 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-19 15:01:23,214 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 15:01:23,225 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 15:01:23,236 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 15:01:23,359 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 15:01:23,907 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 15:01:24,075 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 15:01:24,162 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 15:01:24,358 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 15:01:24,517 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:47:15,948 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 22:47:15,964 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 22:47:18,111 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 22:47:18,327 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-19 22:47:18,337 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 22:47:18,368 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 22:47:18,477 - qmt_trading.data_manager - INFO - 股票 513100.SH 数据获取成功
2025-05-19 22:47:18,492 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 22:47:18,515 - qmt_trading.data_manager - INFO - 股票 600787.SH 数据获取成功
2025-05-19 22:47:18,549 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 22:47:18,552 - qmt_trading.data_manager - INFO - 成功验证 7 只股票可获取数据
2025-05-19 22:47:18,802 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 22:47:18,855 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 22:47:18,858 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 22:47:18,861 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 22:47:18,862 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 22:47:18,881 - qmt_trading.main - INFO - ==================================================
2025-05-19 22:47:18,900 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 22:47:18 
2025-05-19 22:47:18,922 - qmt_trading.main - INFO - ==================================================
2025-05-19 22:47:18,962 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 22:47:18,966 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 22:47:18,974 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 22:47:18,978 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-19 22:47:20,524 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 22:47:21,952 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 22:47:23,400 - qmt_trading.main - INFO - 下载 513100 的历史数据
2025-05-19 22:47:24,604 - qmt_trading.data_manager - WARNING - 下载 513100 数据时发生长度不匹配错误，使用默认数据
2025-05-19 22:47:25,613 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 22:47:27,268 - qmt_trading.main - INFO - 下载 600787 的历史数据
2025-05-19 22:47:28,897 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 22:47:30,336 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 22:47:30,344 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 22:47:30,401 - qmt_trading.indicator_calculator - WARNING - 没有 513100 的历史数据，无法计算指标
2025-05-19 22:47:30,432 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 22:47:30,433 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 22:47:30,658 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 22:47:30,663 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 22:47:30,711 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 22:47:30,724 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 22:47:31,793 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 22:47:32,758 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 22:47:32,996 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 22:48:07,953 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:48:17,349 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-19 22:48:17,350 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-19 22:48:17,352 - qmt_trading.position_manager - INFO - 更新 stock_pool.json with new positions.
2025-05-19 22:48:21,545 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:48:26,863 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:48:30,817 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 22:48:30,888 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000, price_type=5
2025-05-19 22:48:31,114 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 22:48:31,170 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 22:48:31,383 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 22:48:31,761 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 15.3
2025-05-19 22:48:31,774 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192248310001
2025-05-19 22:48:32,121 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:48:34,967 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ(初灵信息) BUY 价格:15.30 数量:1300 金额:19890.00 策略:simu
2025-05-19 22:48:34,974 - qmt_trading.trading_executor - ERROR - 保存交易记录时出错: table trade_records has no column named stock_name
2025-05-19 22:48:35,193 - qmt_trading.trading_executor - ERROR - 模拟交易记录保存失败: 300250.SZ
2025-05-19 22:48:35,214 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=15.3, volume=1300
2025-05-19 22:48:38,170 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:48:39,750 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ(初灵信息), 数量: 1300, 成本: 15.3, 结果: True
2025-05-19 22:48:39,776 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19895.97, 余额: 980104.03
2025-05-19 22:48:39,792 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505192248310001, 价格: 15.3, 数量: 1300
2025-05-19 22:48:39,814 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505192248310001
2025-05-19 22:48:43,326 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:48:43,326 - qmt_trading.position_manager - INFO - 已删除 300250.SZ 的持仓记录
2025-05-19 22:48:48,773 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:48:51,156 - qmt_trading.strategy - WARNING - 未持有 300250.SZ，无法初始化网格交易
2025-05-19 22:48:52,495 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:48:53,718 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:48:58,981 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:49:04,131 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:49:06,982 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 22:49:07,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:49:09,052 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:49:14,372 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:49:17,013 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:49:19,522 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980104.033
2025-05-19 22:49:21,026 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:49:21,268 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 22:49:21,822 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 22:49:23,343 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:52:01,124 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 22:52:01,126 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 22:52:03,149 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 22:52:03,152 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-19 22:52:03,282 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 22:52:03,290 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 22:52:03,334 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 22:52:03,339 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 22:52:03,350 - qmt_trading.data_manager - INFO - 成功验证 5 只股票可获取数据
2025-05-19 22:52:03,500 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 22:52:03,515 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 22:52:03,530 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 22:52:03,555 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 22:52:03,565 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 22:52:03,602 - qmt_trading.main - INFO - ==================================================
2025-05-19 22:52:03,694 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 22:52:03 
2025-05-19 22:52:03,695 - qmt_trading.main - INFO - ==================================================
2025-05-19 22:52:03,697 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 22:52:03,697 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 22:52:03,702 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 22:52:03,705 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-19 22:52:05,172 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 22:52:06,673 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 22:52:08,149 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 22:52:09,723 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 22:52:11,159 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 22:52:11,169 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 22:52:11,245 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 22:52:11,758 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 22:52:11,929 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 22:52:11,929 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 22:52:11,947 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 22:52:12,113 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 22:52:12,295 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 22:52:12,651 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 22:52:12,838 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 22:52:27,716 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:52:34,640 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:52:37,683 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 22:52:39,512 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-19 22:52:39,654 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-19 22:52:39,776 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 22:52:40,604 - qmt_trading.position_manager - WARNING - 未找到 600787 的持仓记录，无需删除
2025-05-19 22:52:40,725 - qmt_trading.position_manager - WARNING - 未找到 513100 的持仓记录，无需删除
2025-05-19 22:52:46,007 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:52:51,281 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:52:51,882 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 22:52:51,998 - qmt_trading.trading_executor - INFO - 开始买入处理: 600383.SH, volume=None, price=None, amount=20000, price_type=5
2025-05-19 22:52:52,254 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 22:52:52,353 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 22:52:52,385 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 22:52:52,966 - qmt_trading.trading_executor - INFO - 获取到 600383.SH 卖三价: 4.18
2025-05-19 22:52:53,712 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192252530001
2025-05-19 22:52:55,331 - qmt_trading.trading_executor - INFO - 保存交易记录: 600383.SH(金地集团) BUY 价格:4.18 数量:4700 金额:19646.00 策略:simu
2025-05-19 22:52:55,371 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 600383.SH(金地集团), BUY, 价格: 4.18, 数量: 4700, 策略: simu
2025-05-19 22:52:55,601 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=600383.SH, trade_type=BUY, price=4.18, volume=4700
2025-05-19 22:52:56,467 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:52:58,094 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: cannot commit - no transaction is active
2025-05-19 22:53:00,721 - qmt_trading.trading_executor - INFO - 新建持仓成功: 600383.SH(金地集团), 数量: 4700, 成本: 4.18, 结果: True
2025-05-19 22:53:00,734 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19651.89, 余额: 980348.11
2025-05-19 22:53:00,783 - qmt_trading.trading_executor - INFO - [模拟] 买入 600383.SH 成功，委托号: SIM202505192252530001, 价格: 4.18, 数量: 4700
2025-05-19 22:53:01,400 - qmt_trading.strategy - INFO - 手动买入 600383.SH 成功，委托号: SIM202505192252530001
2025-05-19 22:53:01,820 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:04,705 - qmt_trading.position_manager - INFO - 已删除 600383.SH 的持仓记录
2025-05-19 22:53:05,297 - qmt_trading.position_manager - WARNING - 未找到 600383.SH 的持仓记录，无需删除
2025-05-19 22:53:07,322 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:12,466 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:12,585 - qmt_trading.strategy - WARNING - 未持有 600383.SH，无法初始化网格交易
2025-05-19 22:53:14,052 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:14,748 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:20,052 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:25,317 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:30,614 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:35,553 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 22:53:36,665 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:53:36,717 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 22:53:37,037 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:53:37,127 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:53:37,631 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:53:38,080 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:53:38,089 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:53:38,369 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:55:12,217 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 22:55:12,227 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 22:55:14,590 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 22:55:14,593 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-19 22:55:14,599 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 22:55:14,601 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 22:55:14,607 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 22:55:14,621 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 22:55:14,640 - qmt_trading.data_manager - INFO - 成功验证 5 只股票可获取数据
2025-05-19 22:55:15,149 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 22:55:15,159 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 22:55:15,168 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 22:55:15,171 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 22:55:15,174 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 22:55:15,198 - qmt_trading.main - INFO - ==================================================
2025-05-19 22:55:15,214 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 22:55:15 
2025-05-19 22:55:15,218 - qmt_trading.main - INFO - ==================================================
2025-05-19 22:55:15,223 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 22:55:15,228 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 22:55:15,232 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 22:55:15,430 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-19 22:55:16,881 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 22:55:18,340 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 22:55:19,773 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 22:55:21,245 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 22:55:22,733 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 22:55:22,734 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 22:55:22,917 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 22:55:22,936 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 22:55:22,951 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 22:55:22,952 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 22:55:22,969 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 22:55:23,138 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 22:55:23,604 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 22:55:24,100 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 22:55:24,121 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 22:55:28,231 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:55:32,922 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:55:37,152 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:55:41,297 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-19 22:55:41,412 - qmt_trading.position_manager - WARNING - 未找到 513100 的持仓记录，无需删除
2025-05-19 22:55:41,517 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-19 22:55:41,783 - qmt_trading.position_manager - WARNING - 未找到 600787 的持仓记录，无需删除
2025-05-19 22:55:42,102 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 22:55:42,856 - qmt_trading.position_manager - WARNING - 未找到 513100 的持仓记录，无需删除
2025-05-19 22:55:42,896 - qmt_trading.position_manager - WARNING - 未找到 600787 的持仓记录，无需删除
2025-05-19 22:55:45,236 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 22:55:47,259 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:55:49,420 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:55:52,283 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 22:55:52,496 - qmt_trading.trading_executor - INFO - 开始买入处理: 300766.SZ, volume=None, price=None, amount=20000, price_type=5
2025-05-19 22:55:52,783 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:55:52,905 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 22:55:53,863 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 22:55:53,992 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 22:55:54,203 - qmt_trading.trading_executor - INFO - 获取到 300766.SZ 卖三价: 39.31
2025-05-19 22:55:54,213 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192255540001
2025-05-19 22:55:55,438 - qmt_trading.trading_executor - INFO - 保存交易记录: 300766.SZ(每日互动) BUY 价格:39.31 数量:500 金额:19655.00 策略:simu
2025-05-19 22:55:55,459 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300766.SZ(每日互动), BUY, 价格: 39.31, 数量: 500, 策略: simu
2025-05-19 22:55:55,460 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300766.SZ, trade_type=BUY, price=39.31, volume=500
2025-05-19 22:55:58,312 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:55:59,372 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 22:56:00,828 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300766.SZ(每日互动), 数量: 500, 成本: 39.31, 结果: True
2025-05-19 22:56:01,005 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19660.90, 余额: 980339.10
2025-05-19 22:56:01,069 - qmt_trading.trading_executor - INFO - [模拟] 买入 300766.SZ 成功，委托号: SIM202505192255540001, 价格: 39.31, 数量: 500
2025-05-19 22:56:01,329 - qmt_trading.strategy - INFO - 手动买入 300766.SZ 成功，委托号: SIM202505192255540001
2025-05-19 22:56:03,487 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:04,332 - qmt_trading.position_manager - INFO - 已删除 300766.SZ 的持仓记录
2025-05-19 22:56:06,677 - qmt_trading.position_manager - WARNING - 未找到 300766.SZ 的持仓记录，无需删除
2025-05-19 22:56:08,735 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:10,015 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:12,779 - qmt_trading.strategy - WARNING - 未持有 300766.SZ，无法初始化网格交易
2025-05-19 22:56:13,653 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:18,767 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:19,321 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:24,685 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:28,051 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:29,624 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:34,706 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:37,091 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:40,231 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:41,776 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 22:56:41,925 - qmt_trading.trading_executor - INFO - 开始买入处理: 601857.SH, volume=None, price=None, amount=20000, price_type=5
2025-05-19 22:56:41,955 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 22:56:42,086 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 22:56:42,102 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 22:56:42,227 - qmt_trading.trading_executor - INFO - 获取到 601857.SH 卖三价: 8.21
2025-05-19 22:56:42,237 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192256420002
2025-05-19 22:56:43,916 - qmt_trading.trading_executor - INFO - 保存交易记录: 601857.SH(中国石油) BUY 价格:8.21 数量:2400 金额:19704.00 策略:simu
2025-05-19 22:56:44,175 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 601857.SH(中国石油), BUY, 价格: 8.21, 数量: 2400, 策略: simu
2025-05-19 22:56:44,410 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=601857.SH, trade_type=BUY, price=8.21, volume=2400
2025-05-19 22:56:45,675 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:46,406 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980339.1035
2025-05-19 22:56:49,656 - qmt_trading.trading_executor - INFO - 新建持仓成功: 601857.SH(中国石油), 数量: 2400, 成本: 8.21, 结果: True
2025-05-19 22:56:50,266 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19709.91, 余额: 960629.19
2025-05-19 22:56:50,415 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960629.1923
2025-05-19 22:56:50,952 - qmt_trading.trading_executor - INFO - [模拟] 买入 601857.SH 成功，委托号: SIM202505192256420002, 价格: 8.21, 数量: 2400
2025-05-19 22:56:51,441 - qmt_trading.strategy - INFO - 手动买入 601857.SH 成功，委托号: SIM202505192256420002
2025-05-19 22:56:54,740 - qmt_trading.position_manager - ERROR - 更新 301252 持仓Error: cannot start a transaction within a transaction
2025-05-19 22:56:54,769 - qmt_trading.position_manager - INFO - 已删除 601857.SH 的持仓记录
2025-05-19 22:56:55,397 - qmt_trading.position_manager - WARNING - 未找到 601857.SH 的持仓记录，无需删除
2025-05-19 22:56:55,691 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960629.1923
2025-05-19 22:56:57,047 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960629.1923
2025-05-19 22:57:02,846 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960629.1923
2025-05-19 22:57:03,581 - qmt_trading.strategy - WARNING - 未持有 601857.SH，无法初始化网格交易
2025-05-19 22:57:05,021 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960629.1923
2025-05-19 22:57:07,560 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960629.1923
2025-05-19 22:57:13,809 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 960629.1923
2025-05-19 22:57:15,298 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:57:15,644 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:57:15,854 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 22:57:16,162 - qmt_trading.main - INFO - 开始清理资源...
2025-05-19 22:57:16,274 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-19 22:57:17,196 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-19 22:57:17,246 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-19 22:57:17,497 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-05-19 22:57:17,504 - qmt_trading.main - INFO - 停止 log_thread...
2025-05-19 22:57:17,505 - qmt_trading.main - INFO - 停止 web_thread...
2025-05-19 22:57:17,506 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-05-19 22:57:17,507 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-05-19 22:57:17,508 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-05-19 22:57:17,509 - qmt_trading.main - INFO - 资源清理完成
2025-05-19 22:57:17,509 - qmt_trading.main - INFO - 系统已退出
2025-05-19 23:03:06,747 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 23:03:06,764 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 23:03:09,233 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 23:03:09,278 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-19 23:03:09,304 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 23:03:09,307 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 23:03:09,312 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 23:03:09,328 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 23:03:09,336 - qmt_trading.data_manager - INFO - 成功验证 5 只股票可获取数据
2025-05-19 23:03:09,568 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 23:03:09,640 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 23:03:09,647 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 23:03:09,688 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 23:03:09,691 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 23:03:09,758 - qmt_trading.main - INFO - ==================================================
2025-05-19 23:03:09,805 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 23:03:09 
2025-05-19 23:03:09,943 - qmt_trading.main - INFO - ==================================================
2025-05-19 23:03:09,968 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 23:03:09,974 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 23:03:09,981 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 23:03:09,987 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-19 23:03:11,613 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 23:03:13,099 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 23:03:14,561 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 23:03:16,181 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 23:03:18,013 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 23:03:18,076 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 23:03:18,153 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 23:03:18,295 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 23:03:18,314 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 23:03:18,315 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 23:03:18,524 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 23:03:18,622 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 23:03:19,369 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 23:03:21,005 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 23:03:21,439 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 23:03:24,606 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:03:25,845 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:03:28,672 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:03:30,690 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 23:03:34,774 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:03:35,457 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 23:03:39,775 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:03:39,830 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 23:03:43,130 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 23:03:44,006 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:03:44,501 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 23:03:47,448 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 23:04:03,286 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-19 23:04:15,786 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-19 23:04:25,081 - qmt_trading.position_manager - WARNING - 未找到 513100 的持仓记录，无需删除
2025-05-19 23:04:34,887 - qmt_trading.position_manager - WARNING - 未找到 600787 的持仓记录，无需删除
2025-05-19 23:04:44,552 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:04:50,559 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:04:55,963 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:05:02,277 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:05:07,876 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:05:09,652 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 23:05:11,251 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:05:12,980 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:05:17,624 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 23:05:17,665 - qmt_trading.trading_executor - INFO - 开始买入处理: 600383.SH, volume=None, price=None, amount=20000, price_type=5
2025-05-19 23:05:17,815 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 23:05:18,042 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 23:05:18,275 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 23:05:18,510 - qmt_trading.trading_executor - INFO - 获取到 600383.SH 卖三价: 4.18
2025-05-19 23:05:18,557 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192305180001
2025-05-19 23:05:19,197 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:05:19,445 - qmt_trading.trading_executor - INFO - 保存交易记录: 600383.SH(金地集团) BUY 价格:4.18 数量:4700 金额:19646.00 策略:simu
2025-05-19 23:05:20,189 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 600383.SH(金地集团), BUY, 价格: 4.18, 数量: 4700, 策略: simu
2025-05-19 23:05:20,437 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=600383.SH, trade_type=BUY, price=4.18, volume=4700
2025-05-19 23:05:23,623 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:05:24,933 - qmt_trading.trading_executor - INFO - 新建持仓成功: 600383.SH(金地集团), 数量: 4700, 成本: 4.18, 结果: True
2025-05-19 23:05:24,993 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19651.89, 余额: 980348.11
2025-05-19 23:05:25,461 - qmt_trading.trading_executor - INFO - [模拟] 买入 600383.SH 成功，委托号: SIM202505192305180001, 价格: 4.18, 数量: 4700
2025-05-19 23:05:25,545 - qmt_trading.strategy - INFO - 手动买入 600383.SH 成功，委托号: SIM202505192305180001
2025-05-19 23:05:26,387 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 23:05:34,814 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980348.1062
2025-05-19 23:43:47,351 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-19 23:43:47,367 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-19 23:43:49,546 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-19 23:43:49,564 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-19 23:43:49,592 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-19 23:43:49,608 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-19 23:43:49,634 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-19 23:43:49,639 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-19 23:43:49,641 - qmt_trading.data_manager - INFO - 成功验证 5 只股票可获取数据
2025-05-19 23:43:49,817 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 23:43:49,850 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 23:43:49,853 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-19 23:43:49,854 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-19 23:43:49,854 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-19 23:43:49,873 - qmt_trading.main - INFO - ==================================================
2025-05-19 23:43:49,883 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-19 23:43:49 
2025-05-19 23:43:49,885 - qmt_trading.main - INFO - ==================================================
2025-05-19 23:43:49,887 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-19 23:43:49,887 - qmt_trading.main - INFO - 系统初始化完成
2025-05-19 23:43:49,887 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-19 23:43:49,888 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-19 23:43:51,371 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-19 23:43:52,828 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-19 23:43:54,270 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-19 23:43:55,708 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-19 23:43:57,114 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-19 23:43:57,118 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-19 23:43:57,135 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-19 23:43:57,141 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-19 23:43:57,283 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-19 23:43:57,292 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-19 23:43:57,304 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-19 23:43:57,318 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-19 23:43:58,317 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-19 23:43:58,593 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-19 23:43:58,760 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-19 23:44:02,721 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:08,184 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:12,680 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:13,798 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 23:44:14,433 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-05-19 23:44:14,482 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:15,765 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-19 23:44:17,506 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:19,918 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 23:44:19,930 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:20,010 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-19 23:44:20,050 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:21,917 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:23,052 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:23,516 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:23,710 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:26,531 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:26,853 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:30,132 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:30,193 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:31,566 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:35,889 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:36,890 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:37,714 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:40,167 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:43,635 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:47,531 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:49,790 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:52,419 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 23:44:52,517 - qmt_trading.trading_executor - INFO - 开始买入处理: 601857.SH, volume=None, price=None, amount=20000, price_type=5
2025-05-19 23:44:52,919 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 23:44:52,956 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 23:44:53,111 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:53,722 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 23:44:53,742 - qmt_trading.trading_executor - INFO - 获取到 601857.SH 卖三价: 8.21
2025-05-19 23:44:54,685 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192344540001
2025-05-19 23:44:54,905 - qmt_trading.trading_executor - INFO - 保存交易记录: 601857.SH(中国石油) BUY 价格:8.21 数量:2400 金额:19704.00 策略:simu
2025-05-19 23:44:55,672 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 601857.SH(中国石油), BUY, 价格: 8.21, 数量: 2400, 策略: simu
2025-05-19 23:44:55,916 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=601857.SH, trade_type=BUY, price=8.21, volume=2400
2025-05-19 23:44:56,875 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-19 23:44:59,291 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:44:59,993 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:00,569 - qmt_trading.trading_executor - INFO - 新建持仓成功: 601857.SH(中国石油), 数量: 2400, 成本: 8.21, 结果: True
2025-05-19 23:45:00,617 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19709.91, 余额: 980290.09
2025-05-19 23:45:00,762 - qmt_trading.trading_executor - INFO - [模拟] 买入 601857.SH 成功，委托号: SIM202505192344540001, 价格: 8.21, 数量: 2400
2025-05-19 23:45:01,026 - qmt_trading.strategy - INFO - 手动买入 601857.SH 成功，委托号: SIM202505192344540001
2025-05-19 23:45:02,039 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:03,673 - qmt_trading.position_manager - ERROR - 更新 603883 持仓Error: cannot commit - no transaction is active
2025-05-19 23:45:05,396 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:05,917 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:07,545 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:08,226 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:12,366 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:12,802 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:14,900 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:18,221 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:20,277 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:23,552 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:25,757 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:28,888 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:31,275 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:34,380 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:37,093 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:39,689 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 23:45:39,939 - qmt_trading.trading_executor - INFO - 开始买入处理: 601318.SH, volume=None, price=None, amount=20000, price_type=5
2025-05-19 23:45:40,253 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:40,360 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 23:45:40,972 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 23:45:41,307 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 23:45:41,599 - qmt_trading.trading_executor - INFO - 获取到 601318.SH 卖三价: 53.33
2025-05-19 23:45:41,672 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192345410002
2025-05-19 23:45:43,161 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:45,730 - qmt_trading.trading_executor - INFO - 保存交易记录: 601318.SH(中国平安) BUY 价格:53.33 数量:300 金额:15999.00 策略:simu
2025-05-19 23:45:46,019 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 601318.SH(中国平安), BUY, 价格: 53.33, 数量: 300, 策略: simu
2025-05-19 23:45:46,020 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=601318.SH, trade_type=BUY, price=53.33, volume=300
2025-05-19 23:45:46,241 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:48,478 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980290.0888
2025-05-19 23:45:49,344 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:51,302 - qmt_trading.trading_executor - INFO - 新建持仓成功: 601318.SH(中国平安), 数量: 300, 成本: 53.33, 结果: True
2025-05-19 23:45:51,314 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -16003.80, 余额: 964286.29
2025-05-19 23:45:51,418 - qmt_trading.trading_executor - INFO - [模拟] 买入 601318.SH 成功，委托号: SIM202505192345410002, 价格: 53.33, 数量: 300
2025-05-19 23:45:51,546 - qmt_trading.strategy - INFO - 手动买入 601318.SH 成功，委托号: SIM202505192345410002
2025-05-19 23:45:51,790 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:54,137 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:45:55,292 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:57,251 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:45:58,593 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:45:59,511 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:01,710 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:03,244 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:05,299 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:08,566 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:10,857 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:14,127 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:16,849 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:20,139 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:22,153 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:26,430 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:28,656 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:31,768 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:33,796 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:36,848 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:38,985 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:42,409 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:44,602 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:48,467 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:50,798 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:53,908 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:46:56,044 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:46:56,194 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300766', '300250', '601318', '601857', '600383'] -> ['300766.SZ', '300250.SZ', '601318.SH', '601857.SH', '600383.SH']
2025-05-19 23:46:56,294 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000, price_type=5
2025-05-19 23:46:56,461 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-19 23:46:56,617 - qmt_trading.trading_executor - INFO - 交易时间检查: False
2025-05-19 23:46:57,084 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-19 23:46:57,146 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 15.3
2025-05-19 23:46:57,421 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505192346570003
2025-05-19 23:46:59,514 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ(初灵信息) BUY 价格:15.30 数量:1300 金额:19890.00 策略:simu
2025-05-19 23:46:59,725 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ(初灵信息), BUY, 价格: 15.3, 数量: 1300, 策略: simu
2025-05-19 23:46:59,754 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=15.3, volume=1300
2025-05-19 23:46:59,971 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:02,092 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 964286.2891
2025-05-19 23:47:02,851 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:03,496 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ(初灵信息), 数量: 1300, 成本: 15.3, 结果: True
2025-05-19 23:47:03,587 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19895.97, 余额: 944390.32
2025-05-19 23:47:03,607 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505192346570003, 价格: 15.3, 数量: 1300
2025-05-19 23:47:03,854 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505192346570003
2025-05-19 23:47:05,326 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:06,963 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:07,357 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:09,113 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:10,883 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:12,230 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:12,930 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:16,283 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:18,438 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:22,030 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:24,086 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:27,610 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:29,818 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:32,995 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:35,036 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:38,395 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:40,420 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:43,442 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:45,467 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:47:48,527 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:47:50,204 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 23:47:50,319 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 23:47:50,574 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 23:47:50,793 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 23:47:55,561 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-19 23:48:16,767 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 23:48:17,975 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 23:48:18,155 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-19 23:48:18,157 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-19 23:48:18,836 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:48:21,944 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:48:22,063 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:48:24,494 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:48:25,790 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:48:27,500 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:48:29,514 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:48:33,190 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:48:35,040 - qmt_trading.web_server - INFO - 已清除当天(2025-05-19)的交易记录，共7条
2025-05-19 23:48:35,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:48:35,680 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:48:39,383 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:48:39,442 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-19 23:48:41,411 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 944390.3221000001
2025-05-19 23:48:42,736 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-19 23:48:43,048 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-19 23:48:43,370 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-19 23:48:43,642 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-19 23:48:44,298 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-19 23:48:44,431 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-19 23:49:35,961 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 23:49:36,567 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-19 23:49:37,294 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-22 10:51:14,322 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-22 10:51:14,344 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-22 10:51:18,405 - qmt_trading.data_manager - ERROR - 初始化迅投行情接口出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-22 10:51:21,501 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-22 10:51:21,530 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-22 10:51:21,534 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-22 10:51:21,535 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-22 10:51:21,536 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-22 10:51:21,551 - qmt_trading.main - INFO - ==================================================
2025-05-22 10:51:21,557 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-22 10:51:21 
2025-05-22 10:51:21,557 - qmt_trading.main - INFO - ==================================================
2025-05-22 10:51:21,558 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-22 10:51:21,558 - qmt_trading.main - INFO - 系统初始化完成
2025-05-22 10:51:21,559 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-22 10:51:21,560 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-22 10:51:25,397 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-22 10:51:27,761 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-22 10:51:30,236 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-22 10:51:33,691 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-22 10:51:36,111 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-22 10:51:36,122 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-22 10:51:36,181 - qmt_trading.indicator_calculator - INFO - 成功计算 300250 的技术指标，共 3 条记录
2025-05-22 10:51:36,221 - qmt_trading.indicator_calculator - INFO - 成功计算 300277 的技术指标，共 3 条记录
2025-05-22 10:51:36,254 - qmt_trading.indicator_calculator - INFO - 成功计算 301252 的技术指标，共 3 条记录
2025-05-22 10:51:36,279 - qmt_trading.indicator_calculator - INFO - 成功计算 600571 的技术指标，共 3 条记录
2025-05-22 10:51:36,304 - qmt_trading.indicator_calculator - INFO - 成功计算 603883 的技术指标，共 3 条记录
2025-05-22 10:51:36,305 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-22 10:51:36,305 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-22 10:51:36,320 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-22 10:51:36,320 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-22 10:51:36,324 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-22 10:51:36,326 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-22 10:51:36,330 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-22 10:51:36,342 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-22 10:51:36,343 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-22 10:51:36,344 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-22 10:51:40,353 - qmt_trading.data_manager - ERROR - xtdata: 获取 513100.SH 的最新行情时出错: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
Traceback (most recent call last):
  File "c:\github_repo\miniQMT\data_manager.py", line 575, in get_latest_xtdata
    latest_quote = xt.get_full_tick([stock_code])
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 852, in get_full_tick
    client = get_client()
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 166, in get_client
    __client = connect(ip, port, False)
  File "c:\github_repo\miniQMT\xtquant\xtdata.py", line 124, in connect
    raise Exception("无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启")
Exception: 无法连接xtquant服务，请检查QMT-投研版或QMT-极简版是否开启
2025-05-22 10:51:40,563 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:51:43,625 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-22 10:51:45,130 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-22 10:51:45,133 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-22 10:51:45,157 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600571.SH 的tick行情，返回值: {}
2025-05-22 10:51:45,978 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600571.SH 的tick行情，返回值: {}
2025-05-22 10:51:45,985 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-22 10:51:46,403 - qmt_trading.position_manager - ERROR - 更新所有持仓的最高价时出错: '<' not supported between instances of 'float' and 'NoneType'
2025-05-22 10:51:46,417 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-22 10:51:47,817 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-22 10:51:48,179 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600571.SH 的tick行情，返回值: {}
2025-05-22 10:51:49,507 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-22 10:51:50,865 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-22 10:51:51,423 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-22 10:51:52,224 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-22 10:51:53,963 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300250.SZ 的tick行情，返回值: {}
2025-05-22 10:51:54,952 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 止损价: 从 14.18 到 0.0
2025-05-22 10:51:54,961 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-22 10:51:54,966 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600571.SH 的tick行情，返回值: {}
2025-05-22 10:51:54,968 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-22 10:51:54,969 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-22 10:51:54,970 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-22 10:51:54,971 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-22 10:51:54,972 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300250.SZ 的tick行情，返回值: {}
2025-05-22 10:51:56,071 - qmt_trading.data_manager - WARNING - xtdata:未获取到 600787.SH 的tick行情，返回值: {}
2025-05-22 10:51:56,495 - qmt_trading.data_manager - WARNING - xtdata:未获取到 603883.SH 的tick行情，返回值: {}
2025-05-22 10:51:56,905 - qmt_trading.data_manager - WARNING - xtdata:未获取到 300277.SZ 的tick行情，返回值: {}
2025-05-22 10:51:57,338 - qmt_trading.data_manager - WARNING - xtdata:未获取到 301252.SZ 的tick行情，返回值: {}
2025-05-22 10:51:57,993 - qmt_trading.data_manager - WARNING - xtdata:未获取到 513100.SH 的tick行情，返回值: {}
2025-05-22 10:51:58,872 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.88, 止盈位: 36.45, 最高价: 36.45
2025-05-22 10:51:58,973 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-22 10:51:59,328 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-05-22 10:52:09,820 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:52:14,963 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.86, 止盈位: 36.45, 最高价: 36.45
2025-05-22 10:52:14,964 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-22 10:52:26,282 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:52:28,309 - qmt_trading.position_manager - INFO - 301252 触发动态止盈，当前价格: 34.86, 止盈位: 36.45, 最高价: 36.45
2025-05-22 10:52:28,357 - qmt_trading.position_manager - INFO - 301252 触发止盈信号，类型: FULL $$$$$$$$$$$$$$$$$$$$+++++
2025-05-22 10:52:36,493 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-22 10:52:36,493 - qmt_trading.main - INFO - 开始清理资源...
2025-05-22 10:52:36,496 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-22 10:52:37,193 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-22 10:52:42,718 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-22 10:52:42,737 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-22 10:52:44,859 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-22 10:52:44,867 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-22 10:52:44,897 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-22 10:52:44,954 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-22 10:52:45,043 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-22 10:52:45,131 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-22 10:52:45,138 - qmt_trading.data_manager - INFO - 成功验证 5 只股票可获取数据
2025-05-22 10:52:45,352 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-22 10:52:45,360 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-22 10:52:45,361 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-22 10:52:45,376 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-22 10:52:45,382 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-22 10:52:45,443 - qmt_trading.main - INFO - ==================================================
2025-05-22 10:52:45,542 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-22 10:52:45 
2025-05-22 10:52:45,681 - qmt_trading.main - INFO - ==================================================
2025-05-22 10:52:45,689 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-22 10:52:45,690 - qmt_trading.main - INFO - 系统初始化完成
2025-05-22 10:52:45,691 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-22 10:52:45,691 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-22 10:52:47,140 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-22 10:52:48,575 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-22 10:52:50,036 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-22 10:52:51,533 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-22 10:52:53,504 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-22 10:52:53,530 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-22 10:52:53,548 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-22 10:52:53,574 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-22 10:52:53,693 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-22 10:52:53,693 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-22 10:52:53,699 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-22 10:52:53,863 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-22 10:52:53,869 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-22 10:52:53,911 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-22 10:52:54,231 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-22 10:52:54,459 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-22 10:52:57,150 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-22 10:52:57,537 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 止损价: 从 12.07 到 11.35
2025-05-22 10:52:58,968 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-22 10:52:59,566 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:52:59,927 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:01,104 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:53:04,798 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:05,913 - qmt_trading.position_manager - INFO - 300277 触发初次止盈，当前盈利: 6.39%, 初次止盈阈值: 5.00%
2025-05-22 10:53:05,913 - qmt_trading.position_manager - INFO - 300277 触发止盈信号，类型: HALF $$$$$$$$$$$$$$$$$$$$+++++
2025-05-22 10:53:05,919 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 首次止盈触发: 从 0 到 True
2025-05-22 10:53:08,486 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:10,688 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-22 10:53:11,617 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:14,802 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:16,296 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:53:18,118 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:18,478 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:53:18,479 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:53:18,479 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:53:21,489 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:24,652 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:28,108 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:28,998 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:53:31,669 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:33,240 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.98, 止损价格: 13.17
2025-05-22 10:53:33,241 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.98, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:53:33,241 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:53:34,975 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:39,371 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:40,598 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:42,849 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:42,867 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:43,581 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:53:44,890 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:46,894 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:47,107 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:47,242 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:53:47,256 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:53:47,261 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:53:49,231 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:50,681 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:51,249 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:53,252 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:54,219 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:55,255 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:57,260 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:53:57,312 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:57,445 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:53:57,657 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:53:58,911 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:53:59,345 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:01,230 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:01,361 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:02,689 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:54:03,237 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:54:03,238 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:54:03,239 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:54:03,366 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:05,387 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:05,441 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:07,451 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:09,171 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:09,454 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:11,458 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:12,384 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:12,719 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-22 10:54:13,455 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:54:13,476 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:15,485 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:15,535 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:15,618 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:17,547 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:17,672 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.98, 止损价格: 13.17
2025-05-22 10:54:17,673 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.98, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:54:17,674 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:54:18,800 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:19,551 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:21,602 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:22,131 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:23,606 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:25,577 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:25,666 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:27,720 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:27,764 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-22 10:54:28,023 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:54:28,835 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:29,723 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:30,145 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:54:30,146 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:54:30,146 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:54:31,726 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:31,772 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:33,794 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:35,211 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:35,810 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:37,814 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:38,680 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:39,817 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:41,708 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:54:41,821 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:41,866 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:43,392 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:54:43,906 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:44,086 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:54:44,087 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:54:44,091 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:54:45,910 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:45,965 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:54:47,977 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:54:49,566 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-22 10:54:49,572 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-22 10:54:49,573 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-22 10:54:49,574 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-22 10:54:49,869 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 止损价: 从 12.07 到 11.35
2025-05-22 10:54:49,887 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-22 10:54:49,889 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-22 10:54:50,400 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-22 10:54:57,367 - qmt_trading.position_manager - INFO - 300277 触发初次止盈，当前盈利: 6.56%, 初次止盈阈值: 5.00%
2025-05-22 10:54:57,372 - qmt_trading.position_manager - INFO - 300277 触发止盈信号，类型: HALF $$$$$$$$$$$$$$$$$$$$+++++
2025-05-22 10:54:57,535 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 首次止盈触发: 从 0 到 True
2025-05-22 10:55:00,492 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-22 10:55:00,734 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-22 10:55:09,149 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:55:09,150 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:55:09,151 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:55:22,612 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:55:22,613 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:55:22,613 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:55:27,957 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-22 10:55:28,117 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-22 10:55:28,119 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-22 10:55:28,960 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-22 10:55:36,460 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-22 10:55:37,243 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:55:37,271 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:55:37,272 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:55:40,677 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-22 10:55:40,680 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0, price_type=5
2025-05-22 10:55:40,729 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-22 10:55:40,790 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-22 10:55:40,896 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-22 10:55:41,028 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 15
2025-05-22 10:55:41,054 - qmt_trading.trading_executor - INFO - 买入 300250.SZ 下单成功，委托号: 275235475, 价格: 15, 数量: 100, 价格类型: 5
2025-05-22 10:55:41,054 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 275235475
2025-05-22 10:55:45,376 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 止损价: 从 14.18 到 14.1
2025-05-22 10:55:46,347 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-22 10:55:51,554 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:55:51,554 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:55:51,555 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:56:03,802 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:56:03,806 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:56:03,807 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:56:17,421 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:56:17,421 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:56:17,422 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:56:29,020 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:56:29,021 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:56:29,021 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:56:36,617 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-22 10:56:41,238 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:56:41,244 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:56:41,302 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:56:44,083 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-22 10:56:53,651 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:56:53,652 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:56:53,652 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:57:05,359 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:57:05,359 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:57:05,360 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:57:11,862 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-22 10:57:11,868 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-22 10:57:11,871 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-22 10:57:11,937 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-22 10:57:13,039 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:13,852 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:14,398 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:15,889 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:15,960 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:57:17,892 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:17,990 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:18,059 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:18,274 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:57:18,277 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:57:18,277 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:18,279 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:57:19,055 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:20,183 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:21,489 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:22,186 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:24,192 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:24,644 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:25,038 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:26,268 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:27,805 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:28,279 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:28,647 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:57:30,406 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:31,090 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:31,714 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:32,011 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:32,011 - qmt_trading.position_manager - ERROR - 更新 603883 持仓Error: cannot commit - no transaction is active
2025-05-22 10:57:32,155 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:32,247 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:57:32,249 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:57:32,250 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:57:32,622 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:34,631 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:35,669 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:36,635 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:37,590 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:38,640 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-22 10:57:39,115 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300250'] -> ['300250.SZ']
2025-05-22 10:57:39,123 - qmt_trading.position_manager - ERROR - 更新 603883 持仓Error: not an error
2025-05-22 10:57:39,132 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=2000.0, price_type=5
2025-05-22 10:57:39,140 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:39,142 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-22 10:57:39,153 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-22 10:57:39,154 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:39,208 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-22 10:57:39,283 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 14.97
2025-05-22 10:57:39,434 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505221057390001
2025-05-22 10:57:39,905 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ(初灵信息) BUY 价格:14.97 数量:100 金额:1497.00 策略:simu
2025-05-22 10:57:39,916 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ(初灵信息), BUY, 价格: 14.97, 数量: 100, 策略: simu
2025-05-22 10:57:39,916 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=14.97, volume=100
2025-05-22 10:57:39,937 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ(初灵信息), 数量: 100, 成本: 14.97, 结果: True
2025-05-22 10:57:39,938 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -1497.45, 余额: 998502.55
2025-05-22 10:57:39,939 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505221057390001, 价格: 14.97, 数量: 100
2025-05-22 10:57:39,939 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505221057390001
2025-05-22 10:57:41,421 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:42,305 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:42,750 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:57:43,491 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:44,326 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:44,899 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-22 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:57:44,902 - qmt_trading.position_manager - INFO - 更新 300250.SZ 持仓: 最高价: 从 14.95 到 15.25
2025-05-22 10:57:44,903 - qmt_trading.position_manager - INFO - 更新 300250.SZ 的最高价为 15.25
2025-05-22 10:57:44,928 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-22 10:57:45,029 - qmt_trading.strategy - WARNING - 300250.SZ 持仓量不足，无法创建有效的网格交易
2025-05-22 10:57:45,031 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:57:45,052 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:57:45,082 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:57:45,500 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:45,641 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:47,653 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:49,680 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:49,866 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:50,322 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:51,894 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:53,376 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:53,666 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-22 10:57:53,908 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:55,644 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:57:55,926 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:56,322 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:56,500 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:57:57,955 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:57:59,959 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:00,089 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:01,242 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-22 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:58:01,364 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:58:01,365 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:58:01,365 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:58:02,123 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:02,670 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:03,609 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:04,135 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:06,138 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:07,148 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:08,144 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:09,824 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:10,146 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:10,242 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:11,605 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:58:12,260 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:13,436 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:13,817 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-22 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:58:13,896 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:58:13,897 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:58:13,897 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:58:14,265 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:14,980 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:16,269 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:16,624 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:18,279 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:19,808 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:20,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:20,979 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:22,338 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:22,965 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:24,140 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:58:24,359 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:26,081 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:26,363 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:26,595 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-22 10:58:27,408 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-22 10:58:27,558 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:27,971 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-22 到 2025-05-22 的历史数据，跳过更新最高价
2025-05-22 10:58:28,147 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:58:28,148 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:58:28,149 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:58:28,498 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:29,377 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-22 10:58:30,519 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998502.5509
2025-05-22 10:58:30,522 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-22 10:58:30,532 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-22 10:58:30,547 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-22 10:58:30,554 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-22 10:58:32,587 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-22 10:58:32,596 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-22 10:58:34,018 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-22 10:58:35,206 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-22 10:58:39,892 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.99, 止损价格: 13.17
2025-05-22 10:58:39,892 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.99, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:58:39,893 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:58:51,557 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:58:51,559 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:58:51,559 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:58:54,785 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-22 10:59:02,503 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-22 10:59:04,009 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-22 10:59:04,010 - qmt_trading.main - INFO - 开始清理资源...
2025-05-22 10:59:04,012 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-22 10:59:04,659 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 13.00, 止损价格: 13.17
2025-05-22 10:59:04,660 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 13.00, 止盈位: 13.17, 最高价: 13.86
2025-05-22 10:59:04,660 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-22 10:59:04,737 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-22 10:59:04,739 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:01:15,334 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-23 10:01:15,350 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-23 10:01:17,458 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-23 10:01:17,465 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-23 10:01:17,529 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-23 10:01:17,584 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-23 10:01:17,643 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-23 10:01:17,682 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-23 10:01:17,685 - qmt_trading.data_manager - INFO - 成功验证 5 只股票可获取数据
2025-05-23 10:01:17,856 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:01:17,946 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:01:17,947 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-23 10:01:17,949 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-23 10:01:17,953 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-23 10:01:17,993 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:01:18,011 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-23 10:01:18 
2025-05-23 10:01:18,059 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:01:18,060 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-23 10:01:18,061 - qmt_trading.main - INFO - 系统初始化完成
2025-05-23 10:01:18,064 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-23 10:01:18,065 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-23 10:01:19,616 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-23 10:01:21,087 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-23 10:01:22,523 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-23 10:01:24,938 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-23 10:01:26,354 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-23 10:01:26,354 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-23 10:01:26,410 - qmt_trading.indicator_calculator - INFO - 成功计算 300250 的技术指标，共 1 条记录
2025-05-23 10:01:26,440 - qmt_trading.indicator_calculator - INFO - 成功计算 300277 的技术指标，共 1 条记录
2025-05-23 10:01:26,469 - qmt_trading.indicator_calculator - INFO - 成功计算 301252 的技术指标，共 1 条记录
2025-05-23 10:01:26,517 - qmt_trading.indicator_calculator - INFO - 成功计算 600571 的技术指标，共 1 条记录
2025-05-23 10:01:26,553 - qmt_trading.indicator_calculator - INFO - 成功计算 603883 的技术指标，共 1 条记录
2025-05-23 10:01:26,555 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-23 10:01:26,556 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-23 10:01:26,569 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:01:26,569 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-23 10:01:26,580 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-23 10:01:26,609 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-23 10:01:26,611 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-23 10:01:26,621 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-23 10:01:26,681 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-23 10:01:26,716 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-23 10:01:27,350 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-23 10:01:29,813 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 止损价: 从 13.17 到 12.89
2025-05-23 10:01:30,199 - qmt_trading.position_manager - INFO - 更新 301252 持仓: 止损价: 从 34.63 到 33.9
2025-05-23 10:01:30,202 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:30,204 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-23 10:01:30,208 - qmt_trading.position_manager - INFO - 更新 stock_pool.json with new positions.
2025-05-23 10:01:30,208 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:30,449 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:30,686 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:31,565 - qmt_trading.position_manager - WARNING - 未能获取 603883 从 2025-05-06 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:32,807 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:32,820 - qmt_trading.position_manager - INFO - 更新 601606 持仓: 最高价: 从 13.74 到 13.97
2025-05-23 10:01:32,820 - qmt_trading.position_manager - INFO - 更新 601606 的最高价为 13.97
2025-05-23 10:01:32,937 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:33,068 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.84, 止损价格: 12.89
2025-05-23 10:01:33,075 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.84, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:01:33,082 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:01:34,126 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:01:37,620 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:40,726 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:43,539 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:43,955 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:45,579 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:45,599 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.85, 止损价格: 12.89
2025-05-23 10:01:45,600 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.85, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:01:45,601 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:01:47,592 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:51,374 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:55,612 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:55,928 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:56,151 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:59,185 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:01:59,185 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:59,557 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:01:59,631 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.84, 止损价格: 12.89
2025-05-23 10:01:59,632 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.84, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:01:59,633 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:02:03,151 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:02:07,464 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:02:10,401 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:02:10,402 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:02:10,537 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:02:10,668 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:02:13,226 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:02:13,311 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.82, 止损价格: 12.89
2025-05-23 10:02:13,313 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.82, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:02:13,314 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:02:13,649 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:02:13,716 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:02:15,737 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:02:17,606 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:02:17,753 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:02:19,777 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:02:20,847 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:02:21,781 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:02:23,313 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:02:23,320 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:02:23,320 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-23 10:02:23,321 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-23 10:02:23,601 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:02:24,061 - qmt_trading.position_manager - INFO - 更新 300277 持仓: 止损价: 从 13.17 到 12.89
2025-05-23 10:02:24,075 - qmt_trading.position_manager - INFO - 更新 301252 持仓: 止损价: 从 34.63 到 33.9
2025-05-23 10:02:24,115 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-23 10:02:24,128 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-23 10:02:24,755 - qmt_trading.position_manager - INFO - 更新内存数据库的 300277 到sql数据库
2025-05-23 10:02:24,756 - qmt_trading.position_manager - INFO - 更新内存数据库的 301252 到sql数据库
2025-05-23 10:02:24,757 - qmt_trading.position_manager - WARNING - 在数据库中未找到 601606 的记录
2025-05-23 10:02:24,757 - qmt_trading.position_manager - INFO - 在数据库中插入新的 601606 记录，使用当前日期 2025-05-23 10:02:24 作为 open_date
2025-05-23 10:02:26,522 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:02:26,624 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.82, 止损价格: 12.89
2025-05-23 10:02:26,625 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.82, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:02:26,626 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:02:27,321 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-23 10:02:29,783 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:02:35,017 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:02:36,030 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:02:38,548 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:02:38,566 - qmt_trading.position_manager - INFO - 更新 601606 持仓: 最高价: 从 13.72 到 13.97
2025-05-23 10:02:38,568 - qmt_trading.position_manager - INFO - 更新 601606 的最高价为 13.97
2025-05-23 10:02:38,716 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.82, 止损价格: 12.89
2025-05-23 10:02:38,716 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.82, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:02:38,717 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:02:40,065 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:02:43,318 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:02:45,090 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:02:50,156 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:02:50,641 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:02:50,713 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.83, 止损价格: 12.89
2025-05-23 10:02:50,714 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.83, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:02:50,714 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:02:55,319 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:00,337 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:02,407 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:03:02,509 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.83, 止损价格: 12.89
2025-05-23 10:03:02,510 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.83, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:03:02,524 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:03:05,355 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:07,338 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-23 10:03:07,471 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-23 10:03:07,474 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-23 10:03:10,386 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:15,026 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:03:15,064 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.82, 止损价格: 12.89
2025-05-23 10:03:15,065 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.82, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:03:15,066 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:03:15,414 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:20,493 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:22,071 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-23 10:03:22,074 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0, price_type=5
2025-05-23 10:03:22,122 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-23 10:03:22,148 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-23 10:03:22,174 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-23 10:03:22,206 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 14.7
2025-05-23 10:03:22,396 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250(初灵信息) BUY 价格:14.70 数量:100 金额:1470.00 策略:default
2025-05-23 10:03:22,443 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250(初灵信息), BUY, 价格: 14.7, 数量: 100, 策略: default
2025-05-23 10:03:22,512 - qmt_trading.trading_executor - INFO - 实盘买入订单已下达并记录: 300250, 订单号: 447333794
2025-05-23 10:03:22,527 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 447333794
2025-05-23 10:03:24,703 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 止损价: 从 14.1 到 13.99
2025-05-23 10:03:25,572 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-23 10:03:25,861 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:27,014 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:03:27,103 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.83, 止损价格: 12.89
2025-05-23 10:03:27,111 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.83, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:03:27,113 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:03:31,153 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:36,201 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:38,816 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:03:38,897 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.83, 止损价格: 12.89
2025-05-23 10:03:38,906 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.83, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:03:38,908 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:03:41,221 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:43,921 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:03:46,236 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:50,619 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:03:50,636 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.82, 止损价格: 12.89
2025-05-23 10:03:50,636 - qmt_trading.position_manager - INFO - 300277 触发动态止盈，当前价格: 12.82, 止盈位: 12.89, 最高价: 13.86
2025-05-23 10:03:50,637 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:03:51,255 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:52,192 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:03:56,290 - qmt_trading.position_manager - INFO - 更新内存数据库的 601606 到sql数据库
2025-05-23 10:03:57,637 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:03:57,638 - qmt_trading.main - INFO - 开始清理资源...
2025-05-23 10:03:57,641 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-23 10:03:58,252 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:33:14,983 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-23 10:33:15,349 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-23 10:33:17,562 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-23 10:33:17,565 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-23 10:33:17,569 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-23 10:33:17,577 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-23 10:33:17,585 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-23 10:33:17,598 - qmt_trading.data_manager - INFO - 股票 601606.SH 数据获取成功
2025-05-23 10:33:17,633 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-23 10:33:17,634 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-23 10:33:17,825 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:33:17,899 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:33:18,548 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-23 10:33:18,598 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-23 10:33:18,601 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-23 10:33:18,629 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:33:18,674 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-23 10:33:18 
2025-05-23 10:33:18,733 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:33:18,739 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-23 10:33:18,774 - qmt_trading.main - INFO - 系统初始化完成
2025-05-23 10:33:18,944 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-23 10:33:18,990 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-23 10:33:20,580 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-23 10:33:22,006 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-23 10:33:23,405 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-23 10:33:24,865 - qmt_trading.main - INFO - 下载 601606 的历史数据
2025-05-23 10:33:27,468 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-23 10:33:28,924 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-23 10:33:28,925 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-23 10:33:28,981 - qmt_trading.indicator_calculator - INFO - 成功计算 601606 的技术指标，共 60 条记录
2025-05-23 10:33:28,985 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-23 10:33:28,986 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-23 10:33:28,987 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:33:28,988 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-23 10:33:28,990 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-23 10:33:28,994 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-23 10:33:28,995 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-23 10:33:29,012 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-23 10:33:29,022 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-23 10:33:29,083 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-23 10:33:31,656 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:31,790 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-05-23 10:33:32,763 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:33,765 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:33,920 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:34,117 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:34,190 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:33:34,363 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:34,365 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:33:35,238 - qmt_trading.position_manager - WARNING - 未能获取 603883 从 2025-05-06 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:33:36,280 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:36,337 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:33:36,451 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:37,602 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:37,678 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:37,689 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:38,540 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:40,431 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:41,229 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:33:41,793 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:42,052 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:42,115 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:43,749 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:45,365 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:33:45,753 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:47,757 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:33:48,103 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:33:48,109 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:33:48,110 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-23 10:33:48,119 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-23 10:33:48,615 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-23 10:33:48,670 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-23 10:33:48,755 - qmt_trading.position_manager - WARNING - 未找到 600787 的持仓记录，无需删除
2025-05-23 10:33:48,767 - qmt_trading.position_manager - WARNING - 未找到 513100 的持仓记录，无需删除
2025-05-23 10:33:50,554 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:33:51,708 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-23 10:33:51,878 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-23 10:33:51,886 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-23 10:33:54,571 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-23 10:34:02,525 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:34:14,380 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:34:25,581 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-23 10:34:25,591 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0, price_type=5
2025-05-23 10:34:25,592 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-23 10:34:25,593 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-23 10:34:25,594 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-23 10:34:25,599 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 14.89
2025-05-23 10:34:25,962 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250(初灵信息) BUY 价格:14.89 数量:100 金额:1489.00 策略:manual
2025-05-23 10:34:26,041 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250(初灵信息), BUY, 价格: 14.89, 数量: 100, 策略: manual
2025-05-23 10:34:26,089 - qmt_trading.trading_executor - INFO - 实盘买入订单已下达并记录: 300250, 订单号: 265359749, 策略: manual
2025-05-23 10:34:26,145 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 265359749
2025-05-23 10:34:26,595 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:34:38,879 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:34:42,402 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:34:50,643 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:34:52,262 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:34:55,862 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 止损价: 从 13.99 到 13.96
2025-05-23 10:35:00,742 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-23 10:35:02,382 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:02,401 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.89, 止损价格: 12.89
2025-05-23 10:35:02,402 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:35:14,113 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:14,157 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.89, 止损价格: 12.89
2025-05-23 10:35:14,162 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:35:25,604 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:35:25,612 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:35:25,613 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-23 10:35:25,616 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-23 10:35:25,805 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:25,872 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.89, 止损价格: 12.89
2025-05-23 10:35:25,873 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:35:26,460 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:27,022 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:27,449 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:28,466 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:30,437 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:30,586 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:32,656 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:33,571 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:34,108 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:34,281 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:34,660 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:36,316 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:36,666 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:37,488 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:38,795 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:38,863 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.89, 止损价格: 12.89
2025-05-23 10:35:38,863 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:38,864 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:35:40,624 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:40,749 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:40,875 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:35:42,201 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300250'] -> ['300250.SZ']
2025-05-23 10:35:42,205 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=2000.0, price_type=5
2025-05-23 10:35:42,255 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-23 10:35:42,261 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-23 10:35:42,263 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-23 10:35:42,279 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 14.89
2025-05-23 10:35:42,280 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505231035420001
2025-05-23 10:35:42,308 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ(初灵信息) BUY 价格:14.89 数量:100 金额:1489.00 策略:manual
2025-05-23 10:35:42,369 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ(初灵信息), BUY, 价格: 14.89, 数量: 100, 策略: manual
2025-05-23 10:35:42,371 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=14.89, volume=100
2025-05-23 10:35:42,376 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ(初灵信息), 数量: 100, 成本: 14.89, 结果: True
2025-05-23 10:35:42,382 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -1489.45, 余额: 998510.55
2025-05-23 10:35:42,389 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505231035420001, 价格: 14.89, 数量: 100
2025-05-23 10:35:42,392 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505231035420001
2025-05-23 10:35:42,901 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:43,929 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:44,904 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:46,696 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:46,907 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:47,175 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:47,313 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:47,432 - qmt_trading.strategy - WARNING - 300250.SZ 持仓量不足，无法创建有效的网格交易
2025-05-23 10:35:49,076 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:49,386 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:50,654 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:51,226 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:51,444 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:35:51,446 - qmt_trading.position_manager - INFO - 更新 300250.SZ 持仓: 最高价: 从 14.86 到 14.93
2025-05-23 10:35:51,447 - qmt_trading.position_manager - INFO - 更新 300250.SZ 的最高价为 14.93
2025-05-23 10:35:51,473 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:51,509 - qmt_trading.position_manager - WARNING - 300277 触发止损条件，当前价格:: 12.89, 止损价格: 12.89
2025-05-23 10:35:51,512 - qmt_trading.position_manager - WARNING - 300277 触发清仓信号 $$$$$$$$$$$$$$$$$$$$--------------
2025-05-23 10:35:51,516 - qmt_trading.position_manager - INFO - 更新 300250.SZ 持仓: 最高价: 从 14.93 到 14.87
2025-05-23 10:35:52,656 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:35:52,914 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:53,532 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:53,875 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:55,567 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:57,080 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:35:57,573 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:58,924 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:35:59,582 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:00,321 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:01,435 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:36:01,590 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:01,723 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:03,477 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:03,607 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:04,146 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:04,213 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:04,294 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:04,313 - qmt_trading.position_manager - INFO - 更新 300250.SZ 持仓: 最高价: 从 14.87 到 14.93
2025-05-23 10:36:04,313 - qmt_trading.position_manager - INFO - 更新 300250.SZ 的最高价为 14.93
2025-05-23 10:36:05,620 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:06,687 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:07,625 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:09,628 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:09,732 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:10,166 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:11,741 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:12,905 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:13,747 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:14,932 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:15,750 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:16,061 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:16,206 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:17,112 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:17,258 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:17,755 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:19,243 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:19,772 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:21,779 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:22,170 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:22,431 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:23,782 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:25,788 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:25,885 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:27,579 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:27,898 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:28,167 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:29,140 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:29,506 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:29,662 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:29,924 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:31,927 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:32,280 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:33,930 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:34,168 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:35,466 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:35,933 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:37,937 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:38,642 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:39,941 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:39,950 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:40,173 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:41,801 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:42,259 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:42,345 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:42,533 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:44,349 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:45,534 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:45,886 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:46,361 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:48,368 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:48,720 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:50,372 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:51,839 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:36:52,379 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998510.5533
2025-05-23 10:36:52,860 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:36:53,485 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:36:53,486 - qmt_trading.main - INFO - 开始清理资源...
2025-05-23 10:36:53,488 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-23 10:36:54,368 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:39:38,653 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-23 10:39:38,722 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-23 10:39:40,859 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-23 10:39:40,895 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-23 10:39:40,972 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-23 10:39:41,006 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-23 10:39:41,062 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-23 10:39:41,120 - qmt_trading.data_manager - INFO - 股票 601606.SH 数据获取成功
2025-05-23 10:39:41,193 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-23 10:39:41,194 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-23 10:39:41,457 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:39:41,499 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:39:41,501 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-23 10:39:41,511 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-23 10:39:41,512 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-23 10:39:41,529 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:39:41,531 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-23 10:39:41 
2025-05-23 10:39:41,532 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:39:41,533 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-23 10:39:41,534 - qmt_trading.main - INFO - 系统初始化完成
2025-05-23 10:39:41,535 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-23 10:39:41,535 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-23 10:39:43,171 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-23 10:39:44,607 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-23 10:39:46,086 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-23 10:39:47,538 - qmt_trading.main - INFO - 下载 601606 的历史数据
2025-05-23 10:39:48,989 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-23 10:39:50,428 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-23 10:39:50,508 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-23 10:39:50,566 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-23 10:39:50,627 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-23 10:39:50,634 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:39:50,634 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-23 10:39:50,648 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-23 10:39:50,667 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-23 10:39:50,678 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-23 10:39:50,698 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-23 10:39:50,722 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-23 10:39:50,745 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-23 10:39:53,391 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:39:53,933 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:39:53,987 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:39:54,077 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:39:54,078 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:39:55,519 - qmt_trading.position_manager - WARNING - 未能获取 603883 从 2025-05-06 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:39:55,787 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:39:55,872 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:39:56,054 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:39:56,458 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:39:56,955 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:39:57,938 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:39:59,395 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:39:59,450 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:39:59,675 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:40:00,007 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:01,462 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:03,465 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:03,532 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:04,394 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:05,561 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:06,397 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:06,723 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:07,465 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:07,478 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:07,968 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:08,328 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:08,407 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:08,489 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:10,642 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:11,216 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:11,217 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:11,540 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:12,030 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:13,120 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:14,627 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:15,126 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:17,131 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:17,813 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:19,134 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:20,996 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:21,209 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:22,284 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:23,290 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:23,821 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-23 10:40:23,979 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:24,232 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:24,297 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:25,338 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:27,342 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:27,430 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:29,440 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:29,847 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:30,915 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:31,443 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:33,446 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:34,169 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:34,930 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:35,380 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:35,762 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:37,162 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:37,230 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:37,806 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:40:39,169 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300250'] -> ['300250.SZ']
2025-05-23 10:40:39,177 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=20000, price_type=5
2025-05-23 10:40:39,177 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-23 10:40:39,178 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-23 10:40:39,179 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-23 10:40:39,198 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 14.91
2025-05-23 10:40:39,199 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505231040390001
2025-05-23 10:40:39,200 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ(初灵信息) BUY 价格:14.91 数量:1300 金额:19383.00 策略:manual
2025-05-23 10:40:39,215 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ(初灵信息), BUY, 价格: 14.91, 数量: 1300, 策略: manual
2025-05-23 10:40:39,216 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=14.91, volume=1300
2025-05-23 10:40:39,245 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ(初灵信息), 数量: 1300, 成本: 14.91, 结果: True
2025-05-23 10:40:39,247 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -19388.81, 余额: 980611.19
2025-05-23 10:40:39,248 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505231040390001, 价格: 14.91, 数量: 1300
2025-05-23 10:40:39,249 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505231040390001
2025-05-23 10:40:39,810 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:40,470 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:41,367 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:41,813 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:43,638 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:43,824 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:44,258 - qmt_trading.strategy - WARNING - 300250.SZ 持仓量不足，无法创建有效的网格交易
2025-05-23 10:40:45,828 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:46,804 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:47,474 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:47,715 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:48,340 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:50,006 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:50,356 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:50,717 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:50,858 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:40:50,870 - qmt_trading.position_manager - INFO - 更新 300250.SZ 持仓: 最高价: 从 14.89 到 14.93
2025-05-23 10:40:50,871 - qmt_trading.position_manager - INFO - 更新 300250.SZ 的最高价为 14.93
2025-05-23 10:40:52,367 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:53,237 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:54,371 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:54,652 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:56,377 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:40:56,401 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:58,445 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:40:59,569 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:41:00,449 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:41:00,655 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:41:01,372 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:41:01,467 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:41:02,452 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:41:02,693 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:41:03,961 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:41:04,258 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:41:04,727 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:41:05,849 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:41:06,777 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:41:08,181 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:41:08,839 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 980611.1851
2025-05-23 10:41:09,639 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:41:09,809 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:41:10,375 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:41:10,377 - qmt_trading.main - INFO - 开始清理资源...
2025-05-23 10:41:10,378 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-23 10:41:10,640 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:41:10,642 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:48:29,873 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-05-23 10:48:29,901 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-05-23 10:48:32,035 - qmt_trading.data_manager - INFO - 行情服务连接成功
2025-05-23 10:48:32,038 - qmt_trading.data_manager - INFO - 股票 300250.SZ 数据获取成功
2025-05-23 10:48:32,046 - qmt_trading.data_manager - INFO - 股票 300277.SZ 数据获取成功
2025-05-23 10:48:32,050 - qmt_trading.data_manager - INFO - 股票 301252.SZ 数据获取成功
2025-05-23 10:48:32,065 - qmt_trading.data_manager - INFO - 股票 600571.SH 数据获取成功
2025-05-23 10:48:32,338 - qmt_trading.data_manager - INFO - 股票 601606.SH 数据获取成功
2025-05-23 10:48:32,492 - qmt_trading.data_manager - INFO - 股票 603883.SH 数据获取成功
2025-05-23 10:48:32,506 - qmt_trading.data_manager - INFO - 成功验证 6 只股票可获取数据
2025-05-23 10:48:32,642 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:48:32,705 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:48:32,705 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-05-23 10:48:32,708 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-05-23 10:48:32,710 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-05-23 10:48:32,729 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:48:32,739 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-05-23 10:48:32 
2025-05-23 10:48:32,740 - qmt_trading.main - INFO - ==================================================
2025-05-23 10:48:32,744 - qmt_trading.main - INFO - 开始初始化系统...
2025-05-23 10:48:32,765 - qmt_trading.main - INFO - 系统初始化完成
2025-05-23 10:48:32,808 - qmt_trading.main - INFO - 开始下载初始数据...
2025-05-23 10:48:32,850 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-05-23 10:48:34,409 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-05-23 10:48:35,856 - qmt_trading.main - INFO - 下载 301252 的历史数据
2025-05-23 10:48:37,357 - qmt_trading.main - INFO - 下载 600571 的历史数据
2025-05-23 10:48:38,848 - qmt_trading.main - INFO - 下载 601606 的历史数据
2025-05-23 10:48:40,267 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-05-23 10:48:41,741 - qmt_trading.main - INFO - 初始数据下载完成
2025-05-23 10:48:41,768 - qmt_trading.main - INFO - 开始计算初始指标...
2025-05-23 10:48:41,798 - qmt_trading.main - INFO - 初始指标计算完成
2025-05-23 10:48:41,804 - qmt_trading.main - INFO - 启动数据更新线程
2025-05-23 10:48:41,843 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:48:41,844 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-05-23 10:48:41,862 - qmt_trading.main - INFO - 启动持仓监控线程
2025-05-23 10:48:41,899 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-05-23 10:48:41,980 - qmt_trading.main - INFO - 启动日志清理线程
2025-05-23 10:48:42,047 - qmt_trading.main - INFO - 启动Web服务器线程
2025-05-23 10:48:42,088 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-05-23 10:48:42,146 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-05-23 10:48:42,626 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-23 10:48:42,763 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:44,429 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:45,272 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:45,302 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-05-23 10:48:45,304 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:45,307 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:45,805 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:46,496 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:48:46,591 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:47,621 - qmt_trading.position_manager - WARNING - 未能获取 600571 从 2025-04-26 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:48:47,627 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:48,079 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:48,997 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:50,244 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:50,245 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:50,936 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:52,007 - qmt_trading.position_manager - WARNING - 未能获取 301252 从 2025-04-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:48:52,733 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:52,956 - qmt_trading.position_manager - WARNING - 未能获取 300250 从 2025-05-19 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:48:53,171 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:53,247 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:53,328 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:53,400 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:48:54,148 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:48:54,801 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:56,434 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:48:56,807 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:58,810 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:48:59,628 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:49:00,823 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:49:02,815 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:49:02,898 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:49:03,670 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:49:04,081 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:49:04,090 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:49:04,094 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-05-23 10:49:04,169 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-05-23 10:49:06,007 - qmt_trading.position_manager - INFO - 已删除 513100 的持仓记录
2025-05-23 10:49:06,008 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-05-23 10:49:06,421 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:49:11,035 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-23 10:49:18,093 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:49:30,126 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:49:31,335 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-23 10:49:42,603 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:49:54,323 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:49:54,640 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:49:59,734 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000}
2025-05-23 10:49:59,846 - qmt_trading.web_server - INFO - 自动交易状态变更: False -> False (通过保存配置)
2025-05-23 10:49:59,892 - qmt_trading.web_server - INFO - 配置已更新: {'singleBuyAmount': 2000, 'firstProfitSell': 5, 'firstProfitSellEnabled': True, 'stockGainSellPencent': 50, 'firstProfitSellPencent': True, 'allowBuy': True, 'allowSell': True, 'stopLossBuy': 6.999999999999995, 'stopLossBuyEnabled': True, 'stockStopLoss': 7.000000000000001, 'StopLossEnabled': True, 'singleStockMaxPosition': 50000, 'totalMaxPosition': 950000, 'connectPort': '5000', 'totalAccounts': '127.0.0.1', 'globalAllowBuySell': False, 'simulationMode': False}
2025-05-23 10:50:04,367 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:50:05,934 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:50:18,000 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:50:19,655 - qmt_trading.web_server - INFO - 交易模式: 实盘, 股票代码格式化: ['300250'] -> ['300250']
2025-05-23 10:50:19,656 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250, volume=None, price=None, amount=2000.0, price_type=5
2025-05-23 10:50:19,656 - qmt_trading.trading_executor - INFO - 股票代码格式化: 300250 -> 300250.SZ
2025-05-23 10:50:19,657 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: False
2025-05-23 10:50:19,658 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-23 10:50:19,660 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 14.95
2025-05-23 10:50:19,998 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250(初灵信息) BUY 价格:14.95 数量:100 金额:1495.00 策略:manual
2025-05-23 10:50:20,016 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250(初灵信息), BUY, 价格: 14.95, 数量: 100, 策略: manual
2025-05-23 10:50:20,025 - qmt_trading.trading_executor - INFO - 实盘买入订单已下达并记录: 300250, 订单号: 464762929, 策略: manual
2025-05-23 10:50:20,049 - qmt_trading.strategy - INFO - 手动买入 300250 成功，委托号: 464762929
2025-05-23 10:50:21,727 - qmt_trading.position_manager - INFO - 更新 300250 持仓: 止损价: 从 13.96 到 13.94
2025-05-23 10:50:24,171 - qmt_trading.position_manager - INFO - 更新内存数据库的 300250 到sql数据库
2025-05-23 10:50:29,949 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:50:31,686 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-23 10:50:37,494 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-05-23 10:50:37,506 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-05-23 10:50:37,561 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-05-23 10:50:37,566 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-05-23 10:50:37,662 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:50:37,781 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:39,382 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:40,294 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:50:41,244 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:50:41,391 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:42,444 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:50:43,396 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:43,844 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:44,412 - qmt_trading.web_server - INFO - UI监控状态变更: True -> False (通过API)
2025-05-23 10:50:44,714 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:50:45,401 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:46,315 - qmt_trading.web_server - INFO - UI监控状态变更: False -> True (通过API)
2025-05-23 10:50:47,404 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:47,975 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:50:49,328 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:49,413 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:51,122 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:50:51,433 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:52,701 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:50:53,466 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:54,289 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:50:55,251 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:50:55,333 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:55,471 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:57,441 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:50:57,522 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:50:59,543 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:51:00,684 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:01,334 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:51:01,551 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:51:03,558 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:51:03,875 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:05,458 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-05-23 10:51:05,485 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:05,570 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 1000000
2025-05-23 10:51:06,187 - qmt_trading.web_server - INFO - 交易模式: 模拟, 股票代码格式化: ['300250'] -> ['300250.SZ']
2025-05-23 10:51:06,189 - qmt_trading.trading_executor - INFO - 开始买入处理: 300250.SZ, volume=None, price=None, amount=2000.0, price_type=5
2025-05-23 10:51:06,194 - qmt_trading.trading_executor - INFO - 是否为模拟交易模式: True
2025-05-23 10:51:06,368 - qmt_trading.trading_executor - INFO - 交易时间检查: True
2025-05-23 10:51:06,372 - qmt_trading.trading_executor - INFO - 模拟交易模式，强制允许交易
2025-05-23 10:51:06,381 - qmt_trading.trading_executor - INFO - 获取到 300250.SZ 卖三价: 14.95
2025-05-23 10:51:06,394 - qmt_trading.trading_executor - INFO - 模拟交易模式: 生成订单ID: SIM202505231051060001
2025-05-23 10:51:06,424 - qmt_trading.trading_executor - INFO - 保存交易记录: 300250.SZ(初灵信息) BUY 价格:14.95 数量:100 金额:1495.00 策略:simu
2025-05-23 10:51:06,440 - qmt_trading.trading_executor - INFO - 保存交易记录成功: 300250.SZ(初灵信息), BUY, 价格: 14.95, 数量: 100, 策略: simu
2025-05-23 10:51:06,440 - qmt_trading.trading_executor - INFO - 更新持仓: stock_code=300250.SZ, trade_type=BUY, price=14.95, volume=100
2025-05-23 10:51:06,455 - qmt_trading.trading_executor - INFO - 新建持仓成功: 300250.SZ(初灵信息), 数量: 100, 成本: 14.95, 结果: True
2025-05-23 10:51:06,465 - qmt_trading.trading_executor - INFO - 模拟账户资金更新: -1495.45, 余额: 998504.55
2025-05-23 10:51:06,488 - qmt_trading.trading_executor - INFO - [模拟] 买入 300250.SZ 成功，委托号: SIM202505231051060001, 价格: 14.95, 数量: 100
2025-05-23 10:51:06,564 - qmt_trading.strategy - INFO - 手动买入 300250.SZ 成功，委托号: SIM202505231051060001
2025-05-23 10:51:07,051 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:07,605 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:07,628 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:08,816 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:09,790 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:10,843 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:11,622 - qmt_trading.strategy - WARNING - 300250.SZ 持仓量不足，无法创建有效的网格交易
2025-05-23 10:51:11,757 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:11,852 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:13,870 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:13,931 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:14,747 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-05-23 10:51:15,942 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:17,099 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:17,946 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:19,333 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:19,504 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:19,951 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:20,410 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:21,465 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:21,606 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:21,608 - qmt_trading.position_manager - INFO - 更新 300250.SZ 持仓: 最高价: 从 14.93 到 14.95
2025-05-23 10:51:21,608 - qmt_trading.position_manager - INFO - 更新 300250.SZ 的最高价为 14.95
2025-05-23 10:51:21,996 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:23,544 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:24,000 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:25,330 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:26,004 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:26,805 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:28,007 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:30,193 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:30,218 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:30,805 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:31,862 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:32,706 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-05-23 10:51:32,707 - qmt_trading.main - INFO - 开始清理资源...
2025-05-23 10:51:32,710 - qmt_trading.main - INFO - 停止 data_thread...
2025-05-23 10:51:32,815 - qmt_trading.position_manager - INFO - 返回模拟账户信息，余额: 998504.5515
2025-05-23 10:51:32,828 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-05-23 10:51:32,830 - qmt_trading.main - INFO - 停止 position_thread...
2025-05-23 10:51:33,837 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-05-23 10:51:34,368 - qmt_trading.position_manager - WARNING - 未能获取 601606 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:34,500 - qmt_trading.position_manager - WARNING - 未能获取 300250.SZ 从 2025-05-23 到 2025-05-23 的历史数据，跳过更新最高价
2025-05-23 10:51:34,590 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
