# miniQMT
miniQMT for Arthur


使用python写一个用miniqmt进行量化交易的系统，功能包括：
1. 股票历史数据的获取并存储；对历史数据进行计算；
2. 计算的指标因子包括macd，10日均线，20日均线，30日均线，60日均线等；
3. 通过各个指标因子的权重发出自动交易指令，同时提供手动交易操作接口；
4. 存储当天交易成交的信息,必要时存储（用sqlite）持仓个股的价格信息，用于计算止盈止损；

交易策略遵循以下规则：
1. 分仓买入：（如每次20000元)按建仓成本价百分比向下买入补仓，如93%，86%等，达到仓位上限（如50000元）后停止买入；
2. 严格止损：整体持仓成本损失大于某个百分比（如-9.5%）后全仓止损；
3. 动态止盈：浮盈利比例越大，动态止盈位越高，允许股价回调空间越大；首次浮盈大于一定比例时卖出半仓以保证胜率，余下仓位按动态止盈位置卖出（比如最高涨幅大于15%时，止盈位为10%，最高涨幅大于20%时，止盈位为13%，最高涨幅大于30%时，止盈位为18%）；
4. 网格交易：自动对持仓个股进行网格交易，网格和交易仓位可配置（比如5%，10%，15%等，仓位为持仓个股数量*20%）；
5. 买入卖出时需要提前计算交易手数，避免资金不足或者仓位不足，以及交易所的规则（比如交易手数不能超过1000股，不能超过当日交易额度等）；为了保证交易成功，交易价格需要根据市场情况动态调整，比如根据市场卖三价和买三价，避免价格过低和过高；


设计原则遵循以下规则：
1. 每个功能用一个py文件存储；
2. 所有可配置参数集中管理，有调试开关和丰富的代码注释和调试信息;
3. 如果有log文件，定期清理，不过多占用存储空间；
4. xtquant的api参考https://dict.thinktrader.net；